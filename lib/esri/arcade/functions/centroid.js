// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/arcade/functions/centroid",["require","exports","../../geometry/Point","../../kernel"],function(u,m,n,t){function q(a,b,c){var d={x:0,y:0};b&&(d.z=0);c&&(d.m=0);for(var k=0,e=a[0],f=0;f<a.length;f++){var g=a[f],h;a:if(g.length!==e.length)h=!1;else{for(h=0;h<g.length;h++)if(g[h]!==e[h]){h=!1;break a}h=!0}if(h){h=r(e,g,b);var l=g,m=b,n=c,p={x:(e[0]+l[0])/2,y:(e[1]+l[1])/2};m&&(p.z=(e[2]+l[2])/2);m&&n?p.m=(e[3]+l[3])/2:n&&(p.m=(e[2]+l[2])/2);e=p;e.x*=h;e.y*=h;b&&(e.z*=h);c&&(e.m*=h);k+=
h;e=g}}0<k?(d.x/=k,d.y/=k,b&&(d.z/=k),c&&(d.m/=k)):(d.x=a[0][0],d.y=a[0][1],b&&(d.z=a[0][2]),c&&b?d.m=a[0][3]:c&&(d.m=a[0][2]));return d}function r(a,b,c){var d=b[0]-a[0];a=b[1]-a[1];return c?(b=b[2]-b[2],Math.sqrt(d*d+a*a+b*b)):Math.sqrt(d*d+a*a)}Object.defineProperty(m,"__esModule",{value:!0});t.version.indexOf("4.");m.centroidPolyline=function(a){for(var b={x:0,y:0,spatialReference:a.spatialReference.toJson()},c={x:0,y:0,spatialReference:a.spatialReference.toJson()},d=0,k=0,e=0;e<a.paths.length;e++)if(0!==
a.paths[e].length){var f;f=a.paths[e];var g=!0===a.hasZ;if(1>=f.length)f=0;else{for(var h=0,l=1;l<f.length-1;l++)h+=r(f[l-1],f[l],g);f=h}0===f?(g=q(a.paths[e],!0===a.hasZ,!0===a.hasM),b.x+=g.x,b.y+=g.y,!0===a.hasZ&&(b.z+=g.z),!0===a.hasM&&(b.m+=g.m),++d):(g=q(a.paths[e],!0===a.hasZ,!0===a.hasM),c.x+=g.x*f,c.y+=g.y*f,!0===a.hasZ&&(c.z+=g.z*f),!0===a.hasM&&(c.m+=g.m*f),k+=f)}return 0<k?(c.x/=k,c.y/=k,!0===a.hasZ&&(c.z/=k),!0===a.hasM&&(c.m/=k),new n(c)):0<d?(b.x/=d,b.y/=d,!0===a.hasZ&&(c.z/=d),!0===
a.hasM&&(b.m/=d),new n(b)):null};m.centroidMultiPoint=function(a){if(0===a.points.length)return null;for(var b=0,c=0,d=0,k=0,e=0;e<a.points.length;e++){var f=a.getPoint(e);!0===f.hasZ&&(d+=f.z);!0===f.hasM&&(k+=f.m);b+=f.x;c+=f.y;k+=f.m}b={x:b/a.points.length,y:c/a.points.length,spatialReference:null};b.spatialReference=a.spatialReference.toJson();!0===a.hasZ&&(b.z=d/a.points.length);!0===a.hasM&&(b.m=k/a.points.length);return new n(b)}});