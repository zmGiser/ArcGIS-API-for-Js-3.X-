// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/dataProviders/commands/createHTML/HTMLToSVGBuilder","dojo/_base/lang dojo/promise/all dojo/dom-class dojo/dom-construct dojo/dom-style dojo/when ./CSSFilesLoader ./HTMLStringBuilder esri/dijit/geoenrichment/utils/htmlToSvg/HTMLtoSVGConverter esri/dijit/geoenrichment/utils/htmlToSvg/supportClasses/imageUtils/ImageOptimizer".split(" "),function(k,l,e,b,r,h,m,n,p,q){return{htmlToSvg:function(a,d,c){return this._htmlToSvg(a,d,c)},htmlToSvgInHtml:function(a,
d,c,b){return h(this._htmlToSvg(a,c,b),function(a){return h(m.loadCssFontFiles(),function(c){return n.composeHtmlStringFromParts({reportTitle:d,contentString:a.join(""),cssFiles:c})})})},_htmlToSvg:function(a,d,c){var e=this,f=b.create("div",{style:"position: absolute; left: 0px; top: 0px; z-index: -1000;"},document.body);f.innerHTML=a;for(var g=[];f.children.length;)a=b.create("div",{style:"position: absolute; left: 0px; top: 0px; z-index: -1000;"},document.body),b.place(f.children[0],a),g.push(a);
return l(g.map(function(a,c){return e._nodeToSvg(a,{fitParams:d})})).then(function(a){b.destroy(f);g.forEach(function(a){b.destroy(a)});return q.optimizeSize(a,c)})},_nodeToSvg:function(a,b){return p.htmlToSvg(a,k.mixin({clipFunc:function(a){return a&&(e.contains(a,"shapeContainer_svgContainerShowAsBar")||e.contains(a,"imageNavigator_imagePaginationRoot"))}},b))}}});