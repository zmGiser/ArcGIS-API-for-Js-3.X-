// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/grid/coreUtils/GridQueryUtil",["./GridDataUtil"],function(e){var g={querySingleCell:function(b,a){a.fieldCell&&(a={rowId:a.fieldCell.rowId,columnId:a.fieldCell.columnId});var d;b.getFieldCells().some(function(c){if(c.parentGrid&&c.column&&c.gridData&&!(c.columnId!==a.columnId&&c.column.index!==a.columnIndex&&c.column.field!==a.columnField||c.rowId!==a.rowId&&c.gridData.index!==a.rowIndex))return d=c,!0});if(d)return d;if(a.considerSpans){var h=g.queryColumn(b,
a),k=g.queryData(b,a);if(!h||!k)return null;var f=h.index,l=k.index;b.store.data.some(function(a){return b.columns.some(function(c){var h=c.index,k=c.index+(a.columnSpans&&a.columnSpans[c.field]||0),e=a.index;c=a.index+(a.rowSpans&&a.rowSpans[c.field]||0);if(h<=f&&k>=f&&e<=l&&c>=l)return d=g.querySingleCell(b,{columnIndex:h,rowIndex:e}),!0})})}return d},queryColumn:function(b,a){var d;b.columns.some(function(b){if(b.id===a.columnId||b.index===a.columnIndex||b.field===a.columnField)return d=b,!0});
return d},queryData:function(b,a){var d;b.store.data.some(function(b){if(b.id===a.rowId||b.index===a.rowIndex)return d=b,!0});return d},queryCells:function(b,a){var d=[];if(a.fieldCell){var h=a.rowSpan||1,k=a.columnSpan||1,f=g.querySingleCell(b,a);if(f)for(var l=f.gridData.index;l<f.gridData.index+h;l++)for(var c=f.column.index;c<f.column.index+k;c++){var e=g.querySingleCell(b,{rowIndex:l,columnIndex:c});e&&d.push(e)}}else b.getFieldCells().forEach(function(b){b.columnId!==a.columnId&&b.column.index!==
a.columnIndex&&b.column.field!==a.columnField&&b.rowId!==a.rowId&&b.gridData.index!==a.rowIndex||d.push(b)});return d},getTitleCell:function(b){var a=g.querySingleCell(b,{rowIndex:0,columnIndex:0});if(a&&!e.getFieldInfo(a)&&(1==b.columns.length||e.getColumnSpan(a)==b.columns.length))return a}};return g});