// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/reportContainers/containerGridUtils/SerializationManager","dojo/_base/declare dojo/_base/lang dojo/dom-style ../../supportClasses/DocumentOptions ../../supportClasses/templateJsonUtils/FieldInfoBuilder ../../supportClasses/templateJsonUtils/PageJsonUtil ../../supportClasses/templateJsonUtils/TemplateJsonModificationUtil esri/dijit/geoenrichment/utils/DomUtil".split(" "),function(e,d,c,f,g,h,k,l){return e(null,{_wizard:null,_pendingJsonObj:null,constructor:function(a){this._wizard=
a},notifyShown:function(){if(this._canApplyJson()&&this._pendingJsonObj){var a=this._pendingJsonObj;this._pendingJsonObj=null;c.set(this._wizard.domNode,"visibility","visible");this.fromJson(a);!this._pendingJsonObj&&this._wizard.onPendingDataApplied()}},_canApplyJson:function(){return l.isNodeInLayout(this._wizard.domNode)},fromJson:function(a){this._wizard.removeFieldInfoSelection();a=a&&a.sectionsTables&&a.sectionsTables.length?a:this.getEmptyPageJson();if(this._canApplyJson()){this._pendingJsonObj=
null;c.set(this._wizard.domNode,"visibility","visible");this._wizard.clear();a.documentOptions&&k.adjustDocumentOptions(a);this._wizard.documentOptions=d.mixin(f.getDefaultDocumentOptions(),a.documentOptions);this._wizard.updateLayout();var b=this;a.sectionsTables.forEach(function(a){b._wizard.createGridFromSectionTableJson(a)})}else this._pendingJsonObj=a,c.set(this._wizard.domNode,"visibility","hidden")},getEmptyPageJson:function(a){return h.getGraphicReportEmptyPageJson({numRows:3,numColumns:2,
documentOptions:this._wizard.documentOptions,jsonToCopy:a?this._wizard.toJson():null})},addSectionFromJson:function(a,b){if(b.parentGrid)return b.parentGrid.insertFieldInfoToCell(b,g.createFieldInfoFromSection(a)),b.content},toJson:function(){var a={};a.documentOptions=d.mixin({},this._wizard.documentOptions);a.sectionsTables=this._wizard.grids.map(function(a){return a.toJson()});return a}})});