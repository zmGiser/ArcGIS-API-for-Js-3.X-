// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/templateJsonUtils/_FieldInfoDataRenderer",["../conditionalStyling/ConditionalStyleUtil"],function(l){var k={getValueFromFieldData:function(c,d){d=d||{};var a=!1!==d.formatValue,e,b=k.getFieldDataValue(c,d.fieldData,d.featureIndex);if(void 0===b||"number"==typeof b&&isNaN(b)||"NaN"==b||"null"==b)return console.log(c.name+" Error: can't calculate value"),a?"N/A":NaN;var g=Number(b);if(""!==b&&!isNaN(g)){if(!a)return g;c.triggerJson&&
(e=l.getConditionalStyle(g,c.triggerJson));a=g.toFixed(c.decimals||0);if(c.useThousandsSeparator){for(var f=a.indexOf("."),b=0<f?a.substr(f):"",a=0<f?a.substr(0,f):a,f=a.length,h=0;f--;)h++,3<h&&(h=1,b=","+b),b=a[f]+b;a=b}return e?{label:a,conditionalStyle:e,numberValue:g}:a}return a?b:NaN},getFieldDataValue:function(c,d,a){function e(b){var c=d.metadata[b],e=d.featureData[a]||d.featureData[0];return void 0!==c?c:e&&e[b]}a=Number(a);a=isNaN(a)?0:a;var b=c.name?e(c.name.toUpperCase()):void 0;void 0===
b&&c.variableID&&(b=e(c.variableID.toUpperCase()));return b}};return k});