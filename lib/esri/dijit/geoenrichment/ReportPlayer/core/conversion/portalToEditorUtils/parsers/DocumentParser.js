// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/conversion/portalToEditorUtils/parsers/DocumentParser",["dojo/_base/lang","esri/dijit/geoenrichment/utils/JsonXmlConverter","../../ConversionUtil","../../reportingEngine/ReportingEnginePageSizeCompatibilityUtil","../../../supportClasses/templateJsonUtils/FieldInfoNameUtil"],function(h,d,f,k,l){return{parseDocument:function(e,g){var b=g.templateJson,c="HTMLextReport"==e.name?e:d.queryJson(e,"HTMLextReport",!0)[0];if(c){var a=c.attributes.orientation||
"portrait";b.documentOptions.pagesize=k.tryGetStandardPageSize(c.attributes.pagesize,a);b.documentOptions.orientation=a;["left","right","top","bottom"].forEach(function(a){b.documentOptions[a]=f.ptToPx(c.attributes[a]||0)});h.mixin(b.documentOptions,f.ptToPxObj(f.parseStyleString(c.attributes.style)));if(a=d.queryJson(e,"def",!0)[0])a.attributes.align&&(b.documentOptions.align=a.attributes.align),a.attributes.lineSpacing&&(b.documentOptions.lineSpacing=f.ptToPx(a.attributes.lineSpacing));g.revisionVersion=
c.attributes.revisionVersion?Number(c.attributes.revisionVersion):-1;a=(a=(a=d.queryJson(e,"queries",!0)[0])&&d.queryJson(a,"query")[0])&&d.queryJson(a,"join")[0];b.mainCalculatorName=a&&a.attributes.table||l.DATA_COLLECTIONS_CALCULATOR_NAME}}}});