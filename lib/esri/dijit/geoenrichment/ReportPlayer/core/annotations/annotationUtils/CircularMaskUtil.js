// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/annotations/annotationUtils/CircularMaskUtil",["dojo/dom-construct","dojo/dom-style","dojox/gfx","dojox/gfx/matrix","esri/dijit/geoenrichment/utils/DomUtil"],function(h,e,l,m,k){return{setCircularMask:function(b,a,g,n){var c;a&&a.__maskNode&&(h.destroy(a.__maskNode),delete a.__maskNode);if(b){c=h.create("div");a.__maskNode=c;b=e.get(a,"width");var f=e.get(a,"height"),d=Math.min(b,f)/2,p=b/2-d,q=f/2-d;g=l.createSurface(c,b,f).createImage({x:0,y:0,
width:b,height:f,src:g});g.setClip({cx:p+d,cy:q+d,rx:d,ry:d}).applyTransform(m.rotategAt(n||0,b/2,f/2));g.rawNode.setAttribute("preserveAspectRatio","xMidYMid meet");h.place(c,a,"after");e.set(c,{position:"absolute",left:e.get(a,"left")+"px",top:e.get(a,"top")+"px"});k.hide(a)}else k.show(a);return c}}});