// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/layers/support/attributeUtils","dojo/_base/lang dojo/has dojox/encoding/digests/_base dojox/encoding/digests/MD5 ../../kernel ../../renderers/arcadeUtils".split(" "),function(g,k,l,m,n,h){var f={viewScaleRE:/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,getAttributeId:function(a){return"string"===typeof a?m(a,l.outputTypes.Hex):null},getAttributeIdSource:function(a){if(!a)return null;var b=a.field,d=a.valueExpression,c=null;if(d)c=d;else if(g.isFunction(b))c=b.toString();else if(b){var e=
(d=a.normalizationField)?"field":a.normalizationType;a=parseFloat(a.normalizationTotal);if(e)if(e=e.toLowerCase(),c=b.toLowerCase()+",norm:"+e,d)c+=","+d.toLowerCase();else if("percent-of-total"===e){b=a;if("number"!==typeof b||isNaN(b)||Infinity===b||-Infinity===b||0===a)a=null;c+=","+a}}return c},createAttributeCache:function(a,b){if(!a)return null;var d=a.valueExpression,c=h.createSyntaxTree(d),e=f.getAttributeIdSource(a);return{attributeInfo:a,isNumeric:!b,idSource:e,id:f.getAttributeId(e),hasExpr:!!d,
compiledFunc:h.createFunction(c),syntaxTree:c,isScaleDriven:!!a.expression||f.viewScaleRE.test(d),dependsOnView:c?h.dependsOnView(c):!1,isJSFunc:g.isFunction(a.field)}}};k("extend-esri")&&g.setObject("layers.support.attributeUtils",f,n);return f});