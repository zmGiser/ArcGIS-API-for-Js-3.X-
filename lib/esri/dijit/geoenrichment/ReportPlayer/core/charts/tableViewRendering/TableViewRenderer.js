// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/tableViewRendering/TableViewRenderer",["dojo/_base/declare","dijit/Destroyable","../../supportClasses/TableUtil"],function(d,e,g){var f={IS_PERCENT_RE:/_P$/i,buildSectionJsonFromSeriesItems:function(a,b,d,e){var f=this,h=1===a.length;a=a.map(function(a){return a.points.map(function(c){return{name:c.fieldName,alias:c.label,fieldCategory:h?"":a.label,hasVariable:!0,variableID:c.calculator.substr(c.calculator.lastIndexOf(".")+1),fullName:c.calculator.substr(c.calculator.indexOf("/")+
1),statefulName:c.calculator,decimals:b.dataLabelsDecimals||0,showPercent:f.IS_PERCENT_RE.test(c.fieldName),useThousandsSeparator:!0}})});return g.createDetailsSectionForFieldInfoGroups(a,{width:d,height:e})}};return d(e,{_tableSection:null,renderTableForChart:function(a){this._destroyTable();if(a.seriesItems&&a.seriesItems.length){var b={"class":"chartContainer_tableSection"};b.initialWidth=a.width;b.json=f.buildSectionJsonFromSeriesItems(a.seriesItems,a.visualProperties,a.width,a.height);b.viewModel=
a.viewModel;b.themeContext=a.themeContext;b.theme=a.theme;b.tableClass="chartContainerChartTable";b.hasFixedLayout=!1;this._provideParamsForTableSection(b,a);this._tableSection=a.viewModel.layoutBuilder.createElement("section",b,a.tableNode);this._tableSection.setResizedHeight(a.height);this._tableSection.setViewMode(this._viewMode||"previewValues")}},_provideParamsForTableSection:function(a,b){},_viewMode:null,setViewMode:function(a){this._viewMode=a;this._tableSection&&this._tableSection.setViewMode(a)},
destroyTable:function(){this._destroyTable()},_destroyTable:function(){this._tableSection&&this._tableSection.destroy();this._tableSection=null},destroy:function(){this._destroyTable();this.inherited(arguments)}})});