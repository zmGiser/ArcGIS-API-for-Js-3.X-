// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/templateJsonUtils/FieldInfoRenderer",["./utils","./_FieldInfoPreviewRenderer","./_FieldInfoDataRenderer","./countryConfig","dojo/i18n!../../../../../../nls/jsapi"],function(g,h,f,n,e){e=e.geoenrichment.dijit.ReportPlayer.ReportPlayer;var d={},k={renderPreview:function(a,b){return b.fieldData?f.getValueFromFieldData(a,b):h.getValuePreview(a,b)},tryGetConditionalStylePreview:function(a,b,c){"string"==typeof a&&c&&!c.previewValues&&(b=
h.getConditionalStylePreview(b,c))&&(a={label:a,conditionalStyle:c.previewConditionalStyle?b:!1});return a}},l={buildVariableLabel:function(a){function b(a,c){return!a||a.length<=c?a:a.substr(0,c-3)+"..."}function c(a,c){var b;switch(c){case "p":b=e.statePercent;break;case "a":b=e.stateAverage;break;case "i":b=e.stateIndex;break;case "r":b=e.stateReliability;break;default:return a}return a+" ("+b+")"}return"["+(a.isWebMap?b(a.webMapFieldName,15)+"(WebMap)":a.isCustomDataCollection?b(a.alias,15)+"(CustomData)":
c(a.variableID,a.statefulName&&a.statefulName.charAt(0).toLowerCase()))+"]"},buildScriptLabel:function(a){return"["+g.name.renderScriptName(a.name)+"]"}},m={renderRichTextFieldInfoInTableCell:function(a,b){return g.richText.createRichTextFromFieldInfo(a,function(a){return(a=d.renderFieldInfoInTableCell(a,b))&&a.label||a},function(a){return(a=d.renderFieldInfoInTableCell(a,b))&&a.label||a})}};d.renderFieldInfoInTableCell=function(a,b){if(a.isRichText)return m.renderRichTextFieldInfoInTableCell(a,b);
var c;c=a.isMissing?e.missingVariable:b&&b.previewValues?k.renderPreview(a,b):a.hasVariable?l.buildVariableLabel(a):a.script?l.buildScriptLabel(a.script):"["+a.alias+"]";var d=(c=k.tryGetConditionalStylePreview(c,a,b))&&c.label||c;if(a.hasVariable||a.script)a.showCurrency&&(d=n.getCurrencySymbol()+d),a.showPercent&&(d=b&&b.previewValues?d+"%":"%"+d);"object"==typeof c?c.label=d:c=d;return c};d.renderRichTextFieldInfoInTableCell=m.renderRichTextFieldInfoInTableCell;d.getValueFromFieldData=f.getValueFromFieldData;
d.getFieldDataValue=f.getFieldDataValue;return d});