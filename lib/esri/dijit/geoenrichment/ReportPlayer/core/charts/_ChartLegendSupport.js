// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/_ChartLegendSupport","dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style ./chartUtils/ChartTypes ./chartUtils/ChartStyleUtil esri/dijit/geoenrichment/SelectableLegend".split(" "),function(c,d,e,g,f,b,h,k){return c(null,{legend:null,_excludedSeriesHash:null,_createLegend:function(){this._excludedSeriesHash={};if("None"!=this._currentVisualProperties.legend.placement){var a=g.create("div",null,this.getLegendNode());
this.legend=new k(d.mixin({chart:this.chart,allowSelect:!!this.viewModel.dynamicReportInfo&&-1!=[b.COLUMN,b.LINE,b.BAR].indexOf(this._currentChartType),isRtlPlacement:"Left"==this._currentVisualProperties.legend.placement,keepItemsTheSameWidth:!0,onSeriesExclusionChanged:d.hitch(this,this._onSeriesExclusionChanged)},this._getAdditionalLegendParams()),a);a=this.viewModel.getChartDefaultStyles(this.theme||this.themeContext);a=d.mixin({},a.legendStyle,this._currentVisualProperties.legend.style);f.set(this.legend.domNode,
h.getStyleObjWithUnits(a));this._currentVisualProperties.legend.hasBorder||f.set(this.legend.domNode,"border","none")}var c=this;this._placements.forEach(function(a){e.remove(c.domNode,"legendPlacement"+a)});e.add(this.domNode,"legendPlacement"+this._currentVisualProperties.legend.placement)},_getAdditionalLegendParams:function(){return null},_onSeriesExclusionChanged:function(a){this._excludedSeriesHash=a;this._updateSeries()},_updateLegend:function(){if(this.legend){this.legend.series=this._currentSeries;
this.legend.showSeriesData=1==this._currentSeriesItems.length||this._currentChartType==b.PIE||this._currentChartType==b.DONUT||this._currentChartType==b.RING;var a=!!this.viewModel.dynamicReportInfo&&1<this._currentSeries.length;a!=this.legend.allowSelect&&(this.legend.allowSelect=a);this.legend.refresh()}},_updateSeries:function(){},_destroyLegend:function(){this.legend&&this.legend.destroy();this.legend=null}})});