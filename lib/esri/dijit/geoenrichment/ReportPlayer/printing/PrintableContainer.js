// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/printing/PrintableContainer","dojo/_base/declare dojo/when dojo/dom-class dojo/dom-construct dojo/dom-style esri/dijit/geoenrichment/utils/DomUtil ./_PrintSettingsSupport".split(" "),function(f,c,g,k,l,d,h){return f(h,{domNode:null,_player:null,_viewModel:null,_visualState:null,_rollBackFunc:null,_pageSettingsRollBackFunc:null,_pageSettings:null,_pageFitParams:null,_headerFooterParams:null,_commandId:null,constructor:function(a,b){this._player=a;this._viewModel=
b;this.domNode=a.printableDiv},initialize:function(a){var b=this;this._commandId=a.commandId;return c(function(){function a(){b._setPrintMode(!0);var a=b._getReportContainer();a.resetZoom&&a.resetZoom();e=a.getCurrentPageIndex&&a.getCurrentPageIndex();a.showAllPages&&a.showAllPages();a.collapseContent&&a.collapseContent();d.hideNodeInBackground(b.domNode)}function c(){d.showNodeFromBackground(b.domNode);var a=b._getReportContainer();a.showPageAt&&a.showPageAt(e);b._setPrintMode(!1);return b._player.resize()}
var e;if(b._player.isSlidesView)return b._player.isSlidesView=!1,b._rollBackFunc=function(){c();b._player.isSlidesView=!0;return b._player.refresh({waitUntilAllContentIsReady:!1})},b._player.refresh({waitUntilAllContentIsReady:!0}).then(function(){a()});a();b._rollBackFunc=c;return b._player.isContentLoading()}(),function(){return c(b._checkPrintSettings(a),function(a){return"cancel"===a?null:b})})},_setPrintMode:function(a){this._viewModel.chartAnimationAllowed=!a;g[a?"add":"remove"](this.domNode,
"esriGEReportPlayerPrintNode esriGEReportPlayer");this._player.setPrintMode(a)},_getReportContainer:function(){return this._player.getCurrentReportContainer()},getFitParams:function(){return this._pageFitParams},getHeaderFooterParams:function(){return this._headerFooterParams},getDocumentOptions:function(){return this._pageSettings||this._getReportContainer().documentOptions},getSelectedCommandId:function(){return this._commandId},stop:function(){return this._rollBackPrintSettings()},_rollBackPrintSettings:function(){var a=
this;return c(this._pageSettingsRollBackFunc&&this._pageSettingsRollBackFunc(),function(){return c(a._rollBackFunc&&a._rollBackFunc())})}})});