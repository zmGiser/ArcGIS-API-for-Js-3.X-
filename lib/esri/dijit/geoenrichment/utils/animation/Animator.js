// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/animation/Animator",["dojo/Deferred","dojo/fx/easing"],function(k,e){function f(a){for(var b in a.params.properties){var c=a.params.properties[b],d=c.easing&&"function"==typeof e[c.easing]?e[c.easing](a.progress):a.progress,d=c.start+d*(c.end-c.start);a.obj[b]=c.addPx?d+"px":d;a.progressFunction&&a.progressFunction(b,d)}}function g(a){1>a.progress&&!a.isStopped?a._executeAnimation=l.setTimeout(function(){var b=(new Date).getTime();a.progress=1-(a.endTime-b)/
a.duration;a.progress=Math.min(1,a.progress);f(a);g(a)}):a.endFunction()}var h={},l={_funcs:null,setTimeout:function(a){var b=this;this._funcs?this._funcs.push(a):(this._funcs=[a],setTimeout(function(){var a=b._funcs;b._funcs=null;a.forEach(function(a){a()})},33))}};h.animateProperty=function(a){var b={},c=new k;b.promise=c.promise;b.params=a;b.obj=a.obj||a.node;b.duration=void 0!==a.duration?a.duration:1E3;b.startTime=(new Date).getTime();b.endTime=b.startTime+b.duration;b.progress=1-(b.endTime-
b.startTime)/b.duration;b.endFunction=function(){a.endFunction&&a.endFunction();c.resolve()};b.progressFunction=a.progressFunction;b.stop=function(){clearTimeout(b._executeAnimation);b.isStopped=!0};f(b);g(b);return b};return h});