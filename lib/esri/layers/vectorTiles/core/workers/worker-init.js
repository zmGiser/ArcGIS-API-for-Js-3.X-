// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.22/esri/copyright.txt for details.
//>>built
(function(g,n){var m,l=function(){},p=function(a){for(var d in a)return 0;return 1},x={}.toString,q=function(a){return"[object Function]"==x.call(a)},u=function(a){return"[object String]"==x.call(a)},c=function(a){return"[object Array]"==x.call(a)},b=function(a,d){if(a)for(var b=0;b<a.length;)d(a[b++])},e=function(a,d){for(var b in d)a[b]=d[b];return a},f=function(a,d){return e(Error(a),{src:"dojoLoader",info:d})},y=1,oa=function(){return"_"+y++},k=function(a,d,b){return pa(a,d,b,0,k)},F=this,M=F.document,
Ia=M&&M.createElement("DiV"),r=k.has=function(a){return q(D[a])?D[a]=D[a](F,M,Ia):D[a]},D=r.cache=n.hasCache;r.add=function(a,d,b,h){(void 0===D[a]||h)&&(D[a]=d);return b&&r(a)};e(n.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0});n.loaderPatch={injectUrl:function(a,d){try{importScripts(a),d()}catch(t){console.info("failed to load resource ("+a+")"),console.error(t)}}};for(var A in g.has)r.add(A,g.has[A],0,1);
k.async=1;var Ja=r("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");k.eval=function(a,d){return Ja(a+"\r\n//# sourceURL\x3d"+d)};var aa={},C=k.signal=function(a,d){var t=aa[a];b(t&&t.slice(0),function(a){a.apply(null,c(d)?d:[d])})},N=k.on=function(a,d){var b=aa[a]||(aa[a]=[]);b.push(d);return{remove:function(){for(var a=0;a<b.length;a++)if(b[a]===d){b.splice(a,1);break}}}},qa=[],Ka={},ra=[],G={},sa=k.map={},O=[],v={},ba="",H={},P={};A={};var da=function(a){var d,b,h,e;for(d in P)b=
P[d],(h=d.match(/^url\:(.+)/))?H["url:"+ta(h[1],a)]=b:"*now"==d?e=b:"*noref"!=d&&(h=R(d,a,!0),H[h.mid]=H["url:"+h.url]=b);e&&e(ca(a));P={}},ua=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},ea=function(a,d){d.splice(0,d.length);for(var b in a)d.push([b,a[b],new RegExp("^"+ua(b)+"(/|$)"),b.length]);d.sort(function(a,b){return b[3]-a[3]});return d},La=function(a,d){b(a,function(a){d.push([u(a[0])?new RegExp("^"+ua(a[0])+"$"):a[0],a[1]])})},va=function(a){var b=
a.name;b||(b=a,a={name:b});a=e({main:"main"},a);a.location=a.location?a.location:b;a.packageMap&&(sa[b]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));G[b]=a},wa=[],J=function(a,d,t){for(var h in a){"waitSeconds"==h&&(k.waitms=1E3*(a[h]||0));"cacheBust"==h&&(ba=a[h]?u(a[h])?a[h]:(new Date).getTime()+"":"");if("baseUrl"==h||"combo"==h)k[h]=a[h];a[h]!==D&&(k.rawConfig[h]=a[h],"has"!=h&&r.add("config-"+h,a[h],0,d))}k.baseUrl||(k.baseUrl="./");/\/$/.test(k.baseUrl)||(k.baseUrl+="/");
for(h in a.has)r.add(h,a.has[h],0,d);b(a.packages,va);for(var f in a.packagePaths)b(a.packagePaths[f],function(a){var b=f+"/"+a;u(a)&&(a={name:a});a.location=b;va(a)});ea(e(sa,a.map),O);b(O,function(a){a[1]=ea(a[1],[]);"*"==a[0]&&(O.star=a)});ea(e(Ka,a.paths),ra);La(a.aliases,qa);if(d)wa.push({config:a.config});else for(h in a.config)d=E(h,t),d.config=e(d.config||{},a.config[h]);a.cache&&(da(),P=a.cache,a.cache["*noref"]&&da());C("config",[a,k.rawConfig])};if(r("dojo-cdn")){var xa=M.getElementsByTagName("script");
m=0;for(var S,w,T,K;m<xa.length;)if(S=xa[m++],(T=S.getAttribute("src"))&&(K=T.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(w=K[3]||"",n.baseUrl=n.baseUrl||w),T=S.getAttribute("data-dojo-config")||S.getAttribute("djConfig"))A=k.eval("({ "+T+" })","data-dojo-config")}k.rawConfig={};J(n,1);r("dojo-cdn")&&((G.dojo.location=w)&&(w+="/"),G.dijit.location=w+"../dijit/",G.dojox.location=w+"../dojox/");J(g,1);J(A,1);var ga=function(a){fa(function(){b(a.deps,ya)})},pa=function(a,b,t,h,Q){var d;if(u(a)){if((d=E(a,
h,!0))&&d.executed)return d.result;throw f("undefinedModule",a);}c(a)||(J(a,0,h),a=b,b=t);if(c(a))if(a.length){t="require*"+oa();for(var y,g=[],m=0;m<a.length;)y=a[m++],g.push(E(y,h));d=e(U("",t,0,""),{injected:2,deps:g,def:b||l,require:h?h.require:k,gc:1});v[d.mid]=d;ga(d);var n=L&&!0;fa(function(){ha(d,n)});d.executed||B.push(d);ia()}else b&&b();return Q},ca=function(a){if(!a)return k;var b=a.require;b||(b=function(d,h,e){return pa(d,h,e,a,b)},a.require=e(b,k),b.module=a,b.toUrl=function(b){return ta(b,
a)},b.toAbsMid=function(b){return ja(b,a)});return b},B=[],V=[],z={},Na=function(a){a.injected=1;z[a.mid]=1;a.url&&(z[a.url]=a.pack||1);za()},X=function(a){a.injected=2;delete z[a.mid];a.url&&delete z[a.url];p(z)&&W()},Oa=k.idle=function(){return!V.length&&p(z)&&!B.length&&!L},ka=function(a,b){if(b)for(var d=0;d<b.length;d++)if(b[d][2].test(a))return b[d];return 0},Aa=function(a){var b=[],e,h;for(a=a.replace(/\\/g,"/").split("/");a.length;)e=a.shift(),".."==e&&b.length&&".."!=h?(b.pop(),h=b[b.length-
1]):"."!=e&&b.push(h=e);return b.join("/")},U=function(a,b,e,h){return{pid:a,mid:b,pack:e,url:h,executed:0,def:0}},Ba=function(a,d,e,h,c,k,y,g,m){var t,Q,l,n;n=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||n&&!d)return U(0,a,0,a);a=Aa(n?d.mid+"/../"+a:a);if(/^\./.test(a))throw f("irrationalPath",a);d&&(l=ka(d.mid,k));(l=(l=l||k.star)&&ka(a,l[1]))&&(a=l[1]+a.substring(l[3]));d=(K=a.match(/^([^\/]+)(\/(.+))?$/))?K[1]:"";(t=e[d])?a=d+"/"+(Q=K[3]||t.main):d="";var p=0;b(g,function(b){var d=a.match(b[0]);
d&&0<d.length&&(p=q(b[1])?a.replace(b[0],b[1]):b[1])});if(p)return Ba(p,0,e,h,c,k,y,g,m);if(e=h[a])return m?U(e.pid,e.mid,e.pack,e.url):h[a];h=(l=ka(a,y))?l[1]+a.substring(l[3]):d?t.location+"/"+Q:r("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(h)||(h=c+h);return U(d,a,t,Aa(h+".js"))},R=function(a,b,e){return Ba(a,b,G,v,k.baseUrl,e?[]:O,e?[]:ra,e?[]:qa)},Ca=function(a,b,e){return a.normalize?a.normalize(b,function(a){return ja(a,e)}):ja(b,e)},Da=0,E=function(a,b,e){var d,f;(d=a.match(/^(.+?)\!(.*)$/))?
(f=E(d[1],b,e),5!==f.executed||f.load||la(f),f.load?(d=Ca(f,d[2],b),a=f.mid+"!"+(f.dynamic?++Da+"!":"")+d):(d=d[2],a=f.mid+"!"+ ++Da+"!waitingForPlugin"),a={plugin:f,mid:a,req:ca(b),prid:d}):a=R(a,b);return v[a.mid]||!e&&(v[a.mid]=a)},ja=k.toAbsMid=function(a,b){return R(a,b).mid},ta=k.toUrl=function(a,b){var d=R(a+"/x",b),e=d.url;return Ea(0===d.pid?a:e.substring(0,e.length-5))},Fa={injected:2,executed:5,def:3,result:3};w=function(a){return v[a]=e({mid:a},Fa)};var Pa=w("require"),Qa=w("exports"),
Ra=w("module"),Y={},ma=0,la=function(a){var b=a.result;a.dynamic=b.dynamic;a.normalize=b.normalize;a.load=b.load;return a},Sa=function(a){var d={};b(a.loadQ,function(b){var f=Ca(a,b.prid,b.req.module),h=a.dynamic?b.mid.replace(/waitingForPlugin$/,f):a.mid+"!"+f,f=e(e({},b),{mid:h,prid:f,injected:0});v[h]&&v[h].injected||Ga(v[h]=f);d[b.mid]=v[h];X(b);delete v[b.mid]});a.loadQ=0;var f=function(a){for(var b=a.deps||[],e=0;e<b.length;e++)(a=d[b[e].mid])&&(b[e]=a)},h;for(h in v)f(v[h]);b(B,f)},na=function(a){k.trace("loader-finish-exec",
[a.mid]);a.executed=5;a.defOrder=ma++;a.loadQ&&(la(a),Sa(a));for(m=0;m<B.length;)B[m]===a?B.splice(m,1):m++;/^require\*/.test(a.mid)&&delete v[a.mid]},Ta=[],ha=function(a,b){if(4===a.executed)return k.trace("loader-circular-dependency",[Ta.concat(a.mid).join("-\x3e")]),!a.def||b?Y:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return Y;var d=a.mid,e=a.deps||[],c,y=[],l=0;for(a.executed=4;c=e[l++];){c=c===Pa?ca(a):c===Qa?a.cjs.exports:c===Ra?a.cjs:ha(c,b);if(c===Y)return a.executed=0,k.trace("loader-exec-module",
["abort",d]),Y;y.push(c)}k.trace("loader-run-factory",[a.mid]);var d=a.def,g;if(r("config-dojo-loader-catches"))try{g=q(d)?d.apply(null,y):d}catch(Ma){C("error",a.result=f("factoryThrew",[a,Ma]))}else g=q(d)?d.apply(null,y):d;a.result=void 0===g&&a.cjs?a.cjs.exports:g;na(a)}return a.result},L=0,fa=function(a){try{L++,a()}catch(d){throw d;}finally{L--}Oa()&&C("idle",[])},ia=function(){L||fa(function(){for(var a,b,e=0;e<B.length;)a=ma,b=B[e],ha(b),a!=ma?e=0:e++})};void 0===r("dojo-loader-eval-hint-url")&&
r.add("dojo-loader-eval-hint-url",1);var Ea="function"==typeof g.fixupUrl?g.fixupUrl:function(a){a+="";return a+(ba?(/\?/.test(a)?"\x26":"?")+ba:"")},Ga=function(a){var b=a.plugin;5!==b.executed||b.load||la(b);var e=function(b){a.result=b;X(a);na(a);ia()};b.load?b.load(a.prid,a.req,e):b.loadQ?b.loadQ.push(a):(b.loadQ=[a],B.unshift(b),ya(b))},I=0,Ua=function(a,b){r("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));if(r("config-dojo-loader-catches"))try{a===I?I.call(null):k.eval(a,r("dojo-loader-eval-hint-url")?
b.url:b.mid)}catch(t){C("error",f("evalModuleThrew",b))}else a===I?I.call(null):k.eval(a,r("dojo-loader-eval-hint-url")?b.url:b.mid)},ya=function(a){var b=a.mid,c=a.url;if(!(a.executed||a.injected||z[b]||a.url&&(a.pack&&z[a.url]===a.pack||1==z[a.url])))if(Na(a),a.plugin)Ga(a);else{var h=function(){Va(a);if(2!==a.injected){if(r("dojo-enforceDefine")){C("error",f("noDefine",a));return}X(a);e(a,Fa);k.trace("loader-define-nonmodule",[a.url])}ia()};(I=H[b]||H["url:"+a.url])?(k.trace("loader-inject",["cache",
a.mid,c]),Ua(I,a),h()):(k.trace("loader-inject",["script",a.mid,c]),k.injectUrl(Ea(c),h,a))}},Ha=function(a,b,c){k.trace("loader-define-module",[a.mid,b]);if(2===a.injected)return C("error",f("multipleDefine",a)),a;e(a,{deps:b,def:c,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(b){a.cjs.exports=b},config:function(){return a.config}}});for(var d=0;b[d];d++)b[d]=E(b[d],a);X(a);q(c)||b.length||(a.result=c,na(a));return a},Va=function(a,e){for(var d=[],f,c;V.length;)c=V.shift(),e&&(c[0]=
e.shift()),f=c[0]&&E(c[0])||a,d.push([f,c[1],c[2]]);da(a);b(d,function(a){ga(Ha.apply(null,a))})},Z=0,W=l,za=l,W=function(){Z&&clearTimeout(Z);Z=0},za=function(){W();k.waitms&&(Z=F.setTimeout(function(){W();C("error",f("timeout",z))},k.waitms))};k.log=function(){try{for(var a=0;a<arguments.length;a++)console.log(arguments[a])}catch(d){}};k.trace=l;w=function(a,b,e){var d=arguments.length,f=["require","exports","module"],c=[0,a,b];1==d?c=[0,q(a)?f:[],a]:2==d&&u(a)?c=[a,q(b)?f:[],b]:3==d&&(c=[a,b,e]);
k.trace("loader-define",c.slice(0,2));(d=c[0]&&E(c[0]))&&!z[d.mid]?ga(Ha(d,c[1],c[2])):(r("ie-event-behavior"),V.push(c))};w.amd={vendor:"dojotoolkit.org"};e(e(k,n.loaderPatch),g.loaderPatch);N("error",function(a){try{if(console.error(a),a instanceof Error){for(var b in a)console.log(b+":",a[b]);console.log(".")}}catch(t){}});e(k,{uid:oa,cache:H,packs:G});F.define?C("error",f("defineAlreadyDefined",0)):(F.define=w,F.require=k,b(wa,function(a){J(a)}),N=A.deps||g.deps||n.deps,A=A.callback||g.callback||
n.callback,k.boot=N||A?[N||[],A]:0)})(this.dojoConfig||this.djConfig||this.require||{},{async:1,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dgrid1",main:"OnDemandGrid",name:"dgrid1"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../put-selector",
main:"put",name:"put-selector"},{location:"../xstyle",name:"xstyle"},{location:"../moment",main:"moment.js",name:"moment"},{location:"../esri",name:"esri"}]});
require({cache:{"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(g,n){n.add("bug-for-in-skips-shadowed",function(){for(var b in{toString:1})return 0;return 1});var m=n("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],l=m.length,p=function(b,e,f){f||(f=b[0]&&g.scopeMap[b[0]]?g.scopeMap[b.shift()][1]:g.global);try{for(var c=0;c<b.length;c++){var l=b[c];if(!(l in f))if(e)f[l]={};else return;
f=f[l]}return f}catch(k){}},x=Object.prototype.toString,q=function(b,e,f){return(f||[]).concat(Array.prototype.slice.call(b,e||0))},u=/\{([^\}]+)\}/g,c={_extraNames:m,_mixin:function(b,e,f){var c,g,k,p={};for(c in e)g=e[c],c in b&&(b[c]===g||c in p&&p[c]===g)||(b[c]=f?f(g):g);if(n("bug-for-in-skips-shadowed")&&e)for(k=0;k<l;++k)c=m[k],g=e[c],c in b&&(b[c]===g||c in p&&p[c]===g)||(b[c]=f?f(g):g);return b},mixin:function(b,e){b||(b={});for(var f=1,g=arguments.length;f<g;f++)c._mixin(b,arguments[f]);
return b},setObject:function(b,e,c){var f=b.split(".");b=f.pop();return(c=p(f,!0,c))&&b?c[b]=e:void 0},getObject:function(b,e,c){return b?p(b.split("."),e,c):c},exists:function(b,e){return void 0!==c.getObject(b,!1,e)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:Array.isArray||function(b){return"[object Array]"==x.call(b)},isFunction:function(b){return"[object Function]"===x.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||c.isArray(b)||
c.isFunction(b))},isArrayLike:function(b){return!!b&&!c.isString(b)&&!c.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&(c.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!c.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(String(b))},extend:function(b,e){for(var f=1,g=arguments.length;f<g;f++)c._mixin(b.prototype,arguments[f]);return b},_hitchArgs:function(b,e){var f=c._toArray(arguments,2),l=c.isString(e);return function(){var m=c._toArray(arguments),k=l?(b||g.global)[e]:
e;return k&&k.apply(b||this,f.concat(m))}},hitch:function(b,e){if(2<arguments.length)return c._hitchArgs.apply(g,arguments);e||(e=b,b=null);if(c.isString(e)){b=b||g.global;if(!b[e])throw['lang.hitch: scope["',e,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[e].apply(b,arguments||[])}}return b?function(){return e.apply(b,arguments||[])}:e},delegate:function(){function b(){}return function(e,f){b.prototype=e;var g=new b;b.prototype=null;f&&c._mixin(g,f);return g}}(),_toArray:n("ie")?
function(){function b(b,c,g){g=g||[];for(c=c||0;c<b.length;c++)g.push(b[c]);return g}return function(c){return(c.item?b:q).apply(this,arguments)}}():q,partial:function(b){return c.hitch.apply(g,[null].concat(c._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||c.isFunction(b))return b;if(b.nodeType&&"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return new RegExp(b);var e,f,g;if(c.isArray(b))for(e=[],f=0,g=b.length;f<
g;++f)f in b&&(e[f]=c.clone(b[f]));else e=b.constructor?new b.constructor:{};return c._mixin(e,b,c.clone)},trim:String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(b,e,f){return b.replace(f||u,c.isFunction(e)?e:function(b,f){return c.getObject(f,!1,e)})}};c.mixin(g,c);return c})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(g,n,m,l){var p,x=function(){return this}(),q={},u={},
c={config:n,global:x,dijit:q,dojox:u},q={dojo:["dojo",c],dijit:["dijit",q],dojox:["dojox",u]};l=m.map&&m.map[l.id.match(/[^\/]+/)[0]];for(p in l)q[p]?q[p][0]=l[p]:q[p]=[l[p],{}];for(p in q)l=q[p],l[1]._scopeName=l[0],n.noGlobals||(x[l[0]]=l[1]);c.scopeMap=q;c.baseUrl=c.config.baseUrl=m.baseUrl;c.isAsync=m.async;c.locale=n.locale;x="$Rev: 594ed6f $".match(/[0-9a-f]{7,}/);c.version={major:1,minor:12,patch:2,flag:"",revision:x?x[0]:NaN,toString:function(){var b=c.version;return b.major+"."+b.minor+"."+
b.patch+b.flag+" ("+b.revision+")"}};g("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c);c.exit=function(){};g.add("dojo-debug-messages",!!n.isDebug);c.deprecated=c.experimental=function(){};g("dojo-debug-messages")&&(c.deprecated=function(b,c,f){b="DEPRECATED: "+b;c&&(b+=" "+c);f&&(b+=" -- will be removed in version: "+f);console.warn(b)},c.experimental=function(b,c){var e="EXPERIMENTAL: "+b+" -- APIs subject to change without notice.";
c&&(e+=" "+c);console.warn(e)});if(n.modulePaths){c.deprecated("dojo.modulePaths","use paths configuration");g={};for(p in n.modulePaths)g[p.replace(/\./g,"/")]=n.modulePaths[p];m({paths:g})}c.moduleUrl=function(b,e){c.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var f=null;b&&(f=m.toUrl(b.replace(/\./g,"/")+(e?"/"+e:"")+"/*.*").replace(/\/\*\.\*/,"")+(e?"":"/"));return f};c._hasResource={};return c})},"dojo/has":function(){define(["require","module"],function(g,n){var m=g.has||function(){};
m.clearElement=function(g){g.innerHTML="";return g};m.normalize=function(g,p){var l=g.match(/[\?:]|[^:\?]*/g),n=0,u=function(c){var b=l[n++];if(":"==b)return 0;if("?"==l[n++]){if(!c&&m(b))return u();u(!0);return u(c)}return b||0};return(g=u())&&p(g)};m.load=function(g,m,n){g?m([g],n):n()};return m})},"dojo/_base/config":function(){define(["../has","require"],function(g,n){var m={},l=n.rawConfig,p;for(p in l)m[p]=l[p];!m.locale&&"undefined"!=typeof navigator&&(l=navigator.languages&&navigator.languages.length?
navigator.languages[0]:navigator.language||navigator.userLanguage)&&(m.locale=l.toLowerCase());return m})},"dojo/sniff":function(){define(["./has"],function(g){return g})}}});(function(){var g=this.require;g({cache:{}});!g.async&&g(["dojo"]);g.boot&&g.apply(null,g.boot)})();
//>>built
require({cache:{"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","./kernel"],function(m,a,g,n){var b=function(){return this}(),d={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,
0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,panDuration:350,panRate:25,logoLink:"http://www.esri.com"},autoSpatialIndexing:b.Worker&&!1,io:{errorHandler:function(h,c){a.publish("esri.Error",[h])},proxyUrl:null,alwaysUseProxy:!1,useCors:"with-credentials",corsEnabledServers:"server.arcgisonline.com services.arcgisonline.com www.arcgis.com js.arcgis.com jsdev.arcgis.com jsqa.arcgis.com tiles.arcgis.com tiles1.arcgis.com tiles2.arcgis.com tiles3.arcgis.com tiles4.arcgis.com basemaps.arcgis.com basemapsbeta.arcgis.com elevation3d.arcgis.com services.arcgis.com services1.arcgis.com services2.arcgis.com services3.arcgis.com services4.arcgis.com services5.arcgis.com services6.arcgis.com services7.arcgis.com services8.arcgis.com services9.arcgis.com cdn.arcgis.com cdn-a.arcgis.com cdn-b.arcgis.com static.arcgis.com utility.arcgis.com utility.arcgisonline.com geocode.arcgis.com geoenrich.arcgis.com qaext.arcgis.com staticqa.arcgis.com tilesqa.arcgis.com servicesqa.arcgis.com servicesqa1.arcgis.com servicesqa2.arcgis.com servicesqa3.arcgis.com geocodeqa.arcgis.com geoenrichqa.arcgis.com dev.arcgis.com devext.arcgis.com localvtiles.arcgis.com staticdev.arcgis.com tilesdevext.arcgis.com elevation3ddev.arcgis.com servicesdev.arcgis.com servicesdev1.arcgis.com servicesdev2.arcgis.com servicesdev3.arcgis.com geocodedev.arcgis.com geoenrichdev.arcgis.com basemapsdev.arcgis.com basemapsbetadev.arcgis.com".split(" "),
corsDetection:b.cordova?!1:!0,corsDetectionTimeout:15,corsStatus:{},webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" ")},workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}}}};g("extend-esri")&&(n.config=d);m.noGlobals||(b.esriConfig=d);return d})},
"dojo/topic":function(){define(["./Evented"],function(m){var a=new m;return{publish:function(g,n){return a.emit.apply(a,arguments)},subscribe:function(g,n){return a.on.apply(a,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(m,a){function g(){}var n=m.after;g.prototype={on:function(b,d){return a.parse(this,b,d,function(a,c){return n(a,"on"+c,d,!0)})},emit:function(b,d){var h=[this];h.push.apply(h,arguments);return a.emit.apply(a,h)}};return g})},"dojo/aspect":function(){define([],
function(){function m(a,c,f,b){var e=a[c],h="around"==c,d;if(h){var p=f(function(){return e.advice(this,arguments)});d={remove:function(){p&&(p=a=f=null)},advice:function(c,a){return p?p.apply(c,a):e.advice(c,a)}}}else d={remove:function(){if(d.advice){var e=d.previous,h=d.next;h||e?(e?e.next=h:a[c]=h,h&&(h.previous=e)):delete a[c];a=f=d.advice=null}},id:a.nextId++,advice:f,receiveArguments:b};if(e&&!h)if("after"==c){for(;e.next&&(e=e.next););e.next=d;d.previous=e}else"before"==c&&(a[c]=d,d.next=
e,e.previous=d);else a[c]=d;return d}function a(a){return function(c,f,h,e){var b=c[f],d;b&&b.target==c||(c[f]=d=function(){for(var a=d.nextId,c=arguments,e=d.before;e;)e.advice&&(c=e.advice.apply(this,c)||c),e=e.next;if(d.around)var f=d.around.advice(this,c);for(e=d.after;e&&e.id<a;){if(e.advice)if(e.receiveArguments)var h=e.advice.apply(this,c),f=h===g?f:h;else f=e.advice.call(this,f,c);e=e.next}return f},b&&(d.around={advice:function(c,a){return b.apply(c,a)}}),d.target=c,d.nextId=d.nextId||0);
c=m(d||b,a,h,e);h=null;return c}}var g,n=a("after"),b=a("before"),d=a("around");return{before:b,around:d,after:n}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(m,a,g){function n(a,f,d,b,p){if(b=f.match(/(.*):(.*)/))return f=b[2],b=b[1],h.selector(b,f).call(p,a,d);g("touch")&&(c.test(f)&&(d=v(d)),g("event-orientationchange")||"orientationchange"!=f||(f="resize",a=window,d=v(d)));y&&(d=y(d));if(a.addEventListener){var q=f in e,x=q?e[f]:f;
a.addEventListener(x,d,q);return{remove:function(){a.removeEventListener(x,d,q)}}}if(t&&a.attachEvent)return t(a,"on"+f,d);throw Error("Target must be an event emitter");}function b(){this.cancelable=!1;this.defaultPrevented=!0}function d(){this.bubbles=!1}var h=function(a,c,e,f){return"function"!=typeof a.on||"function"==typeof c||a.nodeType?h.parse(a,c,e,n,f,this):a.on(c,e)};h.pausable=function(a,c,e,f){var d;a=h(a,c,function(){if(!d)return e.apply(this,arguments)},f);a.pause=function(){d=!0};a.resume=
function(){d=!1};return a};h.once=function(a,c,e,f){var d=h(a,c,function(){d.remove();return e.apply(this,arguments)});return d};h.parse=function(a,c,e,f,d,b){var p;if(c.call)return c.call(b,a,e);c instanceof Array?p=c:-1<c.indexOf(",")&&(p=c.split(/\s*,\s*/));if(p){var q=[];c=0;for(var C;C=p[c++];)q.push(h.parse(a,C,e,f,d,b));q.remove=function(){for(var a=0;a<q.length;a++)q[a].remove()};return q}return f(a,c,e,d,b)};var c=/^touch/;h.matches=function(c,e,f,h,d){d=d&&"function"==typeof d.matches?d:
a.query;h=!1!==h;1!=c.nodeType&&(c=c.parentNode);for(;!d.matches(c,e,f);)if(c==f||!1===h||!(c=c.parentNode)||1!=c.nodeType)return!1;return c};h.selector=function(c,a,e){return function(f,d){function b(a){return h.matches(a,c,f,e,p)}var p="function"==typeof c?{matches:c}:this,q=a.bubble;return q?h(f,q(b),d):h(f,a,function(c){var a=b(c.target);if(a)return c.selectorTarget=a,d.call(a,c)})}};var f=[].slice,p=h.emit=function(c,a,e){var h=f.call(arguments,2),p="on"+a;if("parentNode"in c){var q=h[0]={},
C;for(C in e)q[C]=e[C];q.preventDefault=b;q.stopPropagation=d;q.target=c;q.type=a;e=q}do c[p]&&c[p].apply(c,h);while(e&&e.bubbles&&(c=c.parentNode));return e&&e.cancelable&&e},e=g("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!g("event-stopimmediatepropagation"))var q=function(){this.modified=this.immediatelyStopped=!0},y=function(c){return function(a){if(!a.immediatelyStopped)return a.stopImmediatePropagation=q,c.apply(this,arguments)}};if(g("dom-addeventlistener"))h.emit=function(c,a,
e){if(c.dispatchEvent&&document.createEvent){var f=(c.ownerDocument||document).createEvent("HTMLEvents");f.initEvent(a,!!e.bubbles,!!e.cancelable);for(var d in e)d in f||(f[d]=e[d]);return c.dispatchEvent(f)&&f}return p.apply(h,arguments)};else{h._fixEvent=function(c,a){c||(c=(a&&(a.ownerDocument||a.document||a).parentWindow||window).event);if(!c)return c;try{w&&c.type==w.type&&c.srcElement==w.target&&(c=w)}catch(F){}if(!c.target)switch(c.target=c.srcElement,c.currentTarget=a||c.srcElement,"mouseover"==
c.type&&(c.relatedTarget=c.fromElement),"mouseout"==c.type&&(c.relatedTarget=c.toElement),c.stopPropagation||(c.stopPropagation=u,c.preventDefault=A),c.type){case "keypress":var e="charCode"in c?c.charCode:c.keyCode;10==e?(e=0,c.keyCode=13):13==e||27==e?e=0:3==e&&(e=99);c.charCode=e;e=c;e.keyChar=e.charCode?String.fromCharCode(e.charCode):"";e.charOrCode=e.keyChar||e.keyCode}return c};var w,C=function(c){this.handle=c};C.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var B=function(c){return function(a){a=
h._fixEvent(a,this);var e=c.call(this,a);a.modified&&(w||setTimeout(function(){w=null}),w=a);return e}},t=function(c,a,e){e=B(e);if(((c.ownerDocument?c.ownerDocument.parentWindow:c.parentWindow||c.window||window)!=top||5.8>g("jscript"))&&!g("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var f=c[a];if(!f||!f.listeners){var h=f,f=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
f.listeners=[];c[a]=f;f.global=this;h&&f.listeners.push(_dojoIEListeners_.push(h)-1)}f.listeners.push(c=f.global._dojoIEListeners_.push(e)-1);return new C(c)}return m.after(c,a,e,!0)},u=function(){this.cancelBubble=!0},A=h._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(x){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(g("touch"))var G=function(){},D=window.orientation,v=function(c){return function(a){var e=a.corrected;if(!e){var f=
a.type;try{delete a.type}catch(O){}if(a.type){if(g("touch-can-modify-event-delegate"))G.prototype=a,e=new G;else{var e={},h;for(h in a)e[h]=a[h]}e.preventDefault=function(){a.preventDefault()};e.stopPropagation=function(){a.stopPropagation()}}else e=a,e.type=f;a.corrected=e;if("resize"==f){if(D==window.orientation)return null;D=window.orientation;e.type="orientationchange";return c.call(this,e)}"rotation"in e||(e.rotation=0,e.scale=1);if(window.TouchEvent&&a instanceof TouchEvent){var f=e.changedTouches[0],
d;for(d in f)delete e[d],e[d]=f[d]}}return c.call(this,e)}};return h})},"esri/kernel":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/has"],function(m,a,g){var n=function(){return this}(),b=n.location,d=b.pathname,h=b.protocol,b={version:"3.22",_appBaseUrl:h+"//"+b.host+d.substring(0,d.lastIndexOf(d.split("/")[d.split("/").length-1]))};a.noGlobals||(n.esri=b);m.isAsync||g.add("extend-esri",1);(b.dijit=b.dijit||{})._arcgisUrl=("http:"===h||"https:"===h?h:"http:")+"//www.arcgis.com/sharing/rest";
return b})},"esri/layers/vectorTiles/core/workers/WorkerConnection":function(){define(["require","exports","./WorkerProxy"],function(m,a,g){return function(){function a(a,d,h){this.id=h;this._target="function"===typeof a?new a(this):a;this.proxy=new g(this._target,d,this)}a.prototype.invoke=function(a,d,h){return this.proxy.invoke(a,d,h,this.id)};return a}()})},"esri/layers/vectorTiles/core/workers/WorkerProxy":function(){define(["require","exports","dojo/Deferred"],function(m,a,g){return function(){function a(a,
d,h){this.parentModule=a;this.worker=d;this.connection=h;this.msgCount=0;this.outgoingJobs={};this.incomingJobs={};this.msgCount=0;this.outgoingJobs={};this.incomingJobs={}}a.prototype.invoke=function(a,d,h,c){var f=this,b=++this.msgCount,e=new g(function(a){f.worker.postMessage({type:"\x3ccancel\x3e",id:b,connection:c,data:{reason:a}});f.outgoingJobs[b]&&delete f.outgoingJobs[b]});this.outgoingJobs[b]=e;this.worker.postMessage({type:a,id:b,connection:c,data:d},h);return e.promise};a.prototype.message=
function(a){var d=this;if(a&&a.data){var h=a.data.type;if(h){var c=a.data,f=a.data.id,b=a.data.connection;if("\x3cresponse\x3e"===h&&f){if(a=this.outgoingJobs[f])delete this.outgoingJobs[f],c.error?a.reject(c.error):a.resolve(c.data)}else"\x3ccancel\x3e"===h&&f?(a=this.incomingJobs[f])&&a.cancel(c.data.reason||"cancel"):(a=this.parentModule[h],"function"===typeof a&&(c=a.call(this.parentModule,c.data,this.connection),this.incomingJobs[f]=c,c.then(function(a){d.worker.postMessage({type:"\x3cresponse\x3e",
id:f,connection:b,data:a&&null!=a.data?a.data:a},a&&a.buffers||[])}).otherwise(function(a){a||(a="Error encountered at method "+h);d.worker.postMessage({type:"\x3cresponse\x3e",id:f,connection:b,data:null,error:a})}).always(function(){delete d.incomingJobs[f]})))}}};return a}()})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(m,a,g,n,b){var d=Object.freeze||function(){},h=function(a,f,h,d,b){2===f&&e.instrumentRejected&&
0===a.length&&e.instrumentRejected(h,!1,d,b);for(b=0;b<a.length;b++)c(a[b],f,h,d)},c=function(a,c,h,d){var b=a[c],q=a.deferred;if(b)try{var C=b(h);if(0===c)"undefined"!==typeof C&&p(q,c,C);else{if(C&&"function"===typeof C.then){a.cancel=C.cancel;C.then(f(q,1),f(q,2),f(q,0));return}p(q,1,C)}}catch(A){p(q,2,A)}else p(q,c,h);2===c&&e.instrumentRejected&&e.instrumentRejected(h,!!b,d,q.promise)},f=function(a,c){return function(e){p(a,c,e)}},p=function(a,c,e){if(!a.isCanceled())switch(c){case 0:a.progress(e);
break;case 1:a.resolve(e);break;case 2:a.reject(e)}},e=function(a){var f=this.promise=new n,b=this,p,q,t,u=!1,A=[];Error.captureStackTrace&&(Error.captureStackTrace(b,e),Error.captureStackTrace(f,e));this.isResolved=f.isResolved=function(){return 1===p};this.isRejected=f.isRejected=function(){return 2===p};this.isFulfilled=f.isFulfilled=function(){return!!p};this.isCanceled=f.isCanceled=function(){return u};this.progress=function(a,c){if(p){if(!0===c)throw Error("This deferred has already been fulfilled.");
return f}h(A,0,a,null,b);return f};this.resolve=function(a,c){if(p){if(!0===c)throw Error("This deferred has already been fulfilled.");return f}h(A,p=1,q=a,null,b);A=null;return f};var G=this.reject=function(a,c){if(p){if(!0===c)throw Error("This deferred has already been fulfilled.");return f}Error.captureStackTrace&&Error.captureStackTrace(t={},G);h(A,p=2,q=a,t,b);A=null;return f};this.then=f.then=function(a,h,d){var b=[d,a,h];b.cancel=f.cancel;b.deferred=new e(function(a){return b.cancel&&b.cancel(a)});
p&&!A?c(b,p,q,t):A.push(b);return b.deferred.promise};this.cancel=f.cancel=function(c,e){if(!p){if(a){var f=a(c);c="undefined"===typeof f?c:f}u=!0;if(!p)return"undefined"===typeof c&&(c=new g),G(c),c;if(2===p&&q===c)return c}else if(!0===e)throw Error("This deferred has already been fulfilled.");};d(f)};e.prototype.toString=function(){return"[object Deferred]"};b&&b(e);return e})},"dojo/errors/CancelError":function(){define(["./create"],function(m){return m("CancelError",null,null,{dojoType:"cancel",
log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(m){return function(a,g,n,b){n=n||Error;var d=function(a){if(n===Error){Error.captureStackTrace&&Error.captureStackTrace(this,d);var c=Error.call(this,a),f;for(f in c)c.hasOwnProperty(f)&&(this[f]=c[f]);this.message=a;this.stack=c.stack}else n.apply(this,arguments);g&&g.apply(this,arguments)};d.prototype=m.delegate(n.prototype,b);d.prototype.name=a;return d.prototype.constructor=d}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(m){function a(){throw new TypeError("abstract");}return m.extend(function(){},{then:function(g,n,b){a()},cancel:function(g,n){a()},isResolved:function(){a()},isRejected:function(){a()},isFulfilled:function(){a()},isCanceled:function(){a()},always:function(a){return this.then(a,a)},catch:function(a){return this.then(null,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},
"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(m,a,g,n){function b(a,c,e){if(!a||!1!==a.log){var f="";a&&a.stack&&(f+=a.stack);c&&c.stack&&(f+="\n    ----------------------------------------\n    rejected"+c.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));e&&e.stack&&(f+="\n    ----------------------------------------\n"+e.stack);console.error(a,f)}}function d(a,c,e,f){c||b(a,e,f)}function h(a,h,d,b){n.some(f,function(c){if(c.error===
a)return h&&(c.handled=!0),!0})||f.push({error:a,rejection:d,handled:h,deferred:b,timestamp:(new Date).getTime()});p||(p=setTimeout(c,e))}function c(){var a=(new Date).getTime(),h=a-e;f=n.filter(f,function(a){return a.timestamp<h?(a.handled||b(a.error,a.rejection,a.deferred),!1):!0});p=f.length?setTimeout(c,f[0].timestamp+e-a):!1}a.add("config-useDeferredInstrumentation","report-unhandled-rejections");var f=[],p=!1,e=1E3;return function(c){var f=a("config-useDeferredInstrumentation");if(f){m.on("resolved",
g.hitch(console,"log","resolved"));m.on("rejected",g.hitch(console,"log","rejected"));m.on("progress",g.hitch(console,"log","progress"));var b=[];"string"===typeof f&&(b=f.split(","),f=b.shift());if("report-rejections"===f)c.instrumentRejected=d;else if("report-unhandled-rejections"===f||!0===f||1===f)c.instrumentRejected=h,e=parseInt(b[0],10)||e;else throw Error("Unsupported instrumentation usage \x3c"+f+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],
function(m,a,g){function n(a){setTimeout(function(){d.apply(b,a)},0)}var b=new g,d=b.emit;b.emit=null;a.prototype.trace=function(){var a=m._toArray(arguments);this.then(function(c){n(["resolved",c].concat(a))},function(c){n(["rejected",c].concat(a))},function(c){n(["progress",c].concat(a))});return this};a.prototype.traceRejected=function(){var a=m._toArray(arguments);this.otherwise(function(c){n(["rejected",c].concat(a))});return this};return b})},"dojo/_base/array":function(){define(["./kernel",
"../has","./lang"],function(m,a,g){function n(a){return h[a]=new Function("item","index","array",a)}function b(a){var c=!a;return function(e,f,d){var b=0,p=e&&e.length||0,q;p&&"string"==typeof e&&(e=e.split(""));"string"==typeof f&&(f=h[f]||n(f));if(d)for(;b<p;++b){if(q=!f.call(d,e[b],b,e),a^q)return!q}else for(;b<p;++b)if(q=!f(e[b],b,e),a^q)return!q;return c}}function d(a){var e=1,h=0,d=0;a||(e=h=d=-1);return function(b,p,q,g){if(g&&0<e)return f.lastIndexOf(b,p,q);g=b&&b.length||0;var n=a?g+d:h;
q===c?q=a?h:g+d:0>q?(q=g+q,0>q&&(q=h)):q=q>=g?g+d:q;for(g&&"string"==typeof b&&(b=b.split(""));q!=n;q+=e)if(b[q]==p)return q;return-1}}var h={},c,f={every:b(!1),some:b(!0),indexOf:d(!0),lastIndexOf:d(!1),forEach:function(a,c,f){var e=0,d=a&&a.length||0;d&&"string"==typeof a&&(a=a.split(""));"string"==typeof c&&(c=h[c]||n(c));if(f)for(;e<d;++e)c.call(f,a[e],e,a);else for(;e<d;++e)c(a[e],e,a)},map:function(a,c,f,d){var e=0,b=a&&a.length||0;d=new (d||Array)(b);b&&"string"==typeof a&&(a=a.split(""));
"string"==typeof c&&(c=h[c]||n(c));if(f)for(;e<b;++e)d[e]=c.call(f,a[e],e,a);else for(;e<b;++e)d[e]=c(a[e],e,a);return d},filter:function(a,c,f){var e=0,d=a&&a.length||0,b=[],p;d&&"string"==typeof a&&(a=a.split(""));"string"==typeof c&&(c=h[c]||n(c));if(f)for(;e<d;++e)p=a[e],c.call(f,p,e,a)&&b.push(p);else for(;e<d;++e)p=a[e],c(p,e,a)&&b.push(p);return b},clearCache:function(){h={}}};g.mixin(m,f);return f})},"esri/layers/vectorTiles/views/vectorTiles/WorkerTileHandler":function(){define("require exports dojo/Deferred ../../core/promiseUtils ./WorkerTile ./style/StyleRepository".split(" "),
function(m,a,g,n,b,d){return function(){function a(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}a.prototype.reset=function(){var a=new g;this._spriteInfo={};this._glyphInfo={};var f=this._tiles;f.forEach(function(a){return a.setObsolete()});f.clear();a.resolve();return a.promise};a.prototype.getLayers=function(){return this._layers};a.prototype.setLayers=function(a){this._layers=(new d(a)).layers;return n.resolve({data:""})};a.prototype.getTile=function(a,f){var c=this,e=a.key,d=b.pool.acquire();
d.initialize(a.key,a.refKey,this,a.rotation);var h=a.cacheTile;return f.invoke("fetchTileData",a.refKey).then(function(a){return d.setDataAndParse(a.protobuff,f).then(function(a){h&&6!==d.status&&c._tiles.set(e,d);return a}).otherwise(function(a){d.setObsolete();b.pool.release(d);c._tiles["delete"](d.tileKey);return n.reject(a)})}).otherwise(function(a){d.setObsolete();if(c._tiles.has(d.tileKey))c._tiles["delete"](d.tileKey);return n.reject(a)}).always(function(a){h||b.pool.release(d);return a})};
a.prototype.update=function(a){var c=this._tiles.get(a.key);return c?c.updateSymbols(a.rotation):n.reject()};a.prototype.destructTileData=function(a){this._tiles.has(a.key)&&(b.pool.release(this._tiles.get(a.key)),this._tiles["delete"](a.key));return n.resolve()};a.prototype.fetchSprites=function(a,f){var c=[],e=this._spriteInfo;a.forEach(function(a){void 0===e[a]&&c.push(a)});return 0===c.length?n.resolve():f.invoke("getSprites",{sprites:c}).then(function(a){a=a.spriteItems;for(var c in a)e[c]=a[c]})};
a.prototype.getSpriteItems=function(){return this._spriteInfo};a.prototype.fetchGlyphs=function(a,f,d,e){var c=[],h=this._glyphInfo[f];h?d.forEach(function(a){h[a]||c.push(a)}):(h=this._glyphInfo[f]=[],d.forEach(function(a){return c.push(a)}));return 0===c.length?n.resolve():e.invoke("getGlyphs",{tileID:a,font:f,codePoints:c}).then(function(a){a=a.glyphItems;for(var c in a)h[c]=a[c]})};a.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};return a}()})},"esri/layers/vectorTiles/core/promiseUtils":function(){define(["require",
"exports","dojo/Deferred","dojo/promise/all","./Error"],function(m,a,g,n,b){function d(a){if(a){if("function"!==typeof a.forEach){var c=Object.keys(a),f=c.map(function(c){return a[c]});return d(f).then(function(a){var e={};c.forEach(function(c,f){return e[c]=a[f]});return e})}var b=new g,e=[],h=a.length;0===h&&b.resolve(e);a.forEach(function(a){var c={promise:a};e.push(c);a.then(function(a){c.value=a}).otherwise(function(a){c.error=a}).then(function(){--h;0===h&&b.resolve(e)})});return b.promise}}
Object.defineProperty(a,"__esModule",{value:!0});a.all=function(a){return n(a)};a.filter=function(a,c){var f=a.slice();return n(a.map(function(a,e){return c(a,e)})).then(function(a){return f.filter(function(c,f){return a[f]})})};a.eachAlways=d;a.create=function(a,c){var f=new g(c);a(function(a){void 0===a&&(a=null);return f.resolve(a)},f.reject);return f.promise};a.reject=function(a){var c=new g;c.reject(a);return c.promise};a.resolve=function(a){void 0===a&&(a=null);var c=new g;c.resolve(a);return c.promise};
a.after=function(a,c){void 0===c&&(c=null);var f=0,d=new g(function(){f&&(clearTimeout(f),f=0)}),f=setTimeout(function(){d.resolve(c)},a);return d.promise};a.timeout=function(a,c,f){var d=0,e=new g(a.cancel);a.then(function(a){e.isFulfilled()||(e.resolve(a),d&&(clearTimeout(d),d=0))});a.otherwise(function(a){e.isFulfilled()||(e.reject(a),d&&(clearTimeout(d),d=0))});d=setTimeout(function(){var a=f||new b("promiseUtils:timeout","The wrapped promise did not resolve within "+c+" ms");e.reject(a)},c);
return e.promise};a.wrapCallback=function(a){var c=!1,f=new g(function(){return c=!0});a(function(a){c||f.resolve(a)});return f.promise}})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(m,a,g){var n=m.some;return function(b){var d,h;b instanceof Array?h=b:b&&"object"===typeof b&&(d=b);var c,f=[];if(d){h=[];for(var p in d)Object.hasOwnProperty.call(d,p)&&(f.push(p),h.push(d[p]));c={}}else h&&(c=[]);if(!h||!h.length)return(new a).resolve(c);var e=new a;e.promise.always(function(){c=
f=null});var q=h.length;n(h,function(a,b){d||f.push(b);g(a,function(a){e.isFulfilled()||(c[f[b]]=a,0===--q&&e.resolve(c))},e.reject);return e.isFulfilled()});return e.promise}})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(m,a){return function(g,n,b,d){var h=g&&"function"===typeof g.then,c=h&&g instanceof a;if(!h)return 1<arguments.length?n?n(g):g:(new m).resolve(g);c||(h=new m(g.cancel),g.then(h.resolve,h.reject,h.progress),g=h.promise);return n||b||d?g.then(n,b,d):
g}})},"esri/layers/vectorTiles/core/Error":function(){define(["require","exports","./tsSupport/extendsHelper","./Message","./lang"],function(m,a,g,n,b){m=function(a){function d(c,f,b){var e=a.call(this,c,f,b)||this;return e instanceof d?e:new d(c,f,b)}g(d,a);d.prototype.toJSON=function(){return{name:this.name,message:this.message,details:b.clone(this.details)}};d.fromJSON=function(a){return new d(a.name,a.message,a.details)};return d}(n);m.prototype.type="error";return m})},"esri/layers/vectorTiles/core/tsSupport/extendsHelper":function(){define([],
function(){return function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,g){a.__proto__=g}||function(a,g){for(var n in g)g.hasOwnProperty(n)&&(a[n]=g[n])};return function(a,g){function n(){this.constructor=a}m(a,g);a.prototype=null===g?Object.create(g):(n.prototype=g.prototype,new n)}}()})},"esri/layers/vectorTiles/core/Message":function(){define(["require","exports","dojo/string"],function(m,a,g){return function(){function a(b,d,h){this instanceof a&&(this.name=b,this.message=
d&&g.substitute(d,h,function(a){return null==a?"":a})||"",this.details=h)}a.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a}()})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(m,a){var g=/[&<>'"\/]/g,n={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},b={};a.setObject("dojo.string",b);b.escape=function(a){return a?a.replace(g,function(a){return n[a]}):""};b.rep=function(a,b){if(0>=b||!a)return"";
for(var c=[];;){b&1&&c.push(a);if(!(b>>=1))break;a+=a}return c.join("")};b.pad=function(a,h,c,f){c||(c="0");a=String(a);h=b.rep(c,Math.ceil((h-a.length)/c.length));return f?a+h:h+a};b.substitute=function(d,b,c,f){f=f||m.global;c=c?a.hitch(f,c):function(a){return a};return d.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(d,e,h){if(""==e)return"$";d=a.getObject(e,!1,b);h&&(d=a.getObject(h,!1,f).call(f,d,e));h=c(d,e);if("undefined"===typeof h)throw Error('string.substitute could not find key "'+
e+'" in template');return h.toString()})};b.trim=String.prototype.trim?a.trim:function(a){a=a.replace(/^\s+/,"");for(var d=a.length-1;0<=d;d--)if(/\S/.test(a.charAt(d))){a=a.substring(0,d+1);break}return a};return b})},"esri/layers/vectorTiles/core/lang":function(){define("dojo/_base/array dojo/_base/kernel dojo/_base/lang dojo/date dojo/number dojo/date/locale dojo/i18n!../nls/common".split(" "),function(m,a,g,n,b,d,h){function c(a){return void 0!==a&&null!==a}function f(a){return c(a)?a:""}function p(a,
e,h){var p=h.match(/([^\(]+)(\([^\)]+\))?/i),q=g.trim(p[1]);h=e[a];var p=JSON.parse((p[2]?g.trim(p[2]):"{}").replace(/^\(/,"{").replace(/\)$/,"}").replace(/([{,])\s*([0-9a-zA-Z\_]+)\s*:/gi,'$1"$2":').replace(/\"\s*:\s*\'/gi,'":"').replace(/\'\s*(,|\})/gi,'"$1')),C=p.utcOffset;if(-1===m.indexOf(y,q))q=g.getObject(q),g.isFunction(q)&&(h=q(h,a,e,p));else if("number"===typeof h||"string"===typeof h&&h&&!isNaN(Number(h)))switch(h=Number(h),q){case "NumberFormat":a=g.mixin({},p);e=parseFloat(a.places);
if(isNaN(e)||0>e)a.places=Infinity;return b.format(h,a);case "DateString":h=new Date(h);if(p.local||p.systemLocale)return p.systemLocale?h.toLocaleDateString()+(p.hideTime?"":" "+h.toLocaleTimeString()):h.toDateString()+(p.hideTime?"":" "+h.toTimeString());h=h.toUTCString();p.hideTime&&(h=h.replace(/\s+\d\d\:\d\d\:\d\d\s+(utc|gmt)/i,""));return h;case "DateFormat":return h=new Date(h),c(C)&&(h=n.add(h,"minute",h.getTimezoneOffset()-C)),d.format(h,p)}return f(h)}function e(a,c){var f;if(c)for(f in a)a.hasOwnProperty(f)&&
(void 0===a[f]?delete a[f]:a[f]instanceof Object&&e(a[f],!0));else for(f in a)a.hasOwnProperty(f)&&void 0===a[f]&&delete a[f];return a}function q(a){if(!a||"object"!=typeof a||g.isFunction(a))return a;if("function"===typeof a.clone)a=a.clone();else if("function"===typeof a.map&&"function"===typeof a.forEach)a=a.map(q);else{var c={},e,f,d={};for(e in a){f=a[e];var b=!(e in d)||d[e]!==f;if(!(e in c)||c[e]!==f&&b)c[e]=q?q(f):f}a=c}return a}var y=["NumberFormat","DateString","DateFormat"],w=/<\/?[^>]+>/g;
return{equals:function(a,c){return a===c||"number"===typeof a&&isNaN(a)&&"number"===typeof c&&isNaN(c)||g.isFunction((a||{}).getTime)&&g.isFunction((c||{}).getTime)&&a.getTime()==c.getTime()||g.isFunction((a||{}).equals)&&a.equals(c)||g.isFunction((c||{}).equals)&&c.equals(a)||!1},valueOf:function(a,c){for(var e in a)if(a[e]==c)return e;return null},stripTags:function(a){if(a){var c=typeof a;if("string"===c)a=a.replace(w,"");else if("object"===c)for(var e in a)(c=a[e])&&"string"===typeof c&&(c=c.replace(w,
"")),a[e]=c}return a},substitute:function(a,e,d){var b,n,q;c(d)&&(g.isObject(d)?(b=d.first,n=d.dateFormat,q=d.numberFormat):b=d);if(e&&"{*}"!==e)return g.replace(e,g.hitch({obj:a},function(a,c){var e=c.split(":");return 1<e.length?(c=e[0],e.shift(),p(c,this.obj,e.join(":"))):n&&-1!==m.indexOf(n.properties||"",c)?p(c,this.obj,n.formatter||"DateString"):q&&-1!==m.indexOf(q.properties||"",c)?p(c,this.obj,q.formatter||"NumberFormat"):f(this.obj[c])}));e=[];var t;e.push('\x3ctable summary\x3d"'+h.fieldsSummary+
'"\x3e\x3ctbody\x3e');for(t in a)if(d=a[t],n&&-1!==m.indexOf(n.properties||"",t)?d=p(t,a,n.formatter||"DateString"):q&&-1!==m.indexOf(q.properties||"",t)&&(d=p(t,a,q.formatter||"NumberFormat")),e.push("\x3ctr\x3e\x3cth\x3e"+t+"\x3c/th\x3e\x3ctd\x3e"+f(d)+"\x3c/td\x3e\x3c/tr\x3e"),b)break;e.push("\x3c/tbody\x3e\x3c/table\x3e");return e.join("")},filter:function(c,e,f){e=[g.isString(c)?c.split(""):c,f||a.global,g.isString(e)?new Function("item","index","array",e):e];f={};var d;c=e[0];for(d in c)e[2].call(e[d],
c[d],d,c)&&(f[d]=c[d]);return f},startsWith:function(a,c,e){e=e||0;return a.indexOf(c,e)===e},endsWith:function(a,c,e){if("number"!==typeof e||!isFinite(e)||Math.floor(e)!==e||e>a.length)e=a.length;e-=c.length;a=a.indexOf(c,e);return-1!==a&&a===e},isDefined:c,fixJson:e,clone:q}})},"dojo/date":function(){define(["./has","./_base/lang"],function(m,a){var g={getDaysInMonth:function(a){var b=a.getMonth();return 1==b&&g.isLeapYear(a)?29:[31,28,31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(a){a=
a.getFullYear();return!(a%400)||!(a%4)&&!!(a%100)},getTimezoneName:function(a){var b=a.toString(),d="",h=b.indexOf("(");if(-1<h)d=b.substring(++h,b.indexOf(")"));else if(h=/([A-Z\/]+) \d{4}$/,b=b.match(h))d=b[1];else if(b=a.toLocaleString(),h=/ ([A-Z\/]+)$/,b=b.match(h))d=b[1];return"AM"==d||"PM"==d?"":d},compare:function(a,b,d){a=new Date(+a);b=new Date(+(b||new Date));"date"==d?(a.setHours(0,0,0,0),b.setHours(0,0,0,0)):"time"==d&&(a.setFullYear(0,0,0),b.setFullYear(0,0,0));return a>b?1:a<b?-1:0},
add:function(a,b,d){var h=new Date(+a),c=!1,f="Date";switch(b){case "day":break;case "weekday":var p;(b=d%5)?p=parseInt(d/5):(b=0<d?5:-5,p=0<d?(d-5)/5:(d+5)/5);var e=a.getDay(),g=0;6==e&&0<d?g=1:0==e&&0>d&&(g=-1);e+=b;if(0==e||6==e)g=0<d?2:-2;d=7*p+b+g;break;case "year":f="FullYear";c=!0;break;case "week":d*=7;break;case "quarter":d*=3;case "month":c=!0;f="Month";break;default:f="UTC"+b.charAt(0).toUpperCase()+b.substring(1)+"s"}if(f)h["set"+f](h["get"+f]()+d);c&&h.getDate()<a.getDate()&&h.setDate(0);
return h},difference:function(a,b,d){b=b||new Date;d=d||"day";var h=b.getFullYear()-a.getFullYear(),c=1;switch(d){case "quarter":a=a.getMonth();b=b.getMonth();c=Math.floor(b/3)+1+4*h-(Math.floor(a/3)+1);break;case "weekday":h=Math.round(g.difference(a,b,"day"));d=parseInt(g.difference(a,b,"week"));if(0==h%7)h=5*d;else{var c=0,f=a.getDay(),p=b.getDay();d=parseInt(h/7);b=h%7;a=new Date(a);a.setDate(a.getDate()+7*d);a=a.getDay();if(0<h)switch(!0){case 6==f:c=-1;break;case 0==f:c=0;break;case 6==p:c=
-1;break;case 0==p:c=-2;break;case 5<a+b:c=-2}else if(0>h)switch(!0){case 6==f:c=0;break;case 0==f:c=1;break;case 6==p:c=2;break;case 0==p:c=1;break;case 0>a+b:c=2}h=h+c-2*d}c=h;break;case "year":c=h;break;case "month":c=b.getMonth()-a.getMonth()+12*h;break;case "week":c=parseInt(g.difference(a,b,"day")/7);break;case "day":c/=24;case "hour":c/=60;case "minute":c/=60;case "second":c/=1E3;case "millisecond":c*=b.getTime()-a.getTime()}return Math.round(c)}};a.mixin(a.getObject("dojo.date",!0),g);return g})},
"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(m,a,g,n,b){var d={};m.setObject("dojo.number",d);d.format=function(c,f){f=m.mixin({},f||{});var b=a.normalizeLocale(f.locale),b=a.getLocalization("dojo.cldr","number",b);f.customs=b;b=f.pattern||b[(f.type||"decimal")+"Format"];return isNaN(c)||Infinity==Math.abs(c)?null:d._applyPattern(c,b,f)};d._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;d._applyPattern=function(a,f,b){b=b||{};var c=b.customs.group,
h=b.customs.decimal;f=f.split(";");var g=f[0];f=f[0>a?1:0]||"-"+g;if(-1!=f.indexOf("%"))a*=100;else if(-1!=f.indexOf("\u2030"))a*=1E3;else if(-1!=f.indexOf("\u00a4"))c=b.customs.currencyGroup||c,h=b.customs.currencyDecimal||h,f=f.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(a,c,e,f){return(a=b[["symbol","currency","displayName"][e.length-1]]||b.currency||"")?c+a+f:""});else if(-1!=f.indexOf("E"))throw Error("exponential notation not supported");var p=d._numberPatternRE,g=g.match(p);if(!g)throw Error("unable to find a number expression in pattern: "+
f);!1===b.fractional&&(b.places=0);return f.replace(p,d._formatAbsolute(a,g[0],{decimal:h,group:c,places:b.places,round:b.round}))};d.round=function(a,f,d){d=10/(d||10);return(d*+a).toFixed(f)/d};if(0==(.9).toFixed()){var h=d.round;d.round=function(a,f,d){var c=Math.pow(10,-f||0),b=Math.abs(a);if(!a||b>=c)c=0;else if(b/=c,.5>b||.95<=b)c=0;return h(a,f,d)+(0<a?c:-c)}}d._formatAbsolute=function(a,f,b){b=b||{};!0===b.places&&(b.places=0);Infinity===b.places&&(b.places=6);f=f.split(".");var c="string"==
typeof b.places&&b.places.indexOf(","),h=b.places;c?h=b.places.substring(c+1):0<=h||(h=(f[1]||[]).length);0>b.round||(a=d.round(a,h,b.round));a=String(Math.abs(a)).split(".");var g=a[1]||"";f[1]||b.places?(c&&(b.places=b.places.substring(0,c)),c=void 0!==b.places?b.places:f[1]&&f[1].lastIndexOf("0")+1,c>g.length&&(a[1]=n.pad(g,c,"0",!0)),h<g.length&&(a[1]=g.substr(0,h))):a[1]&&a.pop();h=f[0].replace(",","");c=h.indexOf("0");-1!=c&&(c=h.length-c,c>a[0].length&&(a[0]=n.pad(a[0],c)),-1==h.indexOf("#")&&
(a[0]=a[0].substr(a[0].length-c)));var h=f[0].lastIndexOf(","),p,C;-1!=h&&(p=f[0].length-h-1,f=f[0].substr(0,h),h=f.lastIndexOf(","),-1!=h&&(C=f.length-h-1));f=[];for(h=a[0];h;)c=h.length-p,f.push(0<c?h.substr(c):h),h=0<c?h.slice(0,c):"",C&&(p=C,C=void 0);a[0]=f.reverse().join(b.group||",");return a.join(b.decimal||".")};d.regexp=function(a){return d._parseInfo(a).regexp};d._parseInfo=function(c){c=c||{};var f=a.normalizeLocale(c.locale),f=a.getLocalization("dojo.cldr","number",f),h=c.pattern||f[(c.type||
"decimal")+"Format"],e=f.group,g=f.decimal,n=1;if(-1!=h.indexOf("%"))n/=100;else if(-1!=h.indexOf("\u2030"))n/=1E3;else{var w=-1!=h.indexOf("\u00a4");w&&(e=f.currencyGroup||e,g=f.currencyDecimal||g)}f=h.split(";");1==f.length&&f.push("-"+f[0]);f=b.buildGroupRE(f,function(a){a="(?:"+b.escapeString(a,".")+")";return a.replace(d._numberPatternRE,function(a){var f={signed:!1,separator:c.strict?e:[e,""],fractional:c.fractional,decimal:g,exponent:!1};a=a.split(".");var b=c.places;1==a.length&&1!=n&&(a[1]=
"###");1==a.length||0===b?f.fractional=!1:(void 0===b&&(b=c.pattern?a[1].lastIndexOf("0")+1:Infinity),b&&void 0==c.fractional&&(f.fractional=!0),!c.places&&b<a[1].length&&(b+=","+a[1].length),f.places=b);a=a[0].split(",");1<a.length&&(f.groupSize=a.pop().length,1<a.length&&(f.groupSize2=a.pop().length));return"("+d._realNumberRegexp(f)+")"})},!0);w&&(f=f.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,e,f,d){a=b.escapeString(c[["symbol","currency","displayName"][f.length-1]]||c.currency||
"");if(!a)return"";e=e?"[\\s\\xa0]":"";d=d?"[\\s\\xa0]":"";return c.strict?e+a+d:(e&&(e+="*"),d&&(d+="*"),"(?:"+e+a+d+")?")}));return{regexp:f.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:e,decimal:g,factor:n}};d.parse=function(a,f){var c=d._parseInfo(f),e=(new RegExp("^"+c.regexp+"$")).exec(a);if(!e)return NaN;var b=e[1];if(!e[1]){if(!e[2])return NaN;b=e[2];c.factor*=-1}b=b.replace(new RegExp("["+c.group+"\\s\\xa0]","g"),"").replace(c.decimal,".");return b*c.factor};d._realNumberRegexp=function(a){a=a||
{};"places"in a||(a.places=Infinity);"string"!=typeof a.decimal&&(a.decimal=".");"fractional"in a&&!/^0/.test(a.places)||(a.fractional=[!0,!1]);"exponent"in a||(a.exponent=[!0,!1]);"eSigned"in a||(a.eSigned=[!0,!1]);var c=d._integerRegexp(a),h=b.buildGroupRE(a.fractional,function(c){var e="";c&&0!==a.places&&(e="\\"+a.decimal,e=Infinity==a.places?"(?:"+e+"\\d+)?":e+("\\d{"+a.places+"}"));return e},!0),e=b.buildGroupRE(a.exponent,function(c){return c?"([eE]"+d._integerRegexp({signed:a.eSigned})+")":
""}),c=c+h;h&&(c="(?:(?:"+c+")|(?:"+h+"))");return c+e};d._integerRegexp=function(a){a=a||{};"signed"in a||(a.signed=[!0,!1]);"separator"in a?"groupSize"in a||(a.groupSize=3):a.separator="";var c=b.buildGroupRE(a.signed,function(a){return a?"[-+]":""},!0),d=b.buildGroupRE(a.separator,function(c){if(!c)return"(?:\\d+)";c=b.escapeString(c);" "==c?c="\\s":"\u00a0"==c&&(c="\\s\\xa0");var e=a.groupSize,f=a.groupSize2;return f?(c="(?:0|[1-9]\\d{0,"+(f-1)+"}(?:["+c+"]\\d{"+f+"})*["+c+"]\\d{"+e+"})",0<e-
f?"(?:"+c+"|(?:0|[1-9]\\d{0,"+(e-1)+"}))":c):"(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+c+"]\\d{"+e+"})*)"},!0);return c+d};return d})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang require ./json module".split(" "),function(m,a,g,n,b,d,h,c,f){g.add("dojo-preload-i18n-Api",1);h=m.i18n={};var p=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,e=function(a,c,e,f){var b=[e+f];c=c.split("-");for(var d="",h=0;h<c.length;h++)if(d+=(d?"-":"")+c[h],!a||a[d])b.push(e+
d+"/"+f),b.specificity=d;return b},q={},y=function(a,c,e){e=e?e.toLowerCase():m.locale;a=a.replace(/\./g,"/");c=c.replace(/\./g,"/");return/root/i.test(e)?a+"/nls/"+c:a+"/nls/"+e+"/"+c},w=m.getL10nName=function(a,c,e){return a=f.id+"!"+y(a,c,e)},C=function(a,c,f,b,h,g){a([c],function(p){var v=d.clone(p.root||p.ROOT),n=e(!p._v1x&&p,h,f,b);a(n,function(){for(var a=1;a<n.length;a++)v=d.mixin(d.clone(v),arguments[a]);q[c+"/"+h]=v;v.$locale=n.specificity;g()})})},B=function(a){var c=b.extraLocale||[],
c=d.isArray(c)?c:[c];c.push(a);return c},t=function(a,e,f){var b=p.exec(a),h=b[1]+"/",x=b[5]||b[4],t=h+x,w=(b=b[5]&&b[4])||m.locale||"",I=t+"/"+w,b=b?[w]:B(w),y=b.length,u=function(){--y||f(d.delegate(q[I]))},w=a.split("*"),H="preload"==w[1];if(g("dojo-preload-i18n-Api")){if(H&&(q[a]||(q[a]=1,D(w[2],c.parse(w[3]),1,e)),f(1)),(w=H)||(A&&G.push([a,e,f]),w=A&&!q[I]),w)return}else if(H){f(1);return}n.forEach(b,function(a){var c=t+"/"+a;g("dojo-preload-i18n-Api")&&v(c);q[c]?u():C(e,t,h,x,a,u)})};g("dojo-preload-i18n-Api");
var u=h.normalizeLocale=function(a){a=a?a.toLowerCase():m.locale;return"root"==a?"ROOT":a},A=0,G=[],D=h._preloadLocalizations=function(c,e,f,b){function h(a,c){b([a],c)}function g(a,c){for(var e=a.split("-");e.length;){if(c(e.join("-")))return;e.pop()}c("ROOT")}function p(){for(--A;!A&&G.length;)t.apply(null,G.shift())}function v(f){f=u(f);g(f,function(v){if(0<=n.indexOf(e,v)){var x=c.replace(/\./g,"/")+"_"+v;A++;h(x,function(c){for(var e in c){var h=c[e],n=e.match(/(.+)\/([^\/]+)$/),H;if(n&&(H=n[2],
n=n[1]+"/",h._localized)){var x;if("ROOT"===v){var t=x=h._localized;delete h._localized;t.root=h;q[a.toAbsMid(e)]=t}else x=h._localized,q[a.toAbsMid(n+H+"/"+v)]=h;v!==f&&function(c,e,h,v){var n=[],H=[];g(f,function(f){v[f]&&(n.push(a.toAbsMid(c+f+"/"+e)),H.push(a.toAbsMid(c+e+"/"+f)))});n.length?(A++,b(n,function(){for(var b=n.length-1;0<=b;b--)h=d.mixin(d.clone(h),arguments[b]),q[H[b]]=h;q[a.toAbsMid(c+e+"/"+f)]=d.clone(h);p()})):q[a.toAbsMid(c+e+"/"+f)]=h}(n,H,h,x)}}p()});return!0}return!1})}b=
b||a;v();n.forEach(m.config.extraLocale,v)},v=function(){},v=function(a){for(var c,e=a.split("/"),f=m.global[e[0]],b=1;f&&b<e.length-1;f=f[e[b++]]);f&&((c=f[e[b]])||(c=f[e[b].replace(/-/g,"_")]),c&&(q[a]=c));return c};h.getLocalization=function(c,e,f){var b;c=y(c,e,f);t(c,a,function(a){b=a});return b};return d.mixin(h,{dynamic:!0,normalize:function(a,c){return/^\./.test(a)?c(a):a},load:t,cache:q,getL10nName:w})})},"dojo/json":function(){define(["./has"],function(m){var a="undefined"!=typeof JSON;
m.add("json-parse",a);m.add("json-stringify",a&&'{"a":1}'==JSON.stringify({a:0},function(a,b){return b||1}));if(m("json-stringify"))return JSON;var g=function(a){return('"'+a.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:m("json-parse")?JSON.parse:function(a,b){if(b&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(a))throw new SyntaxError("Invalid characters in JSON");
return eval("("+a+")")},stringify:function(a,b,d){function h(a,p,e){b&&(a=b(e,a));var f;f=typeof a;if("number"==f)return isFinite(a)?a+"":"null";if("boolean"==f)return a+"";if(null===a)return"null";if("string"==typeof a)return g(a);if("function"==f||"undefined"==f)return c;if("function"==typeof a.toJSON)return h(a.toJSON(e),p,e);if(a instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(c,e,f){c=a["getUTC"+e]()+(f?1:0);return 10>c?"0"+
c:c});if(a.valueOf()!==a)return h(a.valueOf(),p,e);var n=d?p+d:"",w=d?" ":"",C=d?"\n":"";if(a instanceof Array){var w=a.length,B=[];for(e=0;e<w;e++)f=h(a[e],n,e),"string"!=typeof f&&(f="null"),B.push(C+n+f);return"["+B.join(",")+C+p+"]"}B=[];for(e in a){var t;if(a.hasOwnProperty(e)){if("number"==typeof e)t='"'+e+'"';else if("string"==typeof e)t=g(e);else continue;f=h(a[e],n,e);"string"==typeof f&&B.push(C+n+t+":"+w+f)}}return"{"+B.join(",")+C+p+"}"}var c;"string"==typeof b&&(d=b,b=null);return h(a,
"","")}}})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(m,a){var g={};a.setObject("dojo.regexp",g);g.escapeString=function(a,b){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return b&&-1!=b.indexOf(a)?a:"\\"+a})};g.buildGroupRE=function(a,b,d){if(!(a instanceof Array))return b(a);for(var h=[],c=0;c<a.length;c++)h.push(b(a[c]));return g.group(h.join("|"),d)};g.group=function(a,b){return"("+(b?"?:":"")+a+")"};return g})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),
function(m,a,g,n,b,d,h,c,f){function p(a,c,e,f){return f.replace(/([a-z])\1*/ig,function(b){var d,g,p=b.charAt(0);b=b.length;var q=["abbr","wide","narrow"];switch(p){case "G":d=c[4>b?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":d=a.getFullYear();switch(b){case 1:break;case 2:if(!e.fullYear){d=String(d);d=d.substr(d.length-2);break}default:g=!0}break;case "Q":case "q":d=Math.ceil((a.getMonth()+1)/3);g=!0;break;case "M":case "L":d=a.getMonth();3>b?(d+=1,g=!0):(p=["months","L"==p?"standAlone":
"format",q[b-3]].join("-"),d=c[p][d]);break;case "w":d=y._getWeekOfYear(a,0);g=!0;break;case "d":d=a.getDate();g=!0;break;case "D":d=y._getDayOfYear(a);g=!0;break;case "e":case "c":if(d=a.getDay(),2>b){d=(d-n.getFirstDayOfWeek(e.locale)+8)%7;break}case "E":d=a.getDay();3>b?(d+=1,g=!0):(p=["days","c"==p?"standAlone":"format",q[b-3]].join("-"),d=c[p][d]);break;case "a":p=12>a.getHours()?"am":"pm";d=e[p]||c["dayPeriods-format-wide-"+p];break;case "h":case "H":case "K":case "k":g=a.getHours();switch(p){case "h":d=
g%12||12;break;case "H":d=g;break;case "K":d=g%12;break;case "k":d=g||24}g=!0;break;case "m":d=a.getMinutes();g=!0;break;case "s":d=a.getSeconds();g=!0;break;case "S":d=Math.round(a.getMilliseconds()*Math.pow(10,b-3));g=!0;break;case "v":case "z":if(d=y._getZone(a,!0,e))break;b=4;case "Z":p=y._getZone(a,!1,e);p=[0>=p?"+":"-",h.pad(Math.floor(Math.abs(p)/60),2),h.pad(Math.abs(p)%60,2)];4==b&&(p.splice(0,0,"GMT"),p.splice(3,0,":"));d=p.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
f);}g&&(d=h.pad(d,b));return d})}function e(c,e,f,b){var d=function(a){return a};e=e||d;f=f||d;b=b||d;var h=c.match(/(''|[^'])+/g),g="'"==c.charAt(0);a.forEach(h,function(a,c){a?(h[c]=(g?f:e)(a.replace(/''/g,"'")),g=!g):h[c]=""});return b(h.join(""))}function q(a,c,e,f){f=d.escapeString(f);e.strict||(f=f.replace(" a"," ?a"));return f.replace(/([a-z])\1*/ig,function(f){var b;b=f.charAt(0);var d=f.length,h="",g="";e.strict?(1<d&&(h="0{"+(d-1)+"}"),2<d&&(g="0{"+(d-2)+"}")):(h="0?",g="0{0,2}");switch(b){case "y":b=
"\\d{2,4}";break;case "M":case "L":2<d?(b=c["months-"+("L"==b?"standAlone":"format")+"-"+w[d-3]].slice(0).join("|"),e.strict||(b=b.replace(/\./g,""),b="(?:"+b+")\\.?")):b="1[0-2]|"+h+"[1-9]";break;case "D":b="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+h+"[1-9][0-9]|"+g+"[1-9]";break;case "d":b="3[01]|[12]\\d|"+h+"[1-9]";break;case "w":b="[1-4][0-9]|5[0-3]|"+h+"[1-9]";break;case "E":case "e":case "c":b=".+?";break;case "h":b="1[0-2]|"+h+"[1-9]";break;case "k":b="1[01]|"+h+"\\d";break;case "H":b="1\\d|2[0-3]|"+
h+"\\d";break;case "K":b="1\\d|2[0-4]|"+h+"[1-9]";break;case "m":case "s":b="[0-5]\\d";break;case "S":b="\\d{"+d+"}";break;case "a":d=e.am||c["dayPeriods-format-wide-am"];h=e.pm||c["dayPeriods-format-wide-pm"];b=d+"|"+h;e.strict||(d!=d.toLowerCase()&&(b+="|"+d.toLowerCase()),h!=h.toLowerCase()&&(b+="|"+h.toLowerCase()),-1!=b.indexOf(".")&&(b+="|"+b.replace(/\./g,"")));b=b.replace(/\./g,"\\.");break;default:b=".*"}a&&a.push(f);return"("+b+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var y={};m.setObject(f.id.replace(/\//g,
"."),y);y._getZone=function(a,c,e){return c?g.getTimezoneName(a):a.getTimezoneOffset()};y.format=function(a,c){c=c||{};var f=b.normalizeLocale(c.locale),d=c.formatLength||"short",f=y._getGregorianBundle(f),h=[],g=m.hitch(this,p,a,f,c);if("year"==c.selector)return e(f["dateFormatItem-yyyy"]||"yyyy",g);var n;"date"!=c.selector&&(n=c.timePattern||f["timeFormat-"+d])&&h.push(e(n,g));"time"!=c.selector&&(n=c.datePattern||f["dateFormat-"+d])&&h.push(e(n,g));return 1==h.length?h[0]:f["dateTimeFormat-"+d].replace(/\'/g,
"").replace(/\{(\d+)\}/g,function(a,c){return h[c]})};y.regexp=function(a){return y._parseInfo(a).regexp};y._parseInfo=function(a){a=a||{};var c=b.normalizeLocale(a.locale),c=y._getGregorianBundle(c),f=a.formatLength||"short",d=a.datePattern||c["dateFormat-"+f],h=a.timePattern||c["timeFormat-"+f],f="date"==a.selector?d:"time"==a.selector?h:c["dateTimeFormat-"+f].replace(/\{(\d+)\}/g,function(a,c){return[h,d][c]}),g=[];return{regexp:e(f,m.hitch(this,q,g,c,a)),tokens:g,bundle:c}};y.parse=function(c,
e){var f=/[\u200E\u200F\u202A\u202E]/g,b=y._parseInfo(e),d=b.tokens,h=b.bundle,f=(new RegExp("^"+b.regexp.replace(f,"")+"$",b.strict?"":"i")).exec(c&&c.replace(f,""));if(!f)return null;var p=["abbr","wide","narrow"],n=[1970,0,1,0,0,0,0],q="",f=a.every(f,function(c,f){if(!f)return!0;var b=d[f-1],g=b.length,b=b.charAt(0);switch(b){case "y":if(2!=g&&e.strict)n[0]=c;else if(100>c)c=Number(c),b=""+(new Date).getFullYear(),g=100*b.substring(0,2),b=Math.min(Number(b.substring(2,4))+20,99),n[0]=c<b?g+c:g-
100+c;else{if(e.strict)return!1;n[0]=c}break;case "M":case "L":if(2<g){if(g=h["months-"+("L"==b?"standAlone":"format")+"-"+p[g-3]].concat(),e.strict||(c=c.replace(".","").toLowerCase(),g=a.map(g,function(a){return a.replace(".","").toLowerCase()})),c=a.indexOf(g,c),-1==c)return!1}else c--;n[1]=c;break;case "E":case "e":case "c":g=h["days-"+("c"==b?"standAlone":"format")+"-"+p[g-3]].concat();e.strict||(c=c.toLowerCase(),g=a.map(g,function(a){return a.toLowerCase()}));c=a.indexOf(g,c);if(-1==c)return!1;
break;case "D":n[1]=0;case "d":n[2]=c;break;case "a":g=e.am||h["dayPeriods-format-wide-am"];b=e.pm||h["dayPeriods-format-wide-pm"];if(!e.strict){var v=/\./g;c=c.replace(v,"").toLowerCase();g=g.replace(v,"").toLowerCase();b=b.replace(v,"").toLowerCase()}if(e.strict&&c!=g&&c!=b)return!1;q=c==b?"p":c==g?"a":"";break;case "K":24==c&&(c=0);case "h":case "H":case "k":if(23<c)return!1;n[3]=c;break;case "m":n[4]=c;break;case "s":n[5]=c;break;case "S":n[6]=c}return!0}),b=+n[3];"p"===q&&12>b?n[3]=b+12:"a"===
q&&12==b&&(n[3]=0);b=new Date(n[0],n[1],n[2],n[3],n[4],n[5],n[6]);e.strict&&b.setFullYear(n[0]);var w=d.join(""),C=-1!=w.indexOf("d"),w=-1!=w.indexOf("M");if(!f||w&&b.getMonth()>n[1]||C&&b.getDate()>n[2])return null;if(w&&b.getMonth()<n[1]||C&&b.getDate()<n[2])b=g.add(b,"hour",1);return b};var w=["abbr","wide","narrow"],C=[],B={};y.addCustomFormats=function(a,c){C.push({pkg:a,name:c});B={}};y._getGregorianBundle=function(c){if(B[c])return B[c];var e={};a.forEach(C,function(a){a=b.getLocalization(a.pkg,
a.name,c);e=m.mixin(e,a)},this);return B[c]=e};y.addCustomFormats(f.id.replace(/\/date\/locale$/,".cldr"),"gregorian");y.getNames=function(a,c,e,b){var f;b=y._getGregorianBundle(b);a=[a,e,c];"standAlone"==e&&(e=a.join("-"),f=b[e],1==f[0]&&(f=void 0));a[1]="format";return(f||b[a.join("-")]).concat()};y.isWeekend=function(a,c){var e=n.getWeekend(c),b=(a||new Date).getDay();e.end<e.start&&(e.end+=7,b<e.start&&(b+=7));return b>=e.start&&b<=e.end};y._getDayOfYear=function(a){return g.difference(new Date(a.getFullYear(),
0,1,a.getHours()),a)+1};y._getWeekOfYear=function(a,c){1==arguments.length&&(c=0);var e=(new Date(a.getFullYear(),0,1)).getDay(),b=(e-c+7)%7,b=Math.floor((y._getDayOfYear(a)+b-1)/7);e==c&&b++;return b};return y})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(m,a){var g={};m.setObject("dojo.cldr.supplemental",g);g.getFirstDayOfWeek=function(a){a={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,
br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[g._region(a)];return void 0===a?1:a};g._region=function(g){g=a.normalizeLocale(g);g=g.split("-");var b=g[1];b?4==b.length&&(b=g[2]):b={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",
bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",
kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",
sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",
bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",
hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",
mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",
ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[g[0]];return b};g.getWeekend=
function(a){var b=g._region(a);a={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[b];b={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[b];void 0===a&&(a=6);void 0===b&&(b=0);return{start:a,end:b}};return g})},"esri/layers/vectorTiles/views/vectorTiles/WorkerTile":function(){define("require exports dojo/Deferred ../../core/promiseUtils ../../core/executeAsync ../../core/ObjectPool ./VertexMemoryBuffer ./IndexMemoryBuffer ./TileParser ./BackgroundBucket ./FillBucket ./LineBucket ./SymbolBucket ./Placement ./GeometryUtils".split(" "),
function(m,a,g,n,b,d,h,c,f,p,e,q,y,w,C){return function(){function a(){this.status=this.rotation=0;this._symbolBuckets=[];this.placementEngine=new w.PlacementEngine;this.polygonVertexBuffer=new h.PolygonMemoryBuffer;this.polygonOutlineVertexBuffer=new h.PolygonOutlineMemoryBuffer;this.polygonIndexBuffer=new c.TriangleElementMemoryBuffer;this.polygonOutlineIndexBuffer=new c.TriangleElementMemoryBuffer;this.lineVertexBuffer=new h.LineMemoryBuffer;this.lineIndexBuffer=new c.TriangleElementMemoryBuffer;
this.markerVertexBuffer=new h.SymbolMemoryBuffer;this.markerIndexBuffer=new c.TriangleElementMemoryBuffer;this.textVertexBuffer=new h.SymbolMemoryBuffer;this.textIndexBuffer=new c.TriangleElementMemoryBuffer}a.prototype.initialize=function(a,c,e,b){void 0===b&&(b=0);this.tileKey=a;this.refKey=c;this._workerTileHandler=e;this.rotation=b;this.placementEngine.setAngle(C.C_DEG_TO_RAD*b)};a.prototype.release=function(){this.tileKey=this.refKey="";this.rotation=this.status=0;this.polygonVertexBuffer.reset();
this.polygonOutlineVertexBuffer.reset();this.polygonIndexBuffer.reset();this.polygonOutlineIndexBuffer.reset();this.lineVertexBuffer.reset();this.lineIndexBuffer.reset();this.markerVertexBuffer.reset();this.markerIndexBuffer.reset();this.textVertexBuffer.reset();this.textIndexBuffer.reset();this.placementEngine.reset();this._symbolBuckets.length=0;this._workerTileHandler=null};a.prototype.setDataAndParse=function(a,c){var b=this,f=new g(function(a){b.status=6});this._parse(a,c).then(function(a){b.status=
4;for(var c=new Uint32Array([2,b.polygonVertexBuffer.sizeInBytes,3,b.polygonOutlineVertexBuffer.sizeInBytes,6,b.polygonIndexBuffer.sizeInBytes,7,b.polygonOutlineIndexBuffer.sizeInBytes,0,b.lineVertexBuffer.sizeInBytes,8,b.lineIndexBuffer.sizeInBytes,4,b.markerVertexBuffer.sizeInBytes,9,b.markerIndexBuffer.sizeInBytes,5,b.textVertexBuffer.sizeInBytes,10,b.textIndexBuffer.sizeInBytes]),d=[],h=a.length,g=0;g<h;g++){var n=a[g];if(n instanceof e)d.push(n.layerIndex),d.push(1),d.push(n.polygonIndexStart),
d.push(n.polygonIndexCount),d.push(n.polygonOutlineIndexStart),d.push(n.polygonOutlineIndexCount);else if(n instanceof q)d.push(n.layerIndex),d.push(2),d.push(n.triangleIndexStart),d.push(n.triangleIndexCount),d.push(n.connectorStart),d.push(n.connectorCount);else if(n instanceof y){d.push(n.layerIndex);d.push(3);d.push(n.sdfMarker?1:0);var w=n.markerPageMap;d.push(w.size);w.forEach(function(a,c){d.push(c);d.push(a[0]);d.push(a[1])});n=n.glyphsPageMap;d.push(n.size);n.forEach(function(a,c){d.push(c);
d.push(a[0]);d.push(a[1])})}else n instanceof p&&(d.push(n.layerIndex),d.push(0))}a=new Uint32Array(d);var h=b.polygonVertexBuffer.toBuffer(),g=b.polygonOutlineVertexBuffer.toBuffer(),n=b.polygonIndexBuffer.toBuffer(),w=b.polygonOutlineIndexBuffer.toBuffer(),C=b.lineVertexBuffer.toBuffer(),B=b.lineIndexBuffer.toBuffer(),t=b.markerVertexBuffer.toBuffer(),u=b.markerIndexBuffer.toBuffer(),D=b.textVertexBuffer.toBuffer(),z=b.textIndexBuffer.toBuffer();f.resolve({data:{bufferDataInfo:c.buffer,bucketDataInfo:a.buffer,
bufferData:[h,g,n,w,C,B,t,u,D,z]},buffers:[h,n,g,w,C,B,t,u,D,z,c.buffer,a.buffer]})});return f.promise};a.prototype.addBucket=function(a){this._symbolBuckets.push(a)};a.prototype.updateSymbols=function(a){var c=this,e=this._symbolBuckets;if(!e||0===e.length)return n.resolve({data:null,buffers:null});this.rotation=a;var f=this.placementEngine;f.reset();f.setAngle(a/256*360*C.C_DEG_TO_RAD);var d=this.markerVertexBuffer;d.reset();var h=this.markerIndexBuffer;h.reset();var g=this.textVertexBuffer;g.reset();
var p=this.textIndexBuffer;p.reset();var q=[],w=e.length,y=0;return b(function(){if(6===c.status||0===c.status)return!0;if(y<w){var a=e[y++].copy(d,h,g,p,f);a&&(q.push(a),a.updateSymbols())}return y>=w},5).then(function(){if(6===c.status||0===c.status||0===d.sizeInBytes&&0===h.sizeInBytes&&0===g.sizeInBytes&&0===p.sizeInBytes)return{data:null,buffers:null};var a=new Uint32Array([4,d.sizeInBytes,9,h.sizeInBytes,5,g.sizeInBytes,10,p.sizeInBytes]),e=[];w=q.length;for(var b=0;b<w;b++){var f=q[b];e.push(f.layerIndex);
e.push(3);e.push(f.sdfMarker?1:0);var n=f.markerPageMap;e.push(n.size);n.forEach(function(a,c){e.push(c);e.push(a[0]);e.push(a[1])});f=f.glyphsPageMap;e.push(f.size);f.forEach(function(a,c){e.push(c);e.push(a[0]);e.push(a[1])})}var b=new Uint32Array(e),f=d.toBuffer(),n=h.toBuffer(),v=g.toBuffer(),H=p.toBuffer();return{data:{bufferDataInfo:a.buffer,bucketDataInfo:b.buffer,bufferData:[f,n,v,H]},buffers:[f,n,v,H,a.buffer,b.buffer]}}).otherwise(function(a){return n.resolve({data:null,buffers:null})})};
a.prototype.setObsolete=function(){this.status=6};a.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};a.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};a.prototype._parse=function(a,c){if(!a||0===a.byteLength)return n.resolve([]);this.status=2;return(new f(a,this,c)).parse()};a.pool=new d(a);return a}()})},"esri/layers/vectorTiles/core/executeAsync":function(){define(["require","exports","dojo/Deferred","./now"],function(m,a,g,n){return function(a,
d){var b;if(!d||0>=d)d=500;var c=new g(function(){b&&clearTimeout(b)}),f=function(){if(!c.isFulfilled()){for(var h=n(),e=!1;!e&&n()-h<d;)e=!0===a();e?c.resolve():b=setTimeout(f,0)}};b=setTimeout(f,0);return c.promise}})},"esri/layers/vectorTiles/core/now":function(){define(["require","exports","./global"],function(m,a,g){return function(){var a=g.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};
if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};var b;b=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-b}}()})},"esri/layers/vectorTiles/core/global":function(){define(["require","exports"],function(m,a){return function(){if("undefined"!==typeof global)return global;if("undefined"!==typeof window)return window;if("undefined"!==typeof self)return self}()})},"esri/layers/vectorTiles/core/ObjectPool":function(){define(["require",
"exports"],function(m,a){var g=function(){return function(){}}();return function(){function a(a,d,h,c,f){void 0===c&&(c=1);void 0===f&&(f=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=d;this.releaseFunction=h;this.growthSize=c;!0===d?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof d&&(this.acquireFunction=d);this._pool=Array(f);this._set=new Set;this._initialSize=f;for(a=0;a<f;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(c,1)}a.prototype.acquire=
function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];d=this.classConstructor||g;if(0===this._pool.length)for(var h=this.growthSize,c=0;c<h;c++)this._pool[c]=new d;d=this._pool.shift();this.acquireFunction?this.acquireFunction.apply(this,[d].concat(a)):d&&d.acquire&&"function"===typeof d.acquire&&d.acquire.apply(d,a);this._set.delete(d);return d};a.prototype.release=function(a){a&&!this._set.has(a)&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&
a.release(),this._pool.push(a),this._set.add(a))};a.prototype.prune=function(){if(!(this._pool.length<=this._initialSize))for(var a;this._initialSize>this._pool.length;)a=this._pool.shift(),this._set.delete(a),a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.prototype._constructorAcquireFunction=function(a){for(var b=[],h=1;h<arguments.length;h++)b[h-1]=arguments[h];(c=this.classConstructor).call.apply(c,[a].concat(b));var c};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/VertexMemoryBuffer":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./MemoryBuffer ./GeometryUtils".split(" "),
function(m,a,g,n,b,d){Object.defineProperty(a,"__esModule",{value:!0});m=function(a){function c(){return a.call(this,12)||this}g(c,a);c.prototype.add=function(a,c,e,d,h,g,n){var f=this.array,p=this.index;a=b.i1616to32(a,c);f.push(a);a=b.i8888to32(Math.round(31*e),Math.round(31*d),Math.round(31*h),Math.round(31*g));f.push(a);a=b.i1616to32(n,0);f.push(a);return p};return c}(b);a.LineMemoryBuffer=m;m=function(a){function c(){return a.call(this,4)||this}g(c,a);c.prototype.add=function(a,c){var e=this.index;
this.array.push(b.i1616to32(a,c));return e};return c}(b);a.LineJoinMemoryBuffer=m;m=function(a){function c(){return a.call(this,4)||this}g(c,a);c.prototype.add=function(a,c){this.array.push(b.i1616to32(a,c))};return c}(b);a.PolygonMemoryBuffer=m;m=function(a){function c(){return a.call(this,8)||this}g(c,a);c.prototype.add=function(a,c,e,d,h,g){var f=this.array,p=this.index;a=b.i1616to32(a,c);f.push(a);a=b.i8888to32(Math.round(15*e),Math.round(15*d),h,g);f.push(a);return p};return c}(b);a.PolygonOutlineMemoryBuffer=
m;m=function(a){function c(){return a.call(this,16)||this}g(c,a);c.prototype.add=function(a,c,e,h,g,n,C,B,t,u){var f=this.array,p=this.index;a=b.i1616to32(a,c);f.push(a);a=b.i1616to32(Math.round(32*e),Math.round(32*h));f.push(a);a=b.i8888to32(g/4,n/4,0,0);f.push(a);a=b.i8888to32(Math.ceil(10*u),d.radToByte(C),10*B,10*Math.min(t,25));f.push(a);return p};return c}(b);a.SymbolMemoryBuffer=m})},"esri/layers/vectorTiles/core/tsSupport/decorateHelper":function(){define([],function(){return function(m,a,
g,n){var b=arguments.length,d=3>b?a:null===n?n=Object.getOwnPropertyDescriptor(a,g):n,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)d=Reflect.decorate(m,a,g,n);else for(var c=m.length-1;0<=c;c--)if(h=m[c])d=(3>b?h(d):3<b?h(a,g,d):h(a,g))||d;return 3<b&&d&&Object.defineProperty(a,g,d),d}})},"esri/layers/vectorTiles/views/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(m,a){return function(){function a(a){this._array=[];0>=a&&console.error("strideInBytes must be positive!");
this._stride=a}Object.defineProperty(a.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});a.prototype.reset=
function(){this.array.length=0};a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(a,b){return 65535&a|b<<16};a.i8888to32=function(a,b,d,h){return a&255|(b&255)<<8|(d&255)<<16|h<<24};a.i8816to32=function(a,b,d){return a&255|(b&255)<<8|d<<16};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(m,a){function g(a,d){a%=d;return 0<=a?a:a+d}Object.defineProperty(a,"__esModule",{value:!0});
a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var n=1/Math.LN2;a.positiveMod=g;a.radToByte=function(b){return g(b*a.C_RAD_TO_256,256)};a.degToByte=function(b){return g(b*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*n};a.sqr=function(a){return a*a};a.clamp=function(a,d,h){return Math.min(Math.max(a,
d),h)};a.interpolate=function(a,d,h){return a*(1-h)+d*h};a.between=function(a,d,h){return a>=d&&a<=h||a>=h&&a<=d}})},"esri/layers/vectorTiles/views/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./MemoryBuffer"],function(m,a,g,n,b){Object.defineProperty(a,"__esModule",{value:!0});m=function(a){function b(){return a.call(this,12)||this}g(b,a);b.prototype.add=function(a,b,d){var c=this.array;c.push(a);
c.push(b);c.push(d)};return b}(b);a.TriangleElementMemoryBuffer=m;b=function(a){function b(){return a.call(this,4)||this}g(b,a);b.prototype.add=function(a){this.array.push(a)};return b}(b);a.PointElementMemoryBuffer=b})},"esri/layers/vectorTiles/views/vectorTiles/TileParser":function(){define("require exports dojo/promise/all ../../core/promiseUtils ../../core/executeAsync ../../core/pbf ./SourceLayerData ./Feature ./BackgroundBucket ./FillBucket ./LineBucket ./SymbolBucket ../2d/engine/webgl/TileClipper".split(" "),
function(m,a,g,n,b,d,h,c,f,p,e,q,y){return function(){function a(a,c,e){this._pbfTile=new d(new Uint8Array(a),new DataView(a));this._tile=c;this._connection=e;this._layers=c.getLayers();e=c.tileKey.split("/").map(parseFloat);var b=e[0];a=e[1];e=e[2];this._level=b;c.refKey&&(c=c.refKey.split("/").map(parseFloat)[0],c=b-c,0<c&&(b=(1<<c)-1,this._tileClipper=new y.TileClipper(c,a&b,e&b)));this._tileClipper||(this._tileClipper=new y.SimpleBuilder)}a.prototype.parse=function(){for(var a=this,e=this._parseTileData(this._pbfTile),
f=this._layers,d=f.length,h=this._level,p,q=[],v={},w=new Set,d=d-1;0<=d;d--)if(p=f[d],!(p.minzoom&&h<p.minzoom||p.maxzoom&&h>=p.maxzoom||p.layout&&"none"===p.layout.visibility))if(0===p.type)p=this._createBucket(p),p.layerIndex=d,q.push(p);else{var y=p.sourceLayer,m=e[y];m&&(w.add(y),p=this._createBucket(p))&&(p.layerIndex=d,p.layerExtent=m.extent,(m=v[y])||(m=v[y]=[]),m.push(p))}var F=10*(this._level+1),E=[],Q=[],O=[],P=[],R=this._tileClipper,S=new Set,z={},H=[];w.forEach(function(a){return H.push(a)});
var J=0,N=0,K=H.length;return b(function(){if(6===a._tile.status)return!0;switch(J){case 0:if(N<K){var b=H[N++],f=e[b],d=v[b];if(d&&0!==d.length)for(b=f.getData();b.next(2);){var h=new c(b.getMessage(),f),g=h.values;if(g&&(g=g._minzoom)&&g>=F)continue;for(var p=0,n=d;p<n.length;p++)g=n[p],g.pushFeature(h)}}else{f=a._tile;for(b in v)for(d=v[b],h=0;h<d.length;h++)g=d[h],g.hasFeatures()&&(3===g.layer.type?(E.push(g),f.addBucket(g)):g.layer.refLayerId?O.push(g):(Q.push(g),P[g.layer.id]=g));J=1;N=0;K=
E.length}break;case 1:N<K?E[N++].getResources(R,S,z):J=2}return 2===J},50).then(function(){if(6===a._tile.status)return[];var c=[],e=a._tile.getWorkerTileHandler(),f;0<S.size&&(f=e.fetchSprites(S,a._connection),c.push(f));for(var d in z)f=z[d],0<f.size&&(f=e.fetchGlyphs(a._tile.tileKey,d,f,a._connection),c.push(f));return g(c).then(function(c){if(6===a._tile.status)return[];var e=0,f=0,d=Q.length;return b(function(){if(6===a._tile.status)return!0;switch(e){case 0:if(f<d){var c=Q[f++];c.processFeatures(R,
a._tile);q.push(c)}else e=1,f=0,d=O.length;break;case 1:for(var b=0;b<O.length;b++){var c=O[b],h=P[c.layer.refLayerId];h&&(h.assignBufferInfo(c),q.push(c))}e=2;f=0;d=E.length;break;case 2:f<d?(c=E[f++],c.processFeatures(R,a._tile),q.push(c)):e=3}return 3===e},50).then(function(){q.sort(function(a,c){return a.layerIndex-c.layerIndex});return q})}).otherwise(function(a){return n.reject(Error(a))})}).otherwise(function(a){return n.reject(Error(a))})};a.prototype._parseTileData=function(a){for(var c=
{};a.next();)switch(a.tag()){case 3:var e=new h(a.getMessage());c[e.name]=e;break;default:a.skip()}return c};a.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 3:return this._createSymbolBucket(a)}};a.prototype._createBackgroundBucket=function(a){return new f(a,this._level)};a.prototype._createFillBucket=function(a){var c=this._tile;return new p(a,this._level,c.polygonVertexBuffer,
c.polygonIndexBuffer,c.polygonOutlineVertexBuffer,c.polygonOutlineIndexBuffer)};a.prototype._createLineBucket=function(a){var c=this._tile;return new e(a,this._level,c.lineVertexBuffer,c.lineIndexBuffer)};a.prototype._createSymbolBucket=function(a){var c=this._tile;return new q(a,this._level,c.markerVertexBuffer,c.markerIndexBuffer,c.textVertexBuffer,c.textIndexBuffer,c.placementEngine,c.getWorkerTileHandler())};return a}()})},"esri/layers/vectorTiles/core/pbf":function(){define(["require","exports"],
function(m,a){return function(){function a(a,b,d,h){this._tag=0;this._dataType=99;this._data=a;this._dataView=b;this._pos=d||0;this._end=h||a.byteLength}a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.next=function(a){for(;;){if(this._pos===this._end)return!1;var b=this._decodeVarint();this._tag=b>>3;this._dataType=b&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};
a.prototype.getInt32=function(){return this._decodeVarint()};a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){return this._decodeVarint()};a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){return this._decodeSVarint()};a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};
a.prototype.getFixed64=function(){var a=this._dataView,b=this._pos,a=a.getUint32(b,!0)+4294967296*a.getUint32(b+4,!0);this._skip(8);return a};a.prototype.getSFixed64=function(){var a=this._dataView,b=this._pos,a=a.getUint32(b,!0)+4294967296*a.getInt32(b+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=
function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=function(){var a=this._dataView.getFloat32(this._pos,!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),b=this._pos,b=this._toString(this._data,b,b+a);this._skip(a);return b};a.prototype.getBytes=function(){var a=this._getLength(),b=this._pos,b=this._toBytes(this._data,b,b+a);this._skip(a);return b};a.prototype.getMessage=function(){var g=this._getLength(),b=this._pos,
b=new a(this._data,this._dataView,b,b+g);this._skip(g);return b};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,b=this._pos,d=0,h;if(10<=this._end-
b){if(h=a[b++],d|=h&127,0!==(h&128)&&(h=a[b++],d|=(h&127)<<7,0!==(h&128)&&(h=a[b++],d|=(h&127)<<14,0!==(h&128)&&(h=a[b++],d|=(h&127)<<21,0!==(h&128)&&(h=a[b++],d+=268435456*(h&127),0!==(h&128)&&(h=a[b++],d+=34359738368*(h&127),0!==(h&128)&&(h=a[b++],d+=4398046511104*(h&127),0!==(h&128)&&(h=a[b++],d+=562949953421312*(h&127),0!==(h&128)&&(h=a[b++],d+=72057594037927936*(h&127),0!==(h&128)&&(h=a[b++],d+=0x7fffffffffffffff*(h&127),0!==(h&128)))))))))))throw Error("Varint too long!");}else{for(var c=1;b!==
this._end;){h=a[b];if(0===(h&128))break;++b;d+=(h&127)*c;c*=128}if(b===this._end)throw Error("Varint overrun!");++b;d+=h*c}this._pos=b;return d};a.prototype._decodeSVarint=function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._toString=function(a,b,d){var h="",c="";for(d=Math.min(this._end,d);b<d;++b){var f=a[b];f&128?c+="%"+f.toString(16):(h+=decodeURIComponent(c)+
String.fromCharCode(f),c="")}c.length&&(h+=decodeURIComponent(c));return h};a.prototype._toBytes=function(a,b,d){d=Math.min(this._end,d);return new Uint8Array(a.buffer,b,d-b)};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(m,a){return function(){function a(g){this.extent=4096;this.keys=[];this.values=[];for(this._pbfLayer=g.clone();g.next();)switch(g.tag()){case 1:this.name=g.getString();break;case 3:this.keys.push(g.getString());
break;case 4:this.values.push(a._parseValue(g.getMessage()));break;case 5:this.extent=g.getUInt32();break;default:g.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getInt64();case 5:return a.getUInt64();case 6:return a.getSInt64();case 7:return a.getBool();default:a.skip()}return null};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/Feature":function(){define(["require",
"exports","../2d/engine/webgl/Geometry"],function(m,a,g){return function(){function a(a,d){this.values={};for(var b=d.keys,c=d.values;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();break;case 2:for(var f=a.getMessage(),g=this.values;!f.empty();){var e=f.getUInt32(),q=f.getUInt32();g[b[e]]=c[q]}break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}a.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;var b=
this._pbfGeometry,h,c;a?a.reset(this.type):h=[];for(var f=1,p=0,e=0,q=0;!b.empty();)switch(0===p&&(p=b.getUInt32(),f=p&7,p>>=3),p--,f){case 1:e+=b.getSInt32();q+=b.getSInt32();a?a.moveTo(e,q):(c&&h.push(c),c=[],c.push(new g.Point(e,q)));break;case 2:e+=b.getSInt32();q+=b.getSInt32();a?a.lineTo(e,q):c.push(new g.Point(e,q));break;case 7:a?a.close():c&&!c[0].equals(e,q)&&c.push(c[0].clone());break;default:throw Error("Invalid path operation");}a?a=a.result():(c&&h.push(c),a=h);return this._geometry=
a};return a}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(m,a){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function a(a,d){this.x=a;this.y=d}a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.equals=function(a,d){return a===this.x&&d===this.y};a.prototype.isEqual=function(a){return a.x===this.x&&a.y===this.y};a.prototype.setCoords=function(a,d){this.x=a;this.y=d};a.prototype.normalize=function(){var a=
this.x,d=this.y,a=Math.sqrt(a*a+d*d);this.x/=a;this.y/=a};a.prototype.rightPerpendicular=function(){var a=this.x;this.x=this.y;this.y=-a};a.prototype.move=function(a,d){this.x+=a;this.y+=d};a.prototype.assign=function(a){this.x=a.x;this.y=a.y};a.prototype.assignAdd=function(a,d){this.x=a.x+d.x;this.y=a.y+d.y};a.prototype.assignSub=function(a,d){this.x=a.x-d.x;this.y=a.y-d.y};a.prototype.rotate=function(a,d){var b=this.x,c=this.y;this.x=b*a-c*d;this.y=b*d+c*a};a.prototype.scale=function(a){this.x*=
a;this.y*=a};a.prototype.length=function(){var a=this.x,d=this.y;return Math.sqrt(a*a+d*d)};a.distance=function(a,d){var b=d.x-a.x,c=d.y-a.y;return Math.sqrt(b*b+c*c)};a.add=function(b,d){return new a(b.x+d.x,b.y+d.y)};a.sub=function(b,d){return new a(b.x-d.x,b.y-d.y)};return a}();a.Point=g})},"esri/layers/vectorTiles/views/vectorTiles/BackgroundBucket":function(){define(["require","exports","../../core/tsSupport/extendsHelper","../../core/tsSupport/decorateHelper","./Bucket"],function(m,a,g,n,b){return function(a){function b(c,
f){return a.call(this,c,f)||this}g(b,a);return b}(b)})},"esri/layers/vectorTiles/views/vectorTiles/Bucket":function(){define(["require","exports"],function(m,a){return function(){function a(a,b){this.layerExtent=4096;this._features=[];this.layer=a;this.zoom=b;this._filter=a.getFeatureFilter()}a.prototype.pushFeature=function(a){this._filter.filter(a)&&this._features.push(a)};a.prototype.hasFeatures=function(){return 0<this._features.length};a.prototype.processFeatures=function(a,b){};a.prototype.assignBufferInfo=
function(a){};return a}()})},"esri/layers/vectorTiles/views/vectorTiles/FillBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/ArrayPool ./Bucket ../2d/engine/webgl/Geometry ../../core/libs/earcut/earcut".split(" "),function(m,a,g,n,b,d,h,c){return function(a){function f(c,f,b,d,h,g){c=a.call(this,c,f)||this;c.polygonVertexBuffer=b;c.polygonIndexBuffer=d;c.polygonOutlineVertexBuffer=h;c.polygonOutlineIndexBuffer=g;return c}
g(f,a);Object.defineProperty(f.prototype,"polygonIndexStart",{get:function(){return this._triangleElementsStart},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"polygonIndexCount",{get:function(){return this._triangleElementsNum},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"polygonOutlineIndexStart",{get:function(){return this._outlineElementsStart},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"polygonOutlineIndexCount",{get:function(){return this._outlineElementsNum},
enumerable:!0,configurable:!0});f.prototype.assignBufferInfo=function(a){a._triangleElementsStart=this._triangleElementsStart;a._triangleElementsNum=this._triangleElementsNum;a.layer.hasPaintProperty("fill-outline-color")?(a._outlineElementsStart=this._outlineElementsStart,a._outlineElementsNum=this._outlineElementsNum):(a._outlineElementsStart=0,a._outlineElementsNum=0)};f.prototype.processFeatures=function(a,c){this._triangleElementsStart=this.polygonIndexBuffer.index;this._triangleElementsNum=
0;this._outlineElementsStart=this.polygonOutlineIndexBuffer.index;this._outlineElementsNum=0;a&&a.setExtent(this.layerExtent);for(var e=this.layer.getPaintValue("fill-pattern",this.zoom),e=this.layer.getPaintValue("fill-antialias",this.zoom)&&void 0===e,f=0,b=this._features;f<b.length;f++){var d=b[f].getGeometry(a);this._processFeature(d,e)}};f.prototype._processFeature=function(a,c){if(a){var e=a.length;if(c)for(var b=0;b<e;b++)this._processOutline(a[b]);for(var d,b=0;b<e;b++){var h=f._area(a[b]);
128<h?(void 0!==d&&this._processFill(a,d),d=[b]):-128>h&&void 0!==d&&d.push(b)}void 0!==d&&this._processFill(a,d)}};f.prototype._processOutline=function(a){var c=this.polygonOutlineVertexBuffer,e=this.polygonOutlineIndexBuffer,f=e.index,b,d,g,p=new h.Point(0,0),n=new h.Point(0,0),G=new h.Point(0,0),D=-1,v=-1,x=b=-1,I=-1,m=a.length;if(!(2>m)){var F=a[0];for(b=a[m-1];m&&b.isEqual(F);)--m,b=a[m-1];if(!(2>m-0)){for(F=0;F<m;++F){0===F?(b=a[m-1],d=a[0],g=a[1],p.assignSub(d,b),p.normalize(),p.rightPerpendicular()):
(b=d,d=g,g=F!==m-1?a[F+1]:a[0],p.assign(n));n.assignSub(g,d);n.normalize();n.rightPerpendicular();b=p.x*n.y-p.y*n.x;G.assignAdd(p,n);G.normalize();var E=-G.x*-p.x+-G.y*-p.y,E=Math.abs(0!==E?1/E:1);8<E&&(E=8);0<=b?(b=c.add(d.x,d.y,p.x,p.y,0,1),-1===x&&(x=b),0<=D&&0<=v&&0<=b&&e.add(D,v,b),v=c.add(d.x,d.y,E*-G.x,E*-G.y,0,-1),-1===I&&(I=v),0<=D&&0<=v&&0<=b&&e.add(D,v,b),D=v,v=b,b=c.add(d.x,d.y,G.x,G.y,0,1),0<=D&&0<=v&&0<=b&&e.add(D,v,b),v=c.add(d.x,d.y,n.x,n.y,0,1)):(b=c.add(d.x,d.y,E*G.x,E*G.y,0,1),
-1===x&&(x=b),0<=D&&0<=v&&0<=b&&e.add(D,v,b),v=c.add(d.x,d.y,-p.x,-p.y,0,-1),-1===I&&(I=v),0<=D&&0<=v&&0<=b&&e.add(D,v,b),D=v,v=b,b=c.add(d.x,d.y,-G.x,-G.y,0,-1),0<=D&&0<=v&&0<=b&&e.add(D,v,b),D=c.add(d.x,d.y,-n.x,-n.y,0,-1));0<=D&&0<=v&&0<=b&&e.add(D,v,b)}0<=D&&0<=v&&0<=x&&e.add(D,v,x);0<=D&&0<=x&&0<=I&&e.add(D,I,x);this._outlineElementsNum+=3*(e.index-f)}}};f.prototype._processFill=function(a,f){var e;1<f.length&&(e=[]);for(var d=0,h=0;h<f.length;h++){var g=f[h];0!==d&&e.push(d);d+=a[g].length}for(var h=
2*d,d=b.acquire(),p=0;p<f.length;p++)for(var g=f[p],g=a[g],q=g.length,n=0;n<q;++n)d.push(g[n].x),d.push(g[n].y);e=c(d,e,2);p=e.length;if(0<p){g=this.polygonVertexBuffer.index;for(q=0;q<h;)this.polygonVertexBuffer.add(d[q++],d[q++]);for(h=0;h<p;)this.polygonIndexBuffer.add(g+e[h++],g+e[h++],g+e[h++]);this._triangleElementsNum+=p}b.release(d)};f._area=function(a){for(var c=0,e=a.length-1,f=0;f<e;f++)c+=(a[f].x-a[f+1].x)*(a[f].y+a[f+1].y);c+=(a[e].x-a[0].x)*(a[e].y+a[0].y);return.5*c};return f}(d)})},
"esri/layers/vectorTiles/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(m,a,g){var n=Array.prototype.splice;m=function(){function a(a,c){void 0===a&&(a=50);void 0===c&&(c=50);this._pool=new g(Array,!1,function(a){return a.length=0},c,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var c=this.acquire();a.unshift(0,0);n.apply(c,a);a.splice(0,2);return c};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return b.acquire()};
a.copy=function(a){return b.copy(a)};a.release=function(a){return b.release(a)};return a}();var b=new m(100);return m})},"esri/layers/vectorTiles/core/libs/earcut/earcut":function(){define([],function(){function m(c,e,b){b=b||2;G=c.length/b+(e?2*e.length:0);D=!1;var p=e&&e.length,q=p?e[0]*b:c.length,v=a(c,0,q,b,!0),w=[];if(!v)return w;var y,x,t,I;if(p)a:{var z=b,p=[],H,J,N;I=0;for(H=e.length;I<H;I++)J=e[I]*z,N=I<H-1?e[I+1]*z:c.length,J=a(c,J,N,z,!1),J===J.next&&(J.steiner=!0),p.push(f(J));p.sort(d);
for(I=0;I<p.length;I++){if(!v){v=null;break a}e=p[I];z=v;if(z=h(e,z))e=C(z,e),g(e,e.next);v=g(v,v.next)}}if(D)return w;if(c.length>80*b){y=t=c[0];x=p=c[1];for(z=b;z<q;z+=b)I=c[z],e=c[z+1],I<y&&(y=I),e<x&&(x=e),I>t&&(t=I),e>p&&(p=e);t=Math.max(t-y,p-x)}n(v,w,b,y,x,t);return w}function a(a,c,e,f,b){var d;if(b===0<A(a,c,e,f))for(b=c;b<e;b+=f)d=B(b,a[b],a[b+1],d);else for(b=e-f;b>=c;b-=f)d=B(b,a[b],a[b+1],d);d&&q(d,d.next)&&(t(d),d=d.next);return d}function g(a,c){if(!a)return a;c||(c=a);var b=a,f,d=
0,h=G*G/2;do{f=!1;if(b.steiner||!q(b,b.next)&&0!==e(b.prev,b,b.next))b=b.next;else{t(b);b=c=b.prev;if(b===b.next)return null;f=!0}if(d++>h)return D=!0,null}while(f||b!==c);return c}function n(a,f,d,h,B,E,u){if(a){if(!u&&E){var v=a,x=v;do null===x.z&&(x.z=c(x.x,x.y,h,B,E)),x.prevZ=x.prev,x=x.nextZ=x.next;while(x!==v);x.prevZ.nextZ=null;x.prevZ=null;var v=x,I,m,z,H,J,N,K=1;do{x=v;z=v=null;for(H=0;x;){H++;m=x;for(I=J=0;I<K&&(J++,m=m.nextZ,m);I++);for(N=K;0<J||0<N&&m;)0===J?(I=m,m=m.nextZ,N--):0!==N&&
m?x.z<=m.z?(I=x,x=x.nextZ,J--):(I=m,m=m.nextZ,N--):(I=x,x=x.nextZ,J--),z?z.nextZ=I:v=I,I.prevZ=z,z=I;x=m}z.nextZ=null;K*=2}while(1<H)}for(v=a;a.prev!==a.next;){x=a.prev;m=a.next;if(E)a:{z=a;N=h;var F=B,G=E;H=z.prev;J=z;K=z.next;if(0<=e(H,J,K))z=!1;else{var Q=H.x>J.x?H.x>K.x?H.x:K.x:J.x>K.x?J.x:K.x,A=H.y>J.y?H.y>K.y?H.y:K.y:J.y>K.y?J.y:K.y;I=c(H.x<J.x?H.x<K.x?H.x:K.x:J.x<K.x?J.x:K.x,H.y<J.y?H.y<K.y?H.y:K.y:J.y<K.y?J.y:K.y,N,F,G);N=c(Q,A,N,F,G);for(F=z.nextZ;F&&F.z<=N;){if(F!==z.prev&&F!==z.next&&p(H.x,
H.y,J.x,J.y,K.x,K.y,F.x,F.y)&&0<=e(F.prev,F,F.next)){z=!1;break a}F=F.nextZ}for(F=z.prevZ;F&&F.z>=I;){if(F!==z.prev&&F!==z.next&&p(H.x,H.y,J.x,J.y,K.x,K.y,F.x,F.y)&&0<=e(F.prev,F,F.next)){z=!1;break a}F=F.prevZ}z=!0}}else z=b(a);if(z)f.push(x.i/d),f.push(a.i/d),f.push(m.i/d),t(a),v=a=m.next;else{if(D)break;a=m;if(a===v){if(!u)n(g(a),f,d,h,B,E,1);else if(1===u){u=f;v=d;x=a;do m=x.prev,z=x.next.next,!q(m,z)&&y(m,x,x.next,z)&&w(m,z)&&w(z,m)&&(u.push(m.i/v),u.push(x.i/v),u.push(z.i/v),t(x),t(x.next),
x=a=z),x=x.next;while(x!==a);a=x;n(a,f,d,h,B,E,2)}else if(2===u)a:{u=a;do{for(v=u.next.next;v!==u.prev;){if(x=u.i!==v.i){x=u;m=v;z=void 0;if(z=x.next.i!==m.i&&x.prev.i!==m.i){z=void 0;b:{z=x;do{if(z.i!==x.i&&z.next.i!==x.i&&z.i!==m.i&&z.next.i!==m.i&&y(z,z.next,x,m)){z=!0;break b}z=z.next}while(z!==x);z=!1}z=!z}H=void 0;if(H=z&&w(x,m)&&w(m,x)){z=x;H=!1;J=(x.x+m.x)/2;m=(x.y+m.y)/2;do z.y>m!==z.next.y>m&&J<(z.next.x-z.x)*(m-z.y)/(z.next.y-z.y)+z.x&&(H=!H),z=z.next;while(z!==x)}x=H}if(x){a=C(u,v);u=
g(u,u.next);a=g(a,a.next);n(u,f,d,h,B,E);n(a,f,d,h,B,E);break a}v=v.next}u=u.next}while(u!==a)}break}}}}}function b(a){var c=a.prev,b=a.next;if(0<=e(c,a,b))return!1;for(var f=a.next.next,d=0;f!==a.prev;){if(p(c.x,c.y,a.x,a.y,b.x,b.y,f.x,f.y)&&0<=e(f.prev,f,f.next))return!1;f=f.next;if(d++>G)return D=!0,!1}return!0}function d(a,c){return a.x-c.x}function h(a,c){var e=c,b=a.x,f=a.y,d=-Infinity,h;do{if(!e)return null;if(f<=e.y&&f>=e.next.y){var g=e.x+(f-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(g<=b&&g>
d){d=g;if(g===b){if(f===e.y)return e;if(f===e.next.y)return e.next}h=e.x<e.next.x?e:e.next}}e=e.next}while(e!==c);if(!h)return null;if(b===d)return h.prev;for(var g=h,q=h.x,n=h.y,v=Infinity,y,e=h.next;e!==g;)b>=e.x&&e.x>=q&&p(f<n?b:d,f,q,n,f<n?d:b,f,e.x,e.y)&&(y=Math.abs(f-e.y)/(b-e.x),(y<v||y===v&&e.x>h.x)&&w(e,a)&&(h=e,v=y)),e=e.next;return h}function c(a,c,e,b,f){a=32767*(a-e)/f;c=32767*(c-b)/f;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;c=(c|c<<8)&16711935;c=(c|c<<4)&252645135;
c=(c|c<<2)&858993459;return(a|a<<1)&1431655765|((c|c<<1)&1431655765)<<1}function f(a){var c=a,e=a;do c.x<e.x&&(e=c),c=c.next;while(c!==a);return e}function p(a,c,e,b,f,d,h,g){return 0<=(f-h)*(c-g)-(a-h)*(d-g)&&0<=(a-h)*(b-g)-(e-h)*(c-g)&&0<=(e-h)*(d-g)-(f-h)*(b-g)}function e(a,c,e){return(c.y-a.y)*(e.x-c.x)-(c.x-a.x)*(e.y-c.y)}function q(a,c){return a.x===c.x&&a.y===c.y}function y(a,c,b,f){return q(a,c)&&q(b,f)||q(a,f)&&q(b,c)?!0:0<e(a,c,b)!==0<e(a,c,f)&&0<e(b,f,a)!==0<e(b,f,c)}function w(a,c){return 0>
e(a.prev,a,a.next)?0<=e(a,c,a.next)&&0<=e(a,a.prev,c):0>e(a,c,a.prev)||0>e(a,a.next,c)}function C(a,c){var e=new u(a.i,a.x,a.y),b=new u(c.i,c.x,c.y),f=a.next,d=c.prev;a.next=c;c.prev=a;e.next=f;f.prev=e;b.next=e;e.prev=b;d.next=b;b.prev=d;return b}function B(a,c,e,b){a=new u(a,c,e);b?(a.next=b.next,a.prev=b,b.next.prev=a,b.next=a):(a.prev=a,a.next=a);return a}function t(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function u(a,c,e){this.i=
a;this.x=c;this.y=e;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function A(a,c,e,b){for(var f=0,d=e-b;c<e;c+=b)f+=(a[d]-a[c])*(a[c+1]+a[d+1]),d=c;return f}var G,D;m.deviation=function(a,c,e,b){var f=c&&c.length,d=Math.abs(A(a,0,f?c[0]*e:a.length,e));if(f)for(var f=0,h=c.length;f<h;f++)d-=Math.abs(A(a,c[f]*e,f<h-1?c[f+1]*e:a.length,e));for(f=c=0;f<b.length;f+=3){var h=b[f]*e,g=b[f+1]*e,p=b[f+2]*e;c+=Math.abs((a[h]-a[p])*(a[g+1]-a[h+1])-(a[h]-a[g])*(a[p+1]-a[h+1]))}return 0===
d&&0===c?0:Math.abs((c-d)/d)};m.flatten=function(a){for(var c=a[0][0].length,e={vertices:[],holes:[],dimensions:c},f=0,b=0;b<a.length;b++){for(var d=0;d<a[b].length;d++)for(var h=0;h<c;h++)e.vertices.push(a[b][d][h]);0<b&&(f+=a[b-1].length,e.holes.push(f))}return e};return m})},"esri/layers/vectorTiles/views/vectorTiles/LineBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./Bucket ../2d/engine/webgl/LineTess ./style/StyleLayer".split(" "),
function(m,a,g,n,b,d,h){var c=new d.Tessellator({distanceAlongCorrection:!0});return function(a){function b(c,b,f,h){var e=a.call(this,c,b)||this;e.extrudeVectorsDoubleBuffer=[d.allocExtrudeVectors(),d.allocExtrudeVectors()];e.firstExtrudeVectors=d.allocExtrudeVectors();e.recycledTriangleBridge=d.allocTriangles(20);e.recycledTrianglePie=d.allocTriangles(20);e.lineVertexBuffer=f;e.lineIndexBuffer=h;c=c.getPaintValue("line-pattern",b);e.hasPattern=void 0!==c;return e}g(b,a);Object.defineProperty(b.prototype,
"triangleIndexStart",{get:function(){return this.triangleElementsStart},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"triangleIndexCount",{get:function(){return this.triangleElementsCount},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"connectorStart",{get:function(){return 0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"connectorCount",{get:function(){return 0},enumerable:!0,configurable:!0});b.prototype.assignBufferInfo=function(a){a.triangleElementsStart=
this.triangleElementsStart;a.triangleElementsCount=this.triangleElementsCount};b.prototype.processFeatures=function(a,c){this.triangleElementsStart=this.lineIndexBuffer.index;this.triangleElementsCount=0;a&&a.setExtent(this.layerExtent);for(var e=new h.LineLayout(this.layer,this.zoom),b=0,f=this._features;b<f.length;b++){var d=f[b].getGeometry(a);this._processFeature(e,d)}};b.prototype._processFeature=function(a,c){if(c){var e=c.length,b;for(b=0;b<e;b++)this._processGeometry(c[b],a)}};b.prototype._processGeometry=
function(a,c){if(!(2>a.length)){for(var e=a[0],b=a[a.length-1],f=b.x-e.x,b=b.y-e.y,e=1E-6>f*f+b*b,h=a[0],g=1;g<a.length;)f=a[g].x-h.x,b=a[g].y-h.y,1E-6>f*f+b*b?a.splice(g,1):(h=a[g],++g);if(!(2>a.length)){this.vertices=a;this.verticesLen=a.length;this.isClosed=e;this.cap=c.cap;this.join=c.join;this.almostParallelRads=.05;this.veryShallowRads=.1;this.miterSafeRads=d.MITER_SAFE_RADS;this.miterLimitMag=Math.min(c.miterLimit,d.SYSTEM_MAG_LIMIT);this.roundLimitRads=Math.min(c.roundLimit,.5);this.newRoundJoinsSafeRads=
2.3;for(var f=this.lineIndexBuffer.index,b=0,p=void 0,h=this.verticesLen,g=0;g<h;++g){var q=a[g],n=p===this.extrudeVectorsDoubleBuffer[g%2]?this.extrudeVectorsDoubleBuffer[(g+1)%2]:this.extrudeVectorsDoubleBuffer[g%2];g<h-1||!e||this.hasPattern?(this._computeExtrudeVectors(n,g),this._writeGPUVertices(q.x,q.y,b,n),!n.capCenter||e&&g===h-1||this._writeGPUPieElements(n),e&&0===g&&!this.hasPattern&&d.copyExtrudeVectors(this.firstExtrudeVectors,n)):d.copyExtrudeVectors(n,this.firstExtrudeVectors);p&&this._writeGPUBridgeElements(p,
n);g<h-1&&(p=a[g+1],q=d.length([p.x-q.x,p.y-q.y]),b+=q);p=n}this.triangleElementsCount+=3*(this.lineIndexBuffer.index-f)}}};b.prototype._computeExtrudeVectors=function(a,c){var b=this.vertices,e=this.verticesLen,f=this.isClosed,h=b[c],g=[void 0,void 0],p=[void 0,void 0];if(0<c&&c<e-1){var n=b[(c+e-1)%e],q=b[(c+1)%e];d.normalize(g,[h.x-n.x,h.y-n.y]);d.normalize(p,[q.x-h.x,q.y-h.y])}else if(0===c)q=b[(c+1)%e],d.normalize(p,[q.x-h.x,q.y-h.y]),f?(b=b[e-2],d.normalize(g,[h.x-b.x,h.y-b.y])):g=p;else if(c===
e-1)n=b[(c+e-1)%e],d.normalize(g,[h.x-n.x,h.y-n.y]),f?(b=b[1],d.normalize(p,[b.x-h.x,b.y-h.y])):p=g;else{console.error("Vertex index 'i' out of range.");return}f||0!==c?f||c!==e-1?this._computeJoinExtrudeVectors(a,g,p):this._computeCapExtrudeVectors(a,g,p,d.CapPosition.END):this._computeCapExtrudeVectors(a,g,p,d.CapPosition.START)};b.prototype._computeCapExtrudeVectors=function(a,b,f,h){0===this.cap?c.buttCap(a,b,f):1===this.cap?c.roundCap(a,b,f,h,d.getNumberOfSlices(Math.PI),h===d.CapPosition.START?
-1:1):2===this.cap?c.squareCap(a,b,f,h):(c.buttCap(a,b,f),console.error("Unknown cap type!"))};b.prototype._computeJoinExtrudeVectors=function(a,b,f){var e=d.getRads(b,f);if(e>Math.PI-this.almostParallelRads)c.rectJoin(a,b,f);else if(2===this.join||e<this.veryShallowRads)e<this.almostParallelRads?c.fastMiterJoin(a,b,f):e<this.miterSafeRads?c.miterJoin(a,b,f):c.bevelJoin(a,b,f,this.miterLimitMag);else if(0===this.join)c.bevelJoin(a,b,f,1);else if(1===this.join){var h=d.getNumberOfSlices(e);e<this.newRoundJoinsSafeRads?
2>h||e<this.roundLimitRads?c.bevelJoin(a,b,f,1):c.roundJoin(a,b,f,h):c.unitRoundJoin(a,b,f,h)}};b.prototype._writeGPUVertices=function(a,c,b,f){var e;for(e=0;e<f.vectors.count;++e){var d=this.lineVertexBuffer.add(a,c,f.vectors.items[e].vector[0],f.vectors.items[e].vector[1],f.vectors.items[e].texCoords[0],f.vectors.items[e].texCoords[1],b);f.vectors.items[e].base=d}};b.prototype._writeGPUBridgeElements=function(a,b){c.bridge(this.recycledTriangleBridge,a,b);var e;for(e=0;e<this.recycledTriangleBridge.count;++e){var f=
this.recycledTriangleBridge.items[e];this.lineIndexBuffer.add(f.v1.base,f.v2.base,f.v3.base)}};b.prototype._writeGPUPieElements=function(a){c.pie(this.recycledTrianglePie,a);for(a=0;a<this.recycledTrianglePie.count;++a){var b=this.recycledTrianglePie.items[a];this.lineIndexBuffer.add(b.v1.base,b.v2.base,b.v3.base)}};return b}(b)})},"esri/layers/vectorTiles/views/2d/engine/webgl/LineTess":function(){define(["require","exports"],function(m,a){function g(a){var c={items:[],count:0},b;for(b=0;b<a;++b)c.items.push(void 0);
return c}function n(a,c){G.vector[0]=a.vector[0];G.vector[1]=a.vector[1];G.texCoords[0]=a.texCoords[0];G.texCoords[1]=a.texCoords[1];G.direction[0]=a.direction[0];G.direction[1]=a.direction[1];G.base=a.base;a.vector[0]=c.vector[0];a.vector[1]=c.vector[1];a.texCoords[0]=c.texCoords[0];a.texCoords[1]=c.texCoords[1];a.direction[0]=c.direction[0];a.direction[1]=c.direction[1];a.base=c.base;c.vector[0]=G.vector[0];c.vector[1]=G.vector[1];c.texCoords[0]=G.texCoords[0];c.texCoords[1]=G.texCoords[1];c.direction[0]=
G.direction[0];c.direction[1]=G.direction[1];c.base=G.base}function b(a,c){return a[0]*c[0]+a[1]*c[1]}function d(a){return Math.sqrt(b(a,a))}function h(a,c){var b=d(c);a[0]=c[0]/b;a[1]=c[1]/b;return a}function c(a,c){a[0]=-c[1];a[1]=c[0];return a}function f(a,c){return a[0]*c[1]-a[1]*c[0]}function p(a,c){a[0]=-c[0];a[1]=-c[1];return a}function e(a,c,b){a[0]=c[0]*b;a[1]=c[1]*b;return a}function q(a,c,b){a[0]=c[0]+b[0];a[1]=c[1]+b[1];return a}function y(a,c){var e=b(a,c);return.999<e?0:-.999>e?Math.PI:
Math.acos(e)}function w(a,c,b,f,h){if(0===f)a.count=0;else{var g=d(c),p=e(D[0],c,1/g);b=e(D[1],b,1/g);p=y(p,b);p=(h?-1:1)*p/f;h=Math.cos(p);p=Math.sin(p);b=c[0];var n=c[1];for(c=0;c<f-1;++c)g=b,b=h*g-p*n,n=p*g+h*n,a.items[c][0]=b,a.items[c][1]=n;a.count=f-1}}function C(a){var c=a.count,b=Math.floor(c/2),e;for(e=0;e<b;++e){var f=a.items[e];a.items[e]=a.items[c-e-1];a.items[c-e-1]=f}}Object.defineProperty(a,"__esModule",{value:!0});var B;(function(a){a[a.ENTRY=1]="ENTRY";a[a.EXIT=2]="EXIT";a[a.CAP=
3]="CAP"})(B=a.VectorRole||(a.VectorRole={}));var t;(function(a){a[a.START=1]="START";a[a.END=2]="END"})(t=a.CapPosition||(a.CapPosition={}));a.SYSTEM_MAG_LIMIT=3.8;a.MITER_SAFE_RADS=2*Math.acos(1/a.SYSTEM_MAG_LIMIT);var u=a.SYSTEM_MAG_LIMIT*a.SYSTEM_MAG_LIMIT,A=16/(2*Math.PI);a.allocTriangles=function(a){var c={items:[],count:0},b;for(b=0;b<a;++b)c.items.push({v1:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]},v2:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,
void 0]},v3:{vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]}});return c};a.allocExtrudeVectors=function(){var a={items:[],count:0},c;for(c=0;30>c;++c)a.items.push({vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0]});c={};c[B.ENTRY]=g(20);c[B.EXIT]=g(20);c[B.CAP]=g(20);return{vectors:a,lists:c}};a.copyExtrudeVectors=function(a,c){var b;for(b=0;b<c.vectors.count;++b)a.vectors.items[b].vector[0]=c.vectors.items[b].vector[0],a.vectors.items[b].vector[1]=
c.vectors.items[b].vector[1],a.vectors.items[b].texCoords[0]=c.vectors.items[b].texCoords[0],a.vectors.items[b].texCoords[1]=c.vectors.items[b].texCoords[1],a.vectors.items[b].direction[0]=c.vectors.items[b].direction[0],a.vectors.items[b].direction[1]=c.vectors.items[b].direction[1],a.vectors.items[b].base=c.vectors.items[b].base;a.vectors.count=c.vectors.count;var e=c.lists[B.ENTRY],f=a.lists[B.ENTRY],d=c.lists[B.EXIT],h=a.lists[B.EXIT],g=c.lists[B.CAP],p=a.lists[B.CAP];for(b=0;b<e.count;++b)f.items[b]=
e.items[b];f.count=e.count;for(b=0;b<d.count;++b)h.items[b]=d.items[b];h.count=d.count;for(b=0;b<g.count;++b)p.items[b]=g.items[b];p.count=g.count;a.capCenter=c.capCenter};var G={vector:[void 0,void 0],texCoords:[void 0,void 0],direction:[void 0,void 0],base:void 0};a.swapExtrudeVectors=n;var D=[],v;for(v=0;32>v;++v)D.push([void 0,void 0]);var x=function(a){var c={items:[],count:0},b;for(b=0;b<a;++b)c.items.push([void 0,void 0]);return c}(16);a.length=d;a.normalize=h;a.getNumberOfSlices=function(a){return Math.max(Math.round(a*
A),1)};a.getRads=y;a.reverse=C;var I=[void 0,void 0],W=[void 0,void 0],F=[0,0],E=[0,0],Q=[0,0],O=[0,0],P=Math.cos(Math.PI/4),R=Math.sin(Math.PI/4),S=Math.sqrt(2);v=function(){function a(a){this._distanceAlongCorrection=a.distanceAlongCorrection}a.prototype.bridge=function(a,c,b){var e=c.vectors;c=c.lists[B.EXIT];var f=b.vectors,d=b.lists[B.ENTRY],h,g;if(c.count===d.count+1)b=c.items,h=e.items,g=d.items,f=f.items;else if(d.count===c.count+1)b=d.items,h=f.items,g=c.items,f=e.items;else if(c.count===
d.count)b=d.items,h=f.items,g=c.items,f=e.items;else{console.error("Cannot bridge "+c.count+" to "+d.count+".");a.count=0;return}e=c.count+d.count-2;a.count=e;I[0]=b;I[1]=g;W[0]=h;W[1]=f;for(c=0;c<e;++c)b=a.items[c],h=(c+0)%2,h=W[h][I[h][Math.floor((c+0)/2)]],b.v1.vector[0]=h.vector[0],b.v1.vector[1]=h.vector[1],b.v1.texCoords[0]=h.texCoords[0],b.v1.texCoords[1]=h.texCoords[1],b.v1.direction[0]=h.direction[0],b.v1.direction[1]=h.direction[1],b.v1.base=h.base,h=(c+1)%2,h=W[h][I[h][Math.floor((c+1)/
2)]],b.v2.vector[0]=h.vector[0],b.v2.vector[1]=h.vector[1],b.v2.texCoords[0]=h.texCoords[0],b.v2.texCoords[1]=h.texCoords[1],b.v2.direction[0]=h.direction[0],b.v2.direction[1]=h.direction[1],b.v2.base=h.base,h=(c+2)%2,h=W[h][I[h][Math.floor((c+2)/2)]],b.v3.vector[0]=h.vector[0],b.v3.vector[1]=h.vector[1],b.v3.texCoords[0]=h.texCoords[0],b.v3.texCoords[1]=h.texCoords[1],b.v3.direction[0]=h.direction[0],b.v3.direction[1]=h.direction[1],b.v3.base=h.base,h=b.v1.base&&b.v1.base.point||F,g=b.v2.base&&b.v2.base.point||
F,f=b.v3.base&&b.v3.base.point||F,E[0]=h[0]+b.v1.vector[0],E[1]=h[1]+b.v1.vector[1],Q[0]=g[0]+b.v2.vector[0],Q[1]=g[1]+b.v2.vector[1],O[0]=f[0]+b.v3.vector[0],O[1]=f[1]+b.v3.vector[1],0>(Q[0]-E[0])*(O[1]-E[1])-(O[0]-E[0])*(Q[1]-E[1])||n(b.v2,b.v3)};a.prototype.pie=function(a,c){if(0===c.lists[B.CAP].count)a.count=0;else if(1===c.lists[B.CAP].count)console.error("A single vector is not enough to define a pie."),a.count=0;else{a.count=c.lists[B.CAP].count-1;var b;for(b=0;b<a.count;++b){var e=a.items[b],
f=c.vectors.items[c.lists[B.CAP].items[b]];e.v1.vector[0]=f.vector[0];e.v1.vector[1]=f.vector[1];e.v1.texCoords[0]=f.texCoords[0];e.v1.texCoords[1]=f.texCoords[1];e.v1.direction[0]=f.direction[0];e.v1.direction[1]=f.direction[1];e.v1.base=f.base;f=c.vectors.items[c.lists[B.CAP].items[b+1]];e.v2.vector[0]=f.vector[0];e.v2.vector[1]=f.vector[1];e.v2.texCoords[0]=f.texCoords[0];e.v2.texCoords[1]=f.texCoords[1];e.v2.direction[0]=f.direction[0];e.v2.direction[1]=f.direction[1];e.v2.base=f.base;f=c.vectors.items[c.capCenter];
e.v3.vector[0]=f.vector[0];e.v3.vector[1]=f.vector[1];e.v3.texCoords[0]=f.texCoords[0];e.v3.texCoords[1]=f.texCoords[1];e.v3.direction[0]=f.direction[0];e.v3.direction[1]=f.direction[1];e.v3.base=f.base;var f=e.v1.base&&e.v1.base.point||F,d=e.v2.base&&e.v2.base.point||F,h=e.v3.base&&e.v3.base.point||F;E[0]=f[0]+e.v1.vector[0];E[1]=f[1]+e.v1.vector[1];Q[0]=d[0]+e.v2.vector[0];Q[1]=d[1]+e.v2.vector[1];O[0]=h[0]+e.v3.vector[0];O[1]=h[1]+e.v3.vector[1];0>(Q[0]-E[0])*(O[1]-E[1])-(O[0]-E[0])*(Q[1]-E[1])||
n(e.v2,e.v3)}}};a.prototype.buttCap=function(a,c,b){this.fastMiterJoin(a,c,b)};a.prototype.roundCap=function(a,c,b,e,f,d){void 0===d&&(d=0);this.fastMiterJoin(a,c,b);b=e===t.START?0:1;e=e===t.START?1:0;a.capCenter=a.vectors.count;c=a.vectors.items[a.capCenter];c.vector[0]=0;c.vector[1]=0;c.texCoords[0]=0;c.texCoords[1]=0;c.direction[0]=0;c.direction[1]=0;++a.vectors.count;w(x,a.vectors.items[b].vector,a.vectors.items[e].vector,f,!1);f=a.vectors.count;c=a.lists[B.CAP];c.items[0]=b;b=a.vectors.items[b].texCoords[1];
var h=a.vectors.items[e].texCoords[1],g;for(g=0;g<x.count;++g){var p=d*(1-Math.abs(x.count/2-g)/(x.count/2)),n=b+g/(x.count-1)*(h-b),q=x.items[g],H=a.vectors.items[f+g];H.vector[0]=q[0];H.vector[1]=q[1];H.texCoords[0]=p;H.texCoords[1]=n;H.direction[0]=0;H.direction[1]=0;c.items[g+1]=f+g}c.items[x.count+1]=e;c.count=x.count+2;a.vectors.count=f+x.count};a.prototype.squareCap=function(a,c,b,f){this.fastMiterJoin(a,c,b);c=f===t.START?0:1;b=f===t.START?1:0;var d=D[0],h=D[1],g=D[2],p=D[3];f=D[4];var n=
a.vectors.items[c].vector;d[0]=P*n[0]-R*n[1];d[1]=R*n[0]+P*n[1];e(p,d,S);h[0]=P*d[0]-R*d[1];h[1]=R*d[0]+P*d[1];g[0]=P*h[0]-R*h[1];g[1]=R*h[0]+P*h[1];e(f,g,S);c=a.vectors.items[c];c.vector[0]=p[0];c.vector[1]=p[1];a=a.vectors.items[b];a.vector[0]=f[0];a.vector[1]=f[1]};a.prototype.fastMiterJoin=function(a,b,e){e=c(D[0],e);b=p(D[1],e);var f=a.vectors.items[0];f.vector[0]=e[0];f.vector[1]=e[1];f.texCoords[0]=0;f.texCoords[1]=-1;f.direction[0]=0;f.direction[1]=0;e=a.vectors.items[1];e.vector[0]=b[0];
e.vector[1]=b[1];e.texCoords[0]=0;e.texCoords[1]=1;e.direction[0]=0;e.direction[1]=0;a.vectors.count=2;b=a.lists[B.ENTRY];b.items[0]=0;b.items[1]=1;b.count=2;b=a.lists[B.EXIT];b.items[0]=0;b.items[1]=1;b.count=2;a.lists[B.CAP].count=0;a.capCenter=void 0};a.prototype.miterJoin=function(a,f,d){var g=c(D[0],f),n=c(D[1],d),q=D[2];q[0]=g[0]+n[0];q[1]=g[1]+n[1];n=h(D[3],q);g=b(n,g);n=e(D[4],n,1/g);g=p(D[5],n);this._distanceAlongCorrection?(q=a.vectors.items[0],q.vector[0]=n[0],q.vector[1]=n[1],q.texCoords[0]=
0,q.texCoords[1]=-1,q.direction[0]=f[0],q.direction[1]=f[1],q=a.vectors.items[1],q.vector[0]=g[0],q.vector[1]=g[1],q.texCoords[0]=0,q.texCoords[1]=1,q.direction[0]=f[0],q.direction[1]=f[1],f=a.vectors.items[2],f.vector[0]=n[0],f.vector[1]=n[1],f.texCoords[0]=0,f.texCoords[1]=-1,f.direction[0]=d[0],f.direction[1]=d[1],f=a.vectors.items[3],f.vector[0]=g[0],f.vector[1]=g[1],f.texCoords[0]=0,f.texCoords[1]=1,f.direction[0]=d[0],f.direction[1]=d[1],a.vectors.count=4,d=a.lists[B.ENTRY],d.items[0]=0,d.items[1]=
1,d.count=2,d=a.lists[B.EXIT],d.items[0]=2,d.items[1]=3):(q=a.vectors.items[0],q.vector[0]=n[0],q.vector[1]=n[1],q.texCoords[0]=0,q.texCoords[1]=-1,q.direction[0]=0,q.direction[1]=0,q=a.vectors.items[1],q.vector[0]=g[0],q.vector[1]=g[1],q.texCoords[0]=0,q.texCoords[1]=1,q.direction[0]=0,q.direction[1]=0,a.vectors.count=2,d=a.lists[B.ENTRY],d.items[0]=0,d.items[1]=1,d.count=2,d=a.lists[B.EXIT],d.items[0]=0,d.items[1]=1);d.count=2;a.lists[B.CAP].count=0;a.capCenter=void 0};a.prototype.bevelJoin=function(a,
d,g,n){var w=n*n;n=f(d,g);var y=0<n?[-1,1]:[1,-1],m=y[0],y=y[1],v=0<n?p(D[0],c(D[1],d)):c(D[2],d),t=0<n?p(D[3],c(D[4],g)):c(D[5],g),x=D[6];x[0]=v[0]+t[0];x[1]=v[1]+t[1];var H=h(D[7],x),E=p(D[8],H),G=b(H,v),x=f(H,v),F=Math.abs(x/G),x=1+F*F,z=x<u?[F,this._distanceAlongCorrection]:[Math.sqrt(u-1),!0],A=z[0],z=z[1],O=x<w?[F,this._distanceAlongCorrection]:[Math.sqrt(w-1),!0],F=O[0];(O=O[1])&&z?(z=a.vectors.items[0],q(z.vector,p(D[9],v),e(D[10],p(D[11],d),A)),z.texCoords[0]=0,z.texCoords[1]=m,z.direction[0]=
this._distanceAlongCorrection?d[0]:0,z.direction[1]=this._distanceAlongCorrection?d[1]:0,E=a.vectors.items[1],q(E.vector,p(D[12],t),e(D[13],g,A)),E.texCoords[0]=0,E.texCoords[1]=m,E.direction[0]=this._distanceAlongCorrection?g[0]:0,E.direction[1]=this._distanceAlongCorrection?g[1]:0,m=a.vectors.items[2],m.vector[0]=0,m.vector[1]=0,m.texCoords[0]=0,m.texCoords[1]=0,m.direction[0]=0,m.direction[1]=0,m=a.vectors.items[3],q(m.vector,v,e(D[14],d,F)),m.texCoords[0]=0,m.texCoords[1]=y,m.direction[0]=this._distanceAlongCorrection?
d[0]:0,m.direction[1]=this._distanceAlongCorrection?d[1]:0,d=a.vectors.items[4],q(d.vector,t,e(D[15],p(D[16],g),F)),d.texCoords[0]=0,d.texCoords[1]=y,d.direction[0]=this._distanceAlongCorrection?g[0]:0,d.direction[1]=this._distanceAlongCorrection?g[1]:0,a.vectors.count=5,g=a.lists[B.ENTRY],g.items[0]=0,g.items[1]=2,g.items[2]=3,g.count=3,g=a.lists[B.EXIT],g.items[0]=1,g.items[1]=2,g.items[2]=4,g.count=3,x<w?(w=a.lists[B.CAP],w.count=0,a.capCenter=void 0):(w=a.lists[B.CAP],w.items[0]=3,w.items[1]=
4,w.count=2,a.capCenter=2)):!O&&z?(z=a.vectors.items[0],q(z.vector,p(D[9],v),e(D[10],p(D[11],d),A)),z.texCoords[0]=0,z.texCoords[1]=m,z.direction[0]=this._distanceAlongCorrection?d[0]:0,z.direction[1]=this._distanceAlongCorrection?d[1]:0,E=a.vectors.items[1],q(E.vector,p(D[12],t),e(D[13],g,A)),E.texCoords[0]=0,E.texCoords[1]=m,E.direction[0]=this._distanceAlongCorrection?g[0]:0,E.direction[1]=this._distanceAlongCorrection?g[1]:0,m=a.vectors.items[2],m.vector[0]=0,m.vector[1]=0,m.texCoords[0]=0,m.texCoords[1]=
0,m.direction[0]=0,m.direction[1]=0,m=a.vectors.items[3],e(m.vector,H,1/G),m.texCoords[0]=0,m.texCoords[1]=y,m.direction[0]=0,m.direction[1]=0,a.vectors.count=4,g=a.lists[B.ENTRY],g.items[0]=0,g.items[1]=2,g.items[2]=3,g.count=3,g=a.lists[B.EXIT],g.items[0]=1,g.items[1]=2,g.items[2]=3,g.count=3,a.lists[B.CAP].count=0,a.capCenter=void 0):O&&!z?(z=a.vectors.items[0],e(z.vector,E,1/G),z.texCoords[0]=0,z.texCoords[1]=m,z.direction[0]=0,z.direction[1]=0,E=a.vectors.items[1],E.vector[0]=0,E.vector[1]=0,
E.texCoords[0]=0,E.texCoords[1]=0,E.direction[0]=0,E.direction[1]=0,m=a.vectors.items[2],q(m.vector,v,e(D[9],d,F)),m.texCoords[0]=0,m.texCoords[1]=y,m.direction[0]=this._distanceAlongCorrection?d[0]:0,m.direction[1]=this._distanceAlongCorrection?d[1]:0,m=a.vectors.items[3],q(m.vector,t,e(D[10],p(D[11],g),F)),m.texCoords[0]=0,m.texCoords[1]=y,m.direction[0]=this._distanceAlongCorrection?g[0]:0,m.direction[1]=this._distanceAlongCorrection?g[1]:0,a.vectors.count=4,g=a.lists[B.ENTRY],g.items[0]=0,g.items[1]=
1,g.items[2]=2,g.count=3,g=a.lists[B.EXIT],g.items[0]=0,g.items[1]=1,g.items[2]=3,g.count=3,x<w?(w=a.lists[B.CAP],w.count=0,a.capCenter=void 0):(w=a.lists[B.CAP],w.items[0]=2,w.items[1]=3,w.count=2,a.capCenter=1)):O||z||(z=a.vectors.items[0],e(z.vector,E,1/G),z.texCoords[0]=0,z.texCoords[1]=m,z.direction[0]=0,z.direction[1]=0,E=a.vectors.items[1],e(E.vector,H,1/G),E.texCoords[0]=0,E.texCoords[1]=y,E.direction[0]=0,E.direction[1]=0,a.vectors.count=2,g=a.lists[B.ENTRY],g.items[0]=0,g.items[1]=1,g.count=
2,g=a.lists[B.EXIT],g.items[0]=0,g.items[1]=1,g.count=2,a.lists[B.CAP].count=0,a.capCenter=void 0);0>n&&(C(a.lists[B.ENTRY]),C(a.lists[B.EXIT]))};a.prototype.roundJoin=function(a,d,g,n){var m=f(d,g),y=0<m?[-1,1]:[1,-1],v=y[0],y=y[1],t=0<m?p(D[0],c(D[1],d)):c(D[2],d),E=0<m?p(D[3],c(D[4],g)):c(D[5],g),z=D[6];z[0]=t[0]+E[0];z[1]=t[1]+E[1];var F=h(D[7],z),z=p(D[8],F),G=b(F,t),F=f(F,t),F=Math.abs(F/G),A=1+F*F<u?[F,this._distanceAlongCorrection]:[Math.sqrt(u-1),!0],F=A[0];A[1]?(A=a.vectors.items[0],A.vector[0]=
t[0],A.vector[1]=t[1],A.texCoords[0]=0,A.texCoords[1]=y,A.direction[0]=0,A.direction[1]=0,A=a.vectors.items[1],A.vector[0]=E[0],A.vector[1]=E[1],A.texCoords[0]=0,A.texCoords[1]=y,A.direction[0]=0,A.direction[1]=0,A=a.vectors.items[2],q(A.vector,p(D[9],t),e(D[10],p(D[11],d),F)),A.texCoords[0]=0,A.texCoords[1]=v,A.direction[0]=this._distanceAlongCorrection?d[0]:0,A.direction[1]=this._distanceAlongCorrection?d[1]:0,d=a.vectors.items[3],q(d.vector,p(D[12],E),e(D[13],g,F)),d.texCoords[0]=0,d.texCoords[1]=
v,d.direction[0]=this._distanceAlongCorrection?g[0]:0,d.direction[1]=this._distanceAlongCorrection?g[1]:0,g=a.vectors.items[4],g.vector[0]=0,g.vector[1]=0,g.texCoords[0]=0,g.texCoords[1]=0,g.direction[0]=0,g.direction[1]=0,a.vectors.count=5,g=a.lists[B.ENTRY],g.items[0]=2,g.items[1]=4,g.items[2]=0,g.count=3,g=a.lists[B.EXIT],g.items[0]=3,g.items[1]=4,g.items[2]=1,g.count=3,a.capCenter=4):(A=a.vectors.items[0],A.vector[0]=t[0],A.vector[1]=t[1],A.texCoords[0]=0,A.texCoords[1]=y,A.direction[0]=0,A.direction[1]=
0,A=a.vectors.items[1],A.vector[0]=E[0],A.vector[1]=E[1],A.texCoords[0]=0,A.texCoords[1]=y,A.direction[0]=0,A.direction[1]=0,A=a.vectors.items[2],e(A.vector,z,1/G),A.texCoords[0]=0,A.texCoords[1]=v,A.direction[0]=0,A.direction[1]=0,d=a.vectors.items[3],d.vector[0]=0,d.vector[1]=0,d.texCoords[0]=0,d.texCoords[1]=0,d.direction[0]=0,d.direction[1]=0,a.vectors.count=4,g=a.lists[B.ENTRY],g.items[0]=2,g.items[1]=3,g.items[2]=0,g.count=3,g=a.lists[B.EXIT],g.items[0]=2,g.items[1]=3,g.items[2]=1,g.count=3,
a.capCenter=3);w(x,t,E,n,0>m);n=a.vectors.count;t=a.lists[B.CAP];for(E=t.items[0]=0;E<x.count;++E)g=x.items[E],v=a.vectors.items[n+E],v.vector[0]=g[0],v.vector[1]=g[1],v.texCoords[0]=0,v.texCoords[1]=y,v.direction[0]=0,v.direction[1]=0,t.items[E+1]=n+E;t.items[x.count+1]=1;t.count=x.count+2;a.vectors.count=n+x.count;0>m&&(C(a.lists[B.ENTRY]),C(a.lists[B.EXIT]))};a.prototype.unitRoundJoin=function(a,b,e,d){var h=f(b,e),g=0<h?[-1,1]:[1,-1],n=g[0],g=g[1];b=0<h?p(D[0],c(D[1],b)):c(D[2],b);e=0<h?p(D[3],
c(D[4],e)):c(D[5],e);var q=a.vectors.items[0];q.vector[0]=b[0];q.vector[1]=b[1];q.texCoords[0]=0;q.texCoords[1]=g;q.direction[0]=0;q.direction[1]=0;q=a.vectors.items[1];q.vector[0]=e[0];q.vector[1]=e[1];q.texCoords[0]=0;q.texCoords[1]=g;q.direction[0]=0;q.direction[1]=0;q=a.vectors.items[2];p(q.vector,b);q.texCoords[0]=0;q.texCoords[1]=n;q.direction[0]=0;q.direction[1]=0;q=a.vectors.items[3];p(q.vector,e);q.texCoords[0]=0;q.texCoords[1]=n;q.direction[0]=0;q.direction[1]=0;n=a.vectors.items[4];n.vector[0]=
0;n.vector[1]=0;n.texCoords[0]=0;n.texCoords[1]=0;n.direction[0]=0;n.direction[1]=0;a.vectors.count=5;n=a.lists[B.ENTRY];n.items[0]=2;n.items[1]=0;n.count=2;n=a.lists[B.EXIT];n.items[0]=3;n.items[1]=1;n.count=2;a.capCenter=4;w(x,b,e,d,0>h);d=a.vectors.count;b=a.lists[B.CAP];for(n=b.items[0]=0;n<x.count;++n)e=x.items[n],q=a.vectors.items[d+n],q.vector[0]=e[0],q.vector[1]=e[1],q.texCoords[0]=0,q.texCoords[1]=g,q.direction[0]=0,q.direction[1]=0,b.items[n+1]=d+n;b.items[x.count+1]=1;b.count=x.count+2;
a.vectors.count=d+x.count;0>h&&(C(a.lists[B.ENTRY]),C(a.lists[B.EXIT]))};a.prototype.rectJoin=function(a,b,e){b=c(D[0],b);e=c(D[1],e);var f=a.vectors.items[0];f.vector[0]=b[0];f.vector[1]=b[1];f.texCoords[0]=0;f.texCoords[1]=-1;f.direction[0]=0;f.direction[1]=0;f=a.vectors.items[1];f.vector[0]=e[0];f.vector[1]=e[1];f.texCoords[0]=0;f.texCoords[1]=-1;f.direction[0]=0;f.direction[1]=0;f=a.vectors.items[2];p(f.vector,b);f.texCoords[0]=0;f.texCoords[1]=1;f.direction[0]=0;f.direction[1]=0;b=a.vectors.items[3];
p(b.vector,e);b.texCoords[0]=0;b.texCoords[1]=1;b.direction[0]=0;b.direction[1]=0;a.vectors.count=4;b=a.lists[B.ENTRY];b.items[0]=0;b.items[1]=2;b.count=2;b=a.lists[B.EXIT];b.items[0]=1;b.items[1]=3;b.count=2;a.capCenter=void 0};return a}();a.Tessellator=v})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleLayer":function(){define(["require","exports","./StyleDefinition","./StyleProperty","./Filter"],function(m,a,g,n,b){Object.defineProperty(a,"__esModule",{value:!0});m=function(){function a(a,
c,b){this.type=a;this.id=c.id;this.source=c.source;this.sourceLayer=c["source-layer"];this.minzoom=c.minzoom;this.maxzoom=c.maxzoom;this.filter=c.filter;this.layout=c.layout;this.paint=c.paint;this.z=b;switch(a){case 0:this._layoutDefinition=g.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=g.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=g.StyleDefinition.fillLayoutDefinition;this._paintDefinition=g.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=
g.StyleDefinition.lineLayoutDefinition;this._paintDefinition=g.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=g.StyleDefinition.symbolLayoutDefinition,this._paintDefinition=g.StyleDefinition.symbolPaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=b.createFilter(this.filter)};a.prototype.hasLayoutProperty=
function(a){var c=this._layoutProperties;return c&&c[a]?!0:!1};a.prototype.hasPaintProperty=function(a){var c=this._paintProperties;return c?void 0!==c[a]:!1};a.prototype.getLayoutValue=function(a,c){var b,d=this._layoutProperties;d&&(d=d[a])&&(b=d.getValue(c));d=this._layoutDefinition[a];void 0===b&&(b=d["default"]);"enum"===d.type&&(b=d.values.indexOf(b));return b};a.prototype.getPaintValue=function(a,c){var b,d=this._paintProperties;d&&(d=d[a])&&(b=d.getValue(c));d=this._paintDefinition[a];void 0===
b&&(b=d["default"]);"enum"===d.type&&(b=d.values.indexOf(b));return b};a.prototype._parseLayout=function(a){var c={},b;for(b in a)c[b]=new n(this._layoutDefinition[b],a[b]);return c};a.prototype._parsePaint=function(a){var c={},b;for(b in a)c[b]=new n(this._paintDefinition[b],a[b]);return c};return a}();a.StyleLayer=m;m=function(){return function(a,b){this.cap=a.getLayoutValue("line-cap",b);this.join=a.getLayoutValue("line-join",b);this.miterLimit=a.getLayoutValue("line-miter-limit",b);this.roundLimit=
a.getLayoutValue("line-round-limit",b)}}();a.LineLayout=m;m=function(){return function(a,b,c){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",b);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",b);this.optional=a.getLayoutValue("icon-optional",b);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",b);this.size=a.getLayoutValue("icon-size",b);this.rotate=a.getLayoutValue("icon-rotate",b);this.padding=a.getLayoutValue("icon-padding",b);this.keepUpright=a.getLayoutValue("icon-keep-upright",
b);this.offset=a.getLayoutValue("icon-offset",b);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();a.IconLayout=m;m=function(){return function(a,b,c){this.allowOverlap=a.getLayoutValue("text-allow-overlap",b);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",b);this.optional=a.getLayoutValue("text-optional",b);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",b);this.font=a.getLayoutValue("text-font",b);this.maxWidth=a.getLayoutValue("text-max-width",b);this.lineHeight=
a.getLayoutValue("text-line-height",b);this.letterSpacing=a.getLayoutValue("text-letter-spacing",b);this.justify=a.getLayoutValue("text-justify",b);this.anchor=a.getLayoutValue("text-anchor",b);this.maxAngle=a.getLayoutValue("text-max-angle",b);this.size=a.getLayoutValue("text-size",b);this.rotate=a.getLayoutValue("text-rotate",b);this.padding=a.getLayoutValue("text-padding",b);this.keepUpright=a.getLayoutValue("text-keep-upright",b);this.transform=a.getLayoutValue("text-transform",b);this.offset=
a.getLayoutValue("text-offset",b);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();a.TextLayout=m})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],function(m,a){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function a(){}a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"}};a.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"}};
a.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"},"line-cap":{type:"enum",values:["butt","round","square"],"default":"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],"default":"miter"},"line-miter-limit":{type:"number","default":2},"line-round-limit":{type:"number","default":1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],"default":"visible"},"symbol-placement":{type:"enum",values:["point","line"],"default":"point"},
"symbol-spacing":{type:"number",minimum:1,"default":250},"symbol-avoid-edges":{type:"boolean","default":!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean","default":!1},"icon-ignore-placement":{type:"boolean","default":!1},"icon-optional":{type:"boolean","default":!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],"default":"auto"},"icon-size":{type:"number",minimum:0,"default":1},"icon-rotate":{type:"number","default":0},"icon-padding":{type:"number",minimum:0,
"default":2},"icon-keep-upright":{type:"boolean","default":!1},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],"default":"auto"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,"default":16},"text-max-width":{type:"number",minimum:0,"default":10},"text-line-height":{type:"number","default":1.2},
"text-letter-spacing":{type:"number","default":0},"text-justify":{type:"enum",values:["left","center","right"],"default":"center"},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),"default":"center"},"text-max-angle":{type:"number",minimum:0,"default":45},"text-rotate":{type:"number","default":0},"text-padding":{type:"number",minimum:0,"default":2},"text-keep-upright":{type:"boolean","default":!0},"text-transform":{type:"enum",
values:["none","uppercase","lowercase"],"default":"none"},"text-offset":{type:"array",value:"number",length:2,"default":[0,0]},"text-allow-overlap":{type:"boolean","default":!1},"text-ignore-placement":{type:"boolean","default":!1},"text-optional":{type:"boolean","default":!1}};a.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,"default":1},"background-color":{type:"color","default":[0,0,0,1]},"background-pattern":{type:"string"}};a.fillPaintDefinition={"fill-opacity":{type:"number",
minimum:0,maximum:1,"default":1},"fill-antialias":{type:"boolean","default":!0},"fill-color":{type:"color","default":[0,0,0,1]},"fill-outline-color":{type:"color","default":[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"fill-pattern":{type:"string"}};a.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,"default":1},"line-color":{type:"color","default":[0,0,0,1]},
"line-translate":{type:"array",value:"number",length:2,"default":[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"line-width":{type:"number",minimum:0,"default":1},"line-gap-width":{type:"number",minimum:0,"default":0},"line-offset":{type:"number","default":0},"line-blur":{type:"number",minimum:0,"default":0},"line-dasharray":{type:"array",value:"number","default":[]},"line-pattern":{type:"string"}};a.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,
maximum:1,"default":1},"icon-color":{type:"color","default":[0,0,0,1]},"icon-halo-color":{type:"color","default":[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,"default":0},"icon-halo-blur":{type:"number",minimum:0,"default":0},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"},"text-opacity":{type:"number",minimum:0,maximum:1,"default":1},"text-color":{type:"color","default":[0,0,0,1]},"text-halo-color":{type:"color",
"default":[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,"default":0},"text-halo-blur":{type:"number",minimum:0,"default":0},"text-translate":{type:"array",value:"number",length:2,"default":[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,"default":1},"raster-hue-rotate":{type:"number","default":0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,"default":0},"raster-brightness-max":{type:"number",
minimum:0,maximum:1,"default":1},"raster-saturation":{type:"number",minimum:-1,maximum:1,"default":0},"raster-contrast":{type:"number",minimum:-1,maximum:1,"default":0},"raster-fade-duration":{type:"number",minimum:0,"default":300}};a.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,"default":1},"circle-radius":{type:"number",minimum:0,"default":5},"circle-color":{type:"color","default":[0,0,0,1]},"circle-blur":{type:"number",minimum:0,"default":0},"circle-translate":{type:"array",
value:"number",length:2,"default":[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],"default":"map"}};return a}();a.StyleDefinition=g})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../Color","../GeometryUtils"],function(m,a,g,n){return function(){function a(b,h){var c;switch(b.type){case "number":c=!0;break;case "color":c=!0;h=a._parseColor(h);break;case "array":c="number"===b.value;break;default:c=!1}this.getValue=
c?this._interpolate(h):this._piecewise(h)}a.prototype._piecewise=function(a){var b=a.stops;return b?function(a){var c=b.length;if(0!==c){for(var d=0,e=0;e<c;e++)if(b[e][0]<=a)d=e;else break;return b[d][1]}}:function(){return a}};a.prototype._interpolate=function(a){var b=a.stops;if(b){var c=a.base||1;return function(a){for(var f,e,d=b.length,h=0;h<d;h++){var g=b[h];if(g[0]<=a)f=g;else{e=g;break}}if(f&&e){h=e[0]-f[0];a-=f[0];a=1===c?a/h:(Math.pow(c,a)-1)/(Math.pow(c,h)-1);if(Array.isArray(f[1])){f=
f[1];e=e[1];d=[];for(h=0;h<f.length;h++)d.push(n.interpolate(f[h],e[h],a));return d}return n.interpolate(f[1],e[1],a)}if(f)return f[1];if(e)return e[1]}}return function(){return a}};a._parseColor=function(b){if(Array.isArray(b))return b;if("string"===typeof b)return b=new g(b),g.toUnitRGBA(b);if(b&&b.stops)return b.stops=b.stops.map(function(b){return[b[0],a._parseColor(b[1])]}),b;throw Error("Incorrect color definition "+b);};return a}()})},"esri/layers/vectorTiles/Color":function(){define(["require",
"exports","esri/Color"],function(m,a,g){return function(){function a(a){return new g(a)}a.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};return a}()})},"esri/Color":function(){define(["dojo/_base/declare","dojo/_base/Color","dojo/has","./kernel"],function(m,a,g,n){m=m([a],{declaredClass:"esri.Color"});m.toJsonColor=function(a){return a&&[a.r,a.g,a.b,1<a.a?a.a:Math.round(255*a.a)]};m.toDojoColor=function(b){return b&&new a([b[0],b[1],b[2],b[3]/255])};var b,d="named blendColors fromRgb fromHex fromArray fromString".split(" ");
for(b=0;b<d.length;b++)m[d[b]]=a[d[b]];g("extend-esri")&&(n.Color=m);return m})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(m,a,g){function n(a,c){throw Error("declare"+(c?" "+c:"")+": "+a);}function b(a,c){for(var b=[],e=[{cls:0,refs:[]}],f={},d=1,h=a.length,g=0,p,q,m,w,y;g<h;++g){(p=a[g])?"[object Function]"!=v.call(p)&&n("mixin #"+g+" is not a callable constructor.",c):n("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",c);q=p._meta?p._meta.bases:
[p];m=0;for(p=q.length-1;0<=p;--p)w=q[p].prototype,w.hasOwnProperty("declaredClass")||(w.declaredClass="uniqName_"+I++),w=w.declaredClass,f.hasOwnProperty(w)||(f[w]={count:0,refs:[],cls:q[p]},++d),w=f[w],m&&m!==w&&(w.refs.push(m),++m.count),m=w;++m.count;e[0].refs.push(m)}for(;e.length;){m=e.pop();b.push(m.cls);for(--d;y=m.refs,1==y.length;){m=y[0];if(!m||--m.count){m=0;break}b.push(m.cls);--d}if(m)for(g=0,h=y.length;g<h;++g)m=y[g],--m.count||e.push(m)}d&&n("can't build consistent linearization",
c);p=a[0];b[0]=p?p._meta&&p===b[b.length-p._meta.bases.length]?p._meta.bases.length:1:0;return b}function d(a,c,b,e){var f,d,h,g,p,q,m=this._inherited=this._inherited||{};"string"===typeof a&&(f=a,a=c,c=b,b=e);if("function"===typeof a)h=a,a=c,c=b;else try{h=a.callee}catch(K){if(K instanceof TypeError)n("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw K;}(f=f||h.nom)||n("can't deduce a name to call inherited()",this.declaredClass);
b=e=0;g=this.constructor._meta;e=g.bases;q=m.p;if("constructor"!=f){if(m.c!==h&&(q=0,p=e[0],g=p._meta,g.hidden[f]!==h)){(d=g.chains)&&"string"==typeof d[f]&&n("calling chained method with inherited: "+f,this.declaredClass);do if(g=p._meta,d=p.prototype,g&&(d[f]===h&&d.hasOwnProperty(f)||g.hidden[f]===h))break;while(p=e[++q]);q=p?q:-1}if(p=e[++q])if(d=p.prototype,p._meta&&d.hasOwnProperty(f))b=d[f];else{h=D[f];do if(d=p.prototype,(b=d[f])&&(p._meta?d.hasOwnProperty(f):b!==h))break;while(p=e[++q])}b=
p&&b||D[f]}else{if(m.c!==h&&(q=0,(g=e[0]._meta)&&g.ctor!==h)){for((d=g.chains)&&"manual"===d.constructor||n("calling chained constructor with inherited",this.declaredClass);(p=e[++q])&&(!(g=p._meta)||g.ctor!==h););q=p?q:-1}for(;(p=e[++q])&&!(b=(g=p._meta)?g.ctor:p););b=p&&b}m.c=b;m.p=q;if(b)return!0===c?b:b.apply(this,c||a)}function h(a,c,b){return"string"===typeof a?"function"===typeof c?this.__inherited(a,c,b,!0):this.__inherited(a,c,!0):"function"===typeof a?this.__inherited(a,c,!0):this.__inherited(a,
!0)}function c(a,c,b,e){var f=this.getInherited(a,c,b);if(f)return f.apply(this,e||b||c||a)}function f(a){for(var c=this.constructor._meta.bases,b=0,e=c.length;b<e;++b)if(c[b]===a)return!0;return this instanceof a}function p(c,b){for(var e in b)"constructor"!=e&&b.hasOwnProperty(e)&&(c[e]=b[e]);if(a("bug-for-in-skips-shadowed"))for(var f=g._extraNames,d=f.length;d;)e=f[--d],"constructor"!=e&&b.hasOwnProperty(e)&&(c[e]=b[e])}function e(a){A.safeMixin(this.prototype,a);return this}function q(a,c){a instanceof
Array||"function"===typeof a||(c=a,a=void 0);c=c||{};a=a||[];return A([this].concat(a),c)}function y(a,c){return function(){var b=arguments,e=b,f=b[0],d,h;h=a.length;var g;if(!(this instanceof b.callee))return u(b);if(c&&(f&&f.preamble||this.preamble))for(g=Array(a.length),g[0]=b,d=0;;){(f=b[0])&&(f=f.preamble)&&(b=f.apply(this,b)||b);f=a[d].prototype;(f=f.hasOwnProperty("preamble")&&f.preamble)&&(b=f.apply(this,b)||b);if(++d==h)break;g[d]=b}for(d=h-1;0<=d;--d)f=a[d],(f=(h=f._meta)?h.ctor:f)&&f.apply(this,
g?g[d]:b);(f=this.postscript)&&f.apply(this,e)}}function w(a,c){return function(){var b=arguments,e=b,f=b[0];if(!(this instanceof b.callee))return u(b);c&&(f&&(f=f.preamble)&&(e=f.apply(this,e)||e),(f=this.preamble)&&f.apply(this,e));a&&a.apply(this,b);(f=this.postscript)&&f.apply(this,b)}}function C(a){return function(){var c=arguments,b=0,e,f;if(!(this instanceof c.callee))return u(c);for(;e=a[b];++b)if(e=(f=e._meta)?f.ctor:e){e.apply(this,c);break}(e=this.postscript)&&e.apply(this,c)}}function B(a,
c,b){return function(){var e,f,d=0,h=1;b&&(d=c.length-1,h=-1);for(;e=c[d];d+=h)f=e._meta,(e=(f?f.hidden:e.prototype)[a])&&e.apply(this,arguments)}}function t(a){x.prototype=a.prototype;a=new x;x.prototype=null;return a}function u(a){var c=a.callee,b=t(c);c.apply(b,a);return b}function A(c,m,x){"string"!=typeof c&&(x=m,m=c,c="");x=x||{};var u,E,I,F,z,H,J,Q=1,K=m;"[object Array]"==v.call(m)?(H=b(m,c),I=H[0],Q=H.length-I,m=H[Q]):(H=[0],m?"[object Function]"==v.call(m)?(I=m._meta,H=H.concat(I?I.bases:
m)):n("base class is not a callable constructor.",c):null!==m&&n("unknown base class. Did you use dojo.require to pull it in?",c));if(m)for(E=Q-1;;--E){u=t(m);if(!E)break;I=H[E];(I._meta?p:G)(u,I.prototype);F=a("csp-restrictions")?function(){}:new Function;F.superclass=m;F.prototype=u;m=u.constructor=F}else u={};A.safeMixin(u,x);I=x.constructor;I!==D.constructor&&(I.nom="constructor",u.constructor=I);for(E=Q-1;E;--E)(I=H[E]._meta)&&I.chains&&(J=G(J||{},I.chains));u["-chains-"]&&(J=G(J||{},u["-chains-"]));
m&&m.prototype&&m.prototype["-chains-"]&&(J=G(J||{},m.prototype["-chains-"]));I=!J||!J.hasOwnProperty("constructor");H[0]=F=J&&"manual"===J.constructor?C(H):1==H.length?w(x.constructor,I):y(H,I);F._meta={bases:H,hidden:x,chains:J,parents:K,ctor:x.constructor};F.superclass=m&&m.prototype;F.extend=e;F.createSubclass=q;F.prototype=u;u.constructor=F;u.getInherited=h;u.isInstanceOf=f;u.inherited=W;u.__inherited=d;c&&(u.declaredClass=c,g.setObject(c,F));if(J)for(z in J)u[z]&&"string"==typeof J[z]&&"constructor"!=
z&&(I=u[z]=B(z,H,"after"===J[z]),I.nom=z);return F}var G=g.mixin,D=Object.prototype,v=D.toString,x,I=0;x=a("csp-restrictions")?function(){}:new Function;var W=m.config.isDebug?c:d;m.safeMixin=A.safeMixin=function(c,b){var e,f;for(e in b)f=b[e],f===D[e]&&e in D||"constructor"==e||("[object Function]"==v.call(f)&&(f.nom=e),c[e]=f);if(a("bug-for-in-skips-shadowed")&&b)for(var d=g._extraNames,h=d.length;h;)e=d[--h],f=b[e],f===D[e]&&e in D||"constructor"==e||("[object Function]"==v.call(f)&&(f.nom=e),
c[e]=f);return c};return m.declare=A})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(m,a,g,n){var b=m.Color=function(a){a&&this.setColor(a)};b.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:n.transparentColor||
[0,0,0,0]};a.extend(b,{r:255,g:255,b:255,a:1,_set:function(a,b,c,f){this.r=a;this.g=b;this.b=c;this.a=f},setColor:function(d){a.isString(d)?b.fromString(d,this):a.isArray(d)?b.fromArray(d,this):(this._set(d.r,d.g,d.b,d.a),d instanceof b||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+g.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?
"0"+a:a},this).join("")},toCss:function(a){var b=this.r+", "+this.g+", "+this.b;return(a?"rgba("+b+", "+this.a:"rgb("+b)+")"},toString:function(){return this.toCss(!0)}});b.blendColors=m.blendColors=function(a,h,c,f){var d=f||new b;g.forEach(["r","g","b","a"],function(b){d[b]=a[b]+(h[b]-a[b])*c;"a"!=b&&(d[b]=Math.round(d[b]))});return d.sanitize()};b.fromRgb=m.colorFromRgb=function(a,h){var c=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return c&&b.fromArray(c[1].split(/\s*,\s*/),h)};b.fromHex=
m.colorFromHex=function(a,h){var c=h||new b,f=4==a.length?4:8,d=(1<<f)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;g.forEach(["b","g","r"],function(b){var e=a&d;a>>=f;c[b]=4==f?17*e:e});c.a=1;return c};b.fromArray=m.colorFromArray=function(a,h){var c=h||new b;c._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));isNaN(c.a)&&(c.a=1);return c.sanitize()};b.fromString=m.colorFromString=function(a,h){var c=b.named[a];return c&&b.fromArray(c,h)||b.fromRgb(a,h)||b.fromHex(a,h)};return b})},
"esri/layers/vectorTiles/views/vectorTiles/style/Filter":function(){define(["require","exports"],function(m,a){return function(){function a(g,b,d){this._op=g;"$type"===b?(this._val=d instanceof Array?d.map(function(b){return a._types.indexOf(b)}):a._types.indexOf(d),this._op+=11):(this._key=b,this._val=d)}a.prototype.filter=function(a){switch(this._op){case 0:return this._val;case 1:return a.values[this._key]===this._val;case 2:return a.values[this._key]!==this._val;case 3:return a.values[this._key]<
this._val;case 4:return a.values[this._key]>this._val;case 5:return a.values[this._key]<=this._val;case 6:return a.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(a.values[this._key]);case 8:return-1===this._val.indexOf(a.values[this._key]);case 9:for(var b=0,d=this._val;b<d.length;b++){var h=d[b];if(h.filter(a))return!0}return!1;case 10:b=0;for(d=this._val;b<d.length;b++)if(h=d[b],!h.filter(a))return!1;return!0;case 11:b=0;for(d=this._val;b<d.length;b++)if(h=d[b],h.filter(a))return!1;
return!0;case 12:return a.type===this._val;case 13:return a.type!==this._val;case 14:return a.type<this._val;case 15:return a.type>this._val;case 16:return a.type>=this._val;case 17:return a.type<=this._val;case 18:return-1!==this._val.indexOf(a.type);case 19:return-1===this._val.indexOf(a.type)}};a.createFilter=function(g){if(!g)return new a(0,void 0,!0);var b=g[0];if(1>=g.length)return new a(0,void 0,"any"!==b);switch(b){case "\x3d\x3d":return new a(1,g[1],g[2]);case "!\x3d":return new a(2,g[1],
g[2]);case "\x3e":return new a(4,g[1],g[2]);case "\x3c":return new a(3,g[1],g[2]);case "\x3e\x3d":return new a(6,g[1],g[2]);case "\x3c\x3d":return new a(5,g[1],g[2]);case "in":return new a(7,g[1],g.slice(2));case "!in":return new a(8,g[1],g.slice(2));case "any":return new a(9,void 0,g.slice(1).map(a.createFilter.bind(this)));case "all":return new a(10,void 0,g.slice(1).map(a.createFilter.bind(this)));case "none":return new a(11,void 0,g.slice(1).map(a.createFilter.bind(this)));default:throw Error("invalid operator: "+
b);}};a._types=["Unknown","Point","LineString","Polygon"];return a}()})},"esri/layers/vectorTiles/views/vectorTiles/SymbolBucket":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ./Bucket ../2d/engine/webgl/Geometry ./style/StyleLayer ./Placement ./GeometryUtils ./TextShaping dojox/string/BidiEngine".split(" "),function(m,a,g,n,b,d,h,c,f,p,e){function q(a,c){if(a.iconMosaicItem&&c.iconMosaicItem){if(a.iconMosaicItem.page!==c.iconMosaicItem.page)return a.iconMosaicItem.page<
c.iconMosaicItem.page?-1:1}else{if(a.iconMosaicItem&&!c.iconMosaicItem)return 1;if(!a.iconMosaicItem&&c.iconMosaicItem)return-1}return 0}var y=function(){return function(){}}(),w=function(){return function(a,c,b,e){this.line=c;this.shaping=a;this.iconMosaicItem=b;this.anchor=e}}();(function(){return function(){}})();return function(a){function b(c,b,e,f,d,h,g,p){c=a.call(this,c,b)||this;c._markerRatio=1;c._markerMap=new Map;c._glyphMap=new Map;c._glyphBufferDataStorage=new Map;c._markerVertexBuffer=
e;c._markerIndexBuffer=f;c._textVertexBuffer=d;c._textIndexBuffer=h;c._placementEngine=g;c._workerTileHandler=p;return c}g(b,a);Object.defineProperty(b.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"textIndexStart",{get:function(){return this._textTriangleElementsStart},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"textIndexCount",{get:function(){return this._textTriangleElementsNum},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"sdfMarker",{get:function(){return!1},enumerable:!0,configurable:!0});b.prototype.copy=function(a,c,e,f,d){d=new b(this.layer,this.zoom,a,c,e,f,d,this._workerTileHandler);d.layerIndex=this.layerIndex;d.layerExtent=this.layerExtent;d._markerVertexStart=a.index;d._markerTriangleElementsStart=c.index;d._textVertexStart=e.index;d._textTriangleElementsStart=
f.index;d._markerTriangleElementsNum=0;d._textTriangleElementsNum=0;d._symbolInstances=this._symbolInstances;d._workerTileHandler=this._workerTileHandler;d._font=this._font;d._textLayout=this._textLayout;d._markerLayout=this._markerLayout;d._isLinePlacement=this._isLinePlacement;d._avoidEdges=this._avoidEdges;return d};b.prototype.getResources=function(a,c,e){var f=this.layer,d=this.zoom;a&&a.setExtent(this.layerExtent);for(var h=f.getLayoutValue("icon-image",d),g=f.getLayoutValue("text-field",d),
p=f.getLayoutValue("text-font",d),f=f.getLayoutValue("text-transform",d),d=[],q=0,n=this._features;q<n.length;q++){var m=n[q],w=m.getGeometry(a);if(w&&0!==w.length){var t=void 0;h&&(t=this._replaceKeys(h,m.values))&&c.add(t);var u=void 0,A=!1;if(g){u=this._replaceKeys(g,m.values);switch(f){case 2:u=u.toLowerCase();break;case 1:u=u.toUpperCase()}b._bidiEngine.hasBidiChar(u)&&(A=void 0,A="rtl"===b._bidiEngine.checkContextual(u)?"IDNNN":"ICNNN",u=b._bidiEngine.bidiTransform(u,A,"VLYSN"),A=!0);m=u.length;
if(0<m){var C=e[p];C||(C=e[p]=new Set);for(var z=0;z<m;z++){var B=u.charCodeAt(z);C.add(B)}}}if(t||u)m=new y,m.sprite=t,m.label=u,m.rtl=A,m.geometry=w,d.push(m)}}this._symbolFeatures=d};b.prototype.processFeatures=function(a,e){a&&a.setExtent(this.layerExtent);var d=this.layer,g=this.zoom,n=this._isLinePlacement=1===d.getLayoutValue("symbol-placement",g),m=this._avoidEdges=d.getLayoutValue("symbol-avoid-edges",g)&&!n,y=8*d.getLayoutValue("symbol-spacing",g),u=d.getLayoutValue("icon-image",g),t=d.getLayoutValue("text-field",
g),C=this._workerTileHandler,B;u&&(this._markerLayout=new h.IconLayout(d,g,n),B=C.getSpriteItems());var Q,O;if(t){var P=this._textLayout=new h.TextLayout(d,g,n);Q=void 0;P.font&&P.font.length&&(this._font=Q=P.font[0]);O=.5;switch(P.anchor){case 5:case 1:case 7:O=0;break;case 6:case 2:case 8:O=1}d=.5;switch(P.anchor){case 5:case 3:case 6:d=0;break;case 7:case 4:case 8:d=1}g=.5;switch(P.justify){case 0:g=0;break;case 2:g=1}var u=24*P.letterSpacing,t=n?0:24*P.maxWidth,R=24*P.lineHeight,P=[24*P.offset[0],
24*P.offset[1]];Q=C.getGlyphItems(Q);O=new p(Q,t,R,u,P,O,d,g)}this._markerVertexStart=this._markerVertexBuffer.index;this._markerTriangleElementsStart=this._markerIndexBuffer.index;this._textVertexStart=this._textVertexBuffer.index;this._textTriangleElementsStart=this._textIndexBuffer.index;this._textTriangleElementsNum=this._markerTriangleElementsNum=0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=C=[];d=this._textLayout;g=1;d&&d.size&&(g=d.size/24);u=d?d.maxAngle*f.C_DEG_TO_RAD:
0;t=d?8*d.size:0;R=0;for(P=this._symbolFeatures;R<P.length;R++){var S=P[R],z=void 0;S.sprite&&(z=B[S.sprite]);var H=void 0,J=S.label,N=0;if(J&&(H=O.getShaping(J,S.rtl))&&0<H.length){for(var N=1E30,J=-1E30,K=0,T=H;K<T.length;K++)var U=T[K],N=Math.min(N,U.x),J=Math.max(J,U.x);N=(J-N+48)*g*8}J=0;for(S=S.geometry;J<S.length;J++)for(K=S[J],U=void 0,n?(H&&0<H.length&&d&&d.size&&b._smoothVertices(K,8*d.size*(2+Math.min(2,4*Math.abs(d.offset[1])))),U=b._findAnchors(K,y,N)):U=[new c.Anchor(K[0].x,K[0].y)],
T=0;T<U.length;T++){var ca=U[T];0>ca.x||4096<ca.x||0>ca.y||4096<ca.y||n&&0<N&&0===d.rotationAlignment&&!b._honorsTextMaxAngle(K,ca,N,u,t)||C.push(new w(H,K,z,ca))}}C.sort(q);for(n=0;n<C.length;n++)this._processFeature(C[n],Q,m);this._addPlacedGlyphs()};b.prototype.updateSymbols=function(){this._markerVertexStart=this._markerVertexBuffer.index;this._markerTriangleElementsStart=this._markerIndexBuffer.index;this._textVertexStart=this._textVertexBuffer.index;this._textTriangleElementsStart=this._textIndexBuffer.index;
this._textTriangleElementsNum=this._markerTriangleElementsNum=0;this._markerMap.clear();this._glyphMap.clear();for(var a=this._workerTileHandler.getGlyphItems(this._font),c=this._avoidEdges,b=0,e=this._symbolInstances;b<e.length;b++)this._processFeature(e[b],a,c);this._addPlacedGlyphs()};b.prototype._replaceKeys=function(a,c){return a.replace(/{([^{}]+)}/g,function(a,b){return b in c?c[b]:""})};b.prototype._processFeature=function(a,c,b){var e=a.line,h=a.iconMosaicItem,g=a.shaping,p=a.anchor,q=(a=
this._markerLayout)&&!!h,n=!0,m=1;q&&(m=a.size/(1/this._markerRatio)*8,n=a.optional||!h);var w=this._textLayout,y=w&&g&&0<g.length,u;u=1;var t=!0;y&&(u=w.size/24,u*=8,t=w.optional||!g||0===g.length);var C=new d.Point(0,-17),A;if(q){A=this._placementEngine.getIconPlacement(p,h,m,e,a,b);if(A.footprint.minzoom===f.C_INFINITY&&!n)return;p.minzoom>A.footprint.minzoom&&(A.footprint.minzoom=p.minzoom)}var z;if(y&&(z=this._placementEngine.getTextPlacement(p,C,g,c,u,e,w,b))){if(z.footprint.minzoom===f.C_INFINITY&&
!t)return;p.minzoom>z.footprint.minzoom&&(z.footprint.minzoom=p.minzoom)}if(!t&&!n||!n&&z&&z.footprint.minzoom!==f.C_INFINITY||!t&&A&&A.footprint.minzoom!==f.C_INFINITY)c=Math.max(A.footprint.minzoom,z.footprint.minzoom),A.footprint.minzoom=c,z.footprint.minzoom=c;z&&z.footprint.minzoom!==f.C_INFINITY&&(w.ignorePlacement||this._placementEngine.add(z),this._storePlacedGlyphs(z.shapes,z.footprint.minzoom,this.zoom));A&&A.footprint.minzoom!==f.C_INFINITY&&(a.ignorePlacement||this._placementEngine.add(A),
this._addPlacedIcons(A.shapes,A.footprint.minzoom,this.zoom,h.page))};b.prototype._addPlacedIcons=function(a,c,b,e){c=Math.max(b+f.log2(c),0);for(var d=this._markerVertexBuffer,h=this._markerIndexBuffer,g=0;g<a.length;g++){var p=a[g],q=Math.max(b+f.log2(p.minzoom),c),n=Math.min(b+f.log2(p.maxzoom),25);if(!(n<=q)){var m=p.tl,w=p.tr,y=p.bl,u=p.br,t=p.mosaicRect,C=-p.labelAngle,p=p.anchor,A=d.index,B=t.x,G=t.y,N=B+t.width,t=G+t.height;d.add(p.x,p.y,m.x,m.y,B,G,C,q,n,c);d.add(p.x,p.y,w.x,w.y,N,G,C,q,
n,c);d.add(p.x,p.y,y.x,y.y,B,t,C,q,n,c);d.add(p.x,p.y,u.x,u.y,N,t,C,q,n,c);h.add(A+0,A+1,A+2);h.add(A+1,A+2,A+3);this._markerMap.has(e)?this._markerMap.get(e)[1]+=6:this._markerMap.set(e,[this._markerTriangleElementsStart+this._markerTriangleElementsNum/3,6]);this._markerTriangleElementsNum+=6}}};b.prototype._addPlacedGlyphs=function(){var a=this,c=this._textVertexBuffer,b=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(e,f){for(var d=0;d<e.length;d++){var h=e[d],g=c.index;c.add(h.glyphAnchor[0],
h.glyphAnchor[1],h.tl[0],h.tl[1],h.xmin,h.ymin,h.labelAngle,h.minLod,h.maxLod,h.placementLod);c.add(h.glyphAnchor[0],h.glyphAnchor[1],h.tr[0],h.tr[1],h.xmax,h.ymin,h.labelAngle,h.minLod,h.maxLod,h.placementLod);c.add(h.glyphAnchor[0],h.glyphAnchor[1],h.bl[0],h.bl[1],h.xmin,h.ymax,h.labelAngle,h.minLod,h.maxLod,h.placementLod);c.add(h.glyphAnchor[0],h.glyphAnchor[1],h.br[0],h.br[1],h.xmax,h.ymax,h.labelAngle,h.minLod,h.maxLod,h.placementLod);b.add(g+0,g+1,g+2);b.add(g+1,g+2,g+3);a._glyphMap.has(f)?
a._glyphMap.get(f)[1]+=6:a._glyphMap.set(f,[a._textTriangleElementsStart+a._textTriangleElementsNum/3,6]);a._textTriangleElementsNum+=6}});this._glyphBufferDataStorage.clear()};b.prototype._storePlacedGlyphs=function(a,c,b){c=Math.max(b+f.log2(c),0);for(var e=0;e<a.length;e++){var d=a[e],h=Math.max(b+f.log2(d.minzoom),c),g=Math.min(b+f.log2(d.maxzoom),25);if(!(g<=h)){var p=d.tl,q=d.tr,n=d.bl,m=d.br,w=-d.labelAngle,y=d.anchor,t=d.mosaicRect;this._glyphBufferDataStorage.has(d.page)||this._glyphBufferDataStorage.set(d.page,
[]);this._glyphBufferDataStorage.get(d.page).push({glyphAnchor:[y.x,y.y],tl:[p.x,p.y],tr:[q.x,q.y],bl:[n.x,n.y],br:[m.x,m.y],xmin:t.x,ymin:t.y,xmax:t.x+t.width,ymax:t.y+t.height,labelAngle:w,minLod:h,maxLod:g,placementLod:c})}}};b._findAnchors=function(a,b,e){b+=e;for(var h=0,g=a.length-1,p=0;p<g;p++)h+=d.Point.distance(a[p],a[p+1]);p=.5*(e||b);if(h<=p)return[];e=p/h;b=h/Math.max(Math.round(h/b),1);for(var h=0,g=-b/2,q=[],n=a.length-1,p=0;p<n;p++){for(var m=a[p],w=a[p+1],y=w.x-m.x,t=w.y-m.y,C=Math.sqrt(y*
y+t*t),u=void 0;g+b<h+C;){var g=g+b,A=(g-h)/C,B=f.interpolate(m.x,w.x,A),A=f.interpolate(m.y,w.y,A);void 0===u&&(u=Math.atan2(t,y));q.push(new c.Anchor(B,A,u,p,e))}h+=C}return q};b.deviation=function(a,c,b){return Math.atan2((c.x-a.x)*(b.y-c.y)-(c.y-a.y)*(b.x-c.x),(c.x-a.x)*(b.x-c.x)+(c.y-a.y)*(b.y-c.y))};b._honorsTextMaxAngle=function(a,c,b,e,f){var h=0;b/=2;for(var g=new d.Point(c.x,c.y),p=c.segment+1;h>-b;){--p;if(0>p)return!1;h-=d.Point.distance(a[p],g);g=a[p]}h+=d.Point.distance(a[p],a[p+1]);
c=[];for(var g=0,q=a.length;h<b;){var n=a[p],m=void 0;do{++p;if(p===q)return!1;m=a[p]}while(m.isEqual(n));var w=p,y=void 0;do{++w;if(w===q)return!1;y=a[w]}while(y.isEqual(m));n=this.deviation(n,m,y);c.push({deviation:n,distToAnchor:h});for(g+=n;h-c[0].distToAnchor>f;)g-=c.shift().deviation;if(Math.abs(g)>e)return!1;h+=d.Point.distance(m,y)}return!0};b._smoothVertices=function(a,c){if(!(0>=c)){var b=a.length;if(!(3>b)){var e=[],f=0;e.push(0);for(var h=1;h<b;h++)f+=d.Point.distance(a[h],a[h-1]),e.push(f);
c=Math.min(c,.2*f);f=[];f.push(a[0].x);f.push(a[0].y);var g=a[b-1].x,p=a[b-1].y,h=d.Point.sub(a[0],a[1]);h.normalize();a[0].x+=c*h.x;a[0].y+=c*h.y;h.assignSub(a[b-1],a[b-2]);h.normalize();a[b-1].x+=c*h.x;a[b-1].y+=c*h.y;for(h=1;h<b;h++)e[h]+=c;e[b-1]+=c;for(var q=.5*c,h=1;h<b-1;h++){for(var n=0,m=0,w=0,y=h-1;0<=y&&!(e[y+1]<e[h]-q);y--){var C=q+e[y+1]-e[h],t=e[y+1]-e[y],u=e[h]-e[y]<q?1:C/t;if(1E-6>Math.abs(u))break;var B=u*u,H=u*C-.5*B*t,J=u*t/c,N=a[y+1],K=a[y].x-N.x,T=a[y].y-N.y,n=n+J/H*(N.x*u*C+
.5*B*(C*K-t*N.x)-B*u*t*K/3),m=m+J/H*(N.y*u*C+.5*B*(C*T-t*N.y)-B*u*t*T/3),w=w+J}for(y=h+1;y<b&&!(e[y-1]>e[h]+q);y++){C=q-e[y-1]+e[h];t=e[y]-e[y-1];u=e[y]-e[h]<q?1:C/t;if(1E-6>Math.abs(u))break;B=u*u;H=u*C-.5*B*t;J=u*t/c;N=a[y-1];K=a[y].x-N.x;T=a[y].y-N.y;n+=J/H*(N.x*u*C+.5*B*(C*K-t*N.x)-B*u*t*K/3);m+=J/H*(N.y*u*C+.5*B*(C*T-t*N.y)-B*u*t*T/3);w+=J}f.push(n/w);f.push(m/w)}f.push(g);f.push(p);for(y=h=0;h<b;h++)a[h].x=f[y++],a[h].y=f[y++]}}};b._bidiEngine=new e;return b}(b)})},"esri/layers/vectorTiles/views/vectorTiles/Placement":function(){define(["require",
"exports","../2d/engine/webgl/Geometry","./GeometryUtils","./Conflict"],function(m,a,g,n,b){Object.defineProperty(a,"__esModule",{value:!0});m=function(){return function(a,c,b,d,h){void 0===b&&(b=0);void 0===d&&(d=-1);void 0===h&&(h=f);this.x=a;this.y=c;this.angle=b;this.segment=d;this.minzoom=h}}();a.Anchor=m;m=function(){return function(a,c,b){this.glyph=a;this.x=c;this.y=b}}();a.ShapedGlyph=m;var d=function(){return function(a,c,b,d,h,g,m){void 0===h&&(h=!1);void 0===g&&(g=f);void 0===m&&(m=n.C_INFINITY);
this.anchor=a;this.labelAngle=c;this.glyphAngle=b;this.page=d;this.upsideDown=h;this.minzoom=g;this.maxzoom=m}}(),h=function(){return function(a,c,b,f,d,h,g,n,m,A){this.tl=a;this.tr=c;this.bl=b;this.br=f;this.mosaicRect=d;this.labelAngle=h;this.anchor=g;this.minzoom=n;this.maxzoom=m;this.page=A}}();a.PlacedSymbol=h;var c=function(){return function(a,c){this.footprint=a;this.shapes=c}}();a.Placement=c;var f=.5;m=function(){function a(){this.mapAngle=0;this._conflictEngine=new b.ConflictEngine}a.prototype.reset=
function(){this._conflictEngine.reset()};a.prototype.setAngle=function(a){this.mapAngle=a;this._conflictEngine.setAngle(a)};a.prototype.getIconPlacement=function(a,d,p,m,C,B){var e=d.width/d.pixelRatio,q=d.height/d.pixelRatio;m=C.offset[0]-e/2;var y=C.offset[1]-q/2,e=m+e,q=y+q,w=d.rect,D=m-2,v=y-2,x=D+w.width/d.pixelRatio,I=v+w.height/d.pixelRatio;d=new g.Point(D,v);var W=new g.Point(x,I),D=new g.Point(D,I),x=new g.Point(x,v),I=C.rotate*n.C_DEG_TO_RAD,v=1===C.rotationAlignment;0<=a.segment&&!v&&(I+=
a.angle);if(0!==I){var F=Math.cos(I),E=Math.sin(I);d.rotate(F,E);W.rotate(F,E);D.rotate(F,E);x.rotate(F,E)}F=8*C.padding;E=new g.Point(a.x,a.y);a=new b.Footprint(this.mapAngle,F,v);a.addBox(E,new b.Box(m,y,e,q),p,I,f,n.C_INFINITY);p=new h(d,x,D,W,w,0,E,f,n.C_INFINITY,0);p=new c(a,[p]);m=f;C.allowOverlap||(m=this._conflictEngine.getMinZoom(p.footprint,m,B,v));a.minzoom=m;return p};a.prototype.getTextPlacement=function(a,p,m,w,C,B,t,u){for(var e=new g.Point(a.x,a.y),q=t.rotate*n.C_DEG_TO_RAD,y=0===
t.rotationAlignment,v=t.keepUpright,x=f,I=!y,W=I?0:a.angle,F=0<=a.segment&&y,E=new b.Footprint(this.mapAngle,8*t.padding,I),Q=[],O=!F,P=Number.POSITIVE_INFINITY,R=Number.NEGATIVE_INFINITY,S=P,z=R,H=F?v:y&&v,J=[],N,K=0;K<m.length;K++){var T=m[K],U=w[T.glyph];if(U&&!U.rect.isEmpty){var ca=U.rect,fa=U.metrics,da=U.page;O&&(N&&N!==T.y&&(E.addBox(e,new b.Box(P,S,R,z),C,q,f,n.C_INFINITY),P=Number.POSITIVE_INFINITY,R=Number.NEGATIVE_INFINITY,S=P,z=R),N=T.y);var ga=[];if(F){if(U=(p.x+T.x+fa.left-4+.5*U.metrics.width)*
C,x=this._placeGlyph(a,x,U,B,a.segment,1,da,ga),v&&(x=this._placeGlyph(a,x,U,B,a.segment,-1,da,ga)),2<=x)break}else ga.push(new d(e,W,W,da)),y&&v&&ga.push(new d(e,W+n.C_PI,W+n.C_PI,da,!0));for(var da=T.x+p.x+fa.left,T=T.y+p.y-fa.top,U=da+fa.width,fa=T+fa.height,ea=new g.Point(da-4,T-4),Y=new g.Point(ea.x+ca.width,ea.y+ca.height),ha=new g.Point(ea.x,Y.y),X=new g.Point(Y.x,ea.y),ia=0;ia<ga.length;ia++){var Z=ga[ia],ka=ea.clone(),la=ha.clone(),ma=X.clone(),na=Y.clone(),oa=T,ba=fa,L=Z.glyphAngle+q;if(0!==
L){var V=Math.cos(L),k=Math.sin(L);ka.rotate(V,k);na.rotate(V,k);la.rotate(V,k);ma.rotate(V,k)}Q.push(new h(ka,ma,la,na,ca,Z.labelAngle,Z.anchor,Z.minzoom,Z.maxzoom,Z.page));if(!H||this._legible(Z.labelAngle))O?(da<P&&(P=da),oa<S&&(S=oa),U>R&&(R=U),ba>z&&(z=ba)):2>Z.minzoom&&E.addBox(Z.anchor,new b.Box(da,oa,U,ba),C,L,Z.minzoom,Z.maxzoom);J.push(Z)}}}if(2<=x)return null;O&&E.addBox(e,new b.Box(P,S,R,z),C,q,f,n.C_INFINITY);a=new c(E,Q);t.allowOverlap||(x=this._conflictEngine.getMinZoom(a.footprint,
x,u,I));E.minzoom=x;return a};a.prototype.add=function(a){this._conflictEngine.add(a.footprint)};a.prototype._legible=function(a){a=n.radToByte(a);return 65>a||193<=a};a.prototype._placeGlyph=function(a,c,b,f,h,p,m,u){var e=0>p?n.positiveMod(a.angle+n.C_PI,n.C_2PI):a.angle,q=this._legible(e),y=0;0>b&&(p*=-1,b*=-1,y=n.C_PI);0<p&&++h;a=new g.Point(a.x,a.y);var w=f[h],C=n.C_INFINITY;if(f.length<=h)return C;for(;;){var t=w.x-a.x,B=w.y-a.y,F=Math.sqrt(t*t+B*B),E=Math.max(b/F,c),t=n.positiveMod(Math.atan2(B/
F,t/F)+y,n.C_2PI);u.push(new d(a,e,t,m,q,E,C));if(E<=c)return E;a=w.clone();do{h+=p;if(f.length<=h||0>h)return E;w=f[h]}while(a.isEqual(w));C=w.x-a.x;t=w.y-a.y;B=Math.sqrt(C*C+t*t);C*=F/B;t*=F/B;a.x-=C;a.y-=t;C=E}};return a}();a.PlacementEngine=m})},"esri/layers/vectorTiles/views/vectorTiles/Conflict":function(){define(["require","exports","../2d/engine/webgl/Geometry","./GeometryUtils"],function(m,a,g,n){Object.defineProperty(a,"__esModule",{value:!0});m=function(){function a(a,b,d,e){this.left=
a;this.top=b;this.right=d;this.bottom=e}a.prototype.clone=function(){return new a(this.left,this.top,this.right,this.bottom)};a.prototype.move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b};a.prototype.rotate=function(a,b){var c=this.left,f=this.right,d=this.top,h=this.bottom,g=c*a-d*b,n=c*b+d*a,m=f*a-d*b,d=f*b+d*a,t=c*a-h*b,c=c*b+h*a,u=f*a-h*b,f=f*b+h*a;this.left=Math.min(g,m,t,u);this.top=Math.min(n,d,c,f);this.right=Math.max(g,m,t,u);this.bottom=Math.max(n,d,c,f)};a.overlaps=
function(a,b){return a.right>b.left&&a.left<b.right&&a.bottom>b.top&&a.top<b.bottom};return a}();a.Box=m;var b=function(){function a(a,b,d,e){this.anchor=a;this.corners=b;this.minzoom=d;this.maxzoom=e}a.prototype.left=function(){return this.corners[0].x};a.prototype.right=function(){return this.corners[2].x};a.prototype.top=function(){return this.corners[1].y};a.prototype.bottom=function(){return this.corners[3].y};return a}();a.Obstacle=b;m=function(){function a(a,b,h){this.obstacles=[];this.mapAngle=
a;this.padding=b;this.isScreenAligned=h;this.minzoom=d}a.prototype.addBox=function(a,f,d,e,h,n){var c=f.left*d-this.padding,p=f.top*d-this.padding,q=f.right*d+this.padding;f=f.bottom*d+this.padding;c=[new g.Point(c,p),new g.Point(q,p),new g.Point(q,f),new g.Point(c,f)];0!==this.mapAngle&&(p=Math.cos(this.mapAngle),q=Math.sin(this.mapAngle),a=a.clone(),a.rotate(p,q));this.isScreenAligned||(e+=this.mapAngle);if(0!==e){p=Math.cos(e);q=Math.sin(e);c[0].rotate(p,q);c[1].rotate(p,q);c[2].rotate(p,q);c[3].rotate(p,
q);e=0;for(p=1;4>p;p++)c[p].x<c[e].x?e=p:c[p].x===c[e].x&&c[p].y<c[e].y&&(e=p);if(e){q=[];for(p=0;4>p;p++)q.push(c[(p+e)%4]);c=q}}this.obstacles.push(new b(a,c,h,n))};return a}();a.Footprint=m;var d=.5;m=function(){function a(){this._grid=[]}a.prototype.setAngle=function(a){this._angle=a;this._c=Math.cos(a);this._s=Math.sin(a)};a.prototype.reset=function(){this._angle=this._s=0;this._c=1;this._grid=[]};a.prototype.add=function(c){var b=this._grid,d=0;for(c=c.obstacles;d<c.length;d++)for(var e=c[d],
h=e.anchor,g=a._gridClamp(Math.min(e.left()+h.x,h.x)),n=a._gridClamp(Math.max(e.right()+h.x,h.x)),m=a._gridClamp(Math.min(e.top()+h.y,h.y)),h=a._gridClamp(Math.max(e.bottom()+h.y,h.y));m<=h;m++)for(var B=g;B<=n;B++){var t=b[16*m+B];t||(t=b[16*m+B]=[]);t.push(e)}};a.prototype.getMinZoom=function(c,b,d,e){if(0===c.obstacles.length)return n.C_INFINITY;d=this._grid;e=0;for(c=c.obstacles;e<c.length;e++)for(var f=c[e],h=f.anchor,g=a._gridClamp(Math.min(f.left()+h.x,h.x)),p=a._gridClamp(Math.max(f.right()+
h.x,h.x)),m=a._gridClamp(Math.min(f.top()+h.y,h.y)),h=a._gridClamp(Math.max(f.bottom()+h.y,h.y));m<=h;m++)for(var t=g;t<=p;t++){var u=d[16*m+t];if(u)for(var A=0;A<u.length;A++){var G=u[A];if(!(f.minzoom>=G.maxzoom||G.minzoom>=f.maxzoom)&&(b=a._calcPlacementZoom(f,G,b),2<=b))return n.C_INFINITY}}return 2>b?b:n.C_INFINITY};a._gridClamp=function(a){return n.clamp(a>>9,-7,8)};a._calcPlacementZoom=function(c,b,d){var e=b.anchor.x-c.anchor.x;if(0===e&&(c.right()<b.left()||b.right()<c.left()))return d;var f=
b.anchor.y-c.anchor.y;if(0===f&&(c.bottom()<b.top()||b.bottom()<c.top()))return d;var h=n.C_INFINITY;if(0!==e){var g=(0<e?c.right()-b.left():c.left()-b.right())/e;g<h&&(h=g);e=0<e?a._calcExtZoomX(c,b,g):a._calcExtZoomX(b,c,g);e<h&&(h=e)}0!==f&&(e=(0<f?c.bottom()-b.top():c.top()-b.bottom())/f,e<h&&(h=e),f=0<f?a._calcExtZoomY(c,b,e):a._calcExtZoomY(b,c,e),f<h&&(h=f));if(h<c.minzoom||h<b.minzoom)return d;h=Math.min(h,c.maxzoom,b.maxzoom);h<d&&(h=d);return h};a._calcExtZoomX=function(a,b,d){var c,f,h;
if(a.anchor.y+a.corners[2].y/d<b.anchor.y+b.corners[0].y/d){c=a.corners[2].x-a.corners[3].x;h=a.corners[2].y-a.corners[3].y;var g=b.corners[1].x-b.corners[0].x;f=b.corners[1].y-b.corners[0].y;0<=c*f-h*g?a.anchor.y+a.corners[3].y/d<b.anchor.y+b.corners[0].y/d?(d=a.corners[3],c=b.corners[0],f=b.corners[1],h=1):(d=b.corners[0],c=a.corners[3],f=a.corners[2],h=-1):a.anchor.y+a.corners[2].y/d>b.anchor.y+b.corners[1].y/d?(d=a.corners[2],c=b.corners[0],f=b.corners[1],h=1):(d=b.corners[1],c=a.corners[3],f=
a.corners[2],h=-1)}else c=a.corners[2].x-a.corners[1].x,h=a.corners[2].y-a.corners[1].y,g=b.corners[3].x-b.corners[0].x,f=b.corners[3].y-b.corners[0].y,0>c*f-h*g?a.anchor.y+a.corners[1].y/d>b.anchor.y+b.corners[0].y/d?(d=a.corners[1],c=b.corners[0],f=b.corners[3],h=1):(d=b.corners[0],c=a.corners[1],f=a.corners[2],h=-1):a.anchor.y+a.corners[2].y/d<b.anchor.y+b.corners[3].y/d?(d=a.corners[2],c=b.corners[0],f=b.corners[3],h=1):(d=b.corners[3],c=a.corners[1],f=a.corners[2],h=-1);g=f.x-c.x;f=f.y-c.y;return h*
((d.y-c.y)*g-(d.x-c.x)*f)/((a.anchor.x-b.anchor.x)*f-(a.anchor.y-b.anchor.y)*g)};a._calcExtZoomY=function(a,b,d){var c,f,h;if(a.anchor.x+a.corners[3].x/d<b.anchor.x+b.corners[1].x/d){c=a.corners[3].x-a.corners[2].x;h=a.corners[3].y-a.corners[2].y;var g=b.corners[0].x-b.corners[1].x;f=b.corners[0].y-b.corners[1].y;0>c*f-h*g?a.anchor.x+a.corners[2].x/d<b.anchor.x+b.corners[1].x/d?(d=a.corners[2],c=b.corners[1],f=b.corners[0],h=1):(d=b.corners[1],c=a.corners[2],f=a.corners[3],h=-1):a.anchor.x+a.corners[3].x/
d>b.anchor.x+b.corners[0].x/d?(d=a.corners[3],c=b.corners[1],f=b.corners[0],h=1):(d=b.corners[0],c=a.corners[2],f=a.corners[3],h=-1)}else c=a.corners[3].x-a.corners[0].x,h=a.corners[3].y-a.corners[0].y,g=b.corners[2].x-b.corners[1].x,f=b.corners[2].y-b.corners[1].y,0<c*f-h*g?a.anchor.x+a.corners[0].x/d>b.anchor.x+b.corners[1].x/d?(d=a.corners[0],c=b.corners[1],f=b.corners[2],h=1):(d=b.corners[1],c=a.corners[0],f=a.corners[3],h=-1):a.anchor.x+a.corners[3].x/d<b.anchor.x+b.corners[2].x/d?(d=a.corners[3],
c=b.corners[1],f=b.corners[2],h=1):(d=b.corners[2],c=a.corners[0],f=a.corners[3],h=-1);g=f.x-c.x;f=f.y-c.y;return h*((d.y-c.y)*g-(d.x-c.x)*f)/((a.anchor.x-b.anchor.x)*f-(a.anchor.y-b.anchor.y)*g)};return a}();a.ConflictEngine=m})},"esri/layers/vectorTiles/views/vectorTiles/TextShaping":function(){define(["require","exports","./Placement"],function(m,a,g){return function(){function a(a,d,h,c,f,g,e,n){this._glyphItems=a;this._maxWidth=d;this._lineHeight=h;this._letterSpacing=c;this._offset=f;this._hAnchor=
g;this._vAnchor=e;this._justify=n}a.prototype.getShaping=function(a,d){for(var b=this._glyphItems,c=this._letterSpacing,f=this._offset[0],p=this._offset[1],e=[],n=a.length,m=0;m<n;m++){var w=a.charCodeAt(m),C=b[w];C&&(e.push(new g.ShapedGlyph(w,f,p)),f+=C.metrics.advance+c)}if(0<e.length){C=this._maxWidth;b=this._lineHeight;f=this._justify;p=e.length;w=n=c=0;if(0!==C)for(var B=0,t=0,m=0;m<p;m++){var u=e[m];u.x-=t;u.y=d?u.y-b*c:u.y+b*c;if(u.x>C&&0<B){for(var A=e[B+1].x,w=Math.max(A,w),G=B+1;G<=m;G++)e[G].y=
d?e[G].y-b:e[G].y+b,e[G].x-=A;f&&this._applyJustification(e,n,B-1);n=B+1;B=0;t+=A;c++}32===u.glyph&&(B=m)}m=e[p-1];w=Math.max(w,m.x+this._glyphItems[m.glyph].metrics.advance);f&&this._applyJustification(e,n,p-1);m=(f-this._hAnchor)*w;f=(-this._vAnchor*(c+1)+.5)*b;d&&c&&(f+=c*b);for(b=0;b<e.length;b++)c=e[b],c.x+=m,c.y+=f}return e};a.prototype._applyJustification=function(a,d,h){for(var c=a[h],c=(c.x+this._glyphItems[c.glyph].metrics.advance)*this._justify;d<=h;d++)a[d].x-=c};return a}()})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dojo/Stateful"],function(m,a,g){function n(a,f,e,h,g){var k=a;void 0===f&&(f=g.defInFormat);void 0===e&&(e=g.defOutFormat);void 0===h&&(h=g.defSwap);if(f!==e){var l,p=f.substring(0,1);l=f.substring(1,4);var m=e.substring(0,1),q=e.substring(1,4);"C"===l.charAt(0)&&(l=b(k),l="ltr"===l||"rtl"===l?l.toUpperCase():"L"===f.charAt(2)?"LTR":"RTL",f=p+l);"C"===q.charAt(0)&&(l=b(k),"rtl"===l?q="RTL":"ltr"===l?(k=k.split(""),k.reverse(),l=b(k.join("")),q=l.toUpperCase()):q="L"===e.charAt(2)?
"LTR":"RTL",e=m+q)}if(f===e)return a;m=f.substring(0,1);k=f.substring(1,4);p=e.substring(0,1);q=e.substring(1,4);g.inFormat=f;g.outFormat=e;g.swap=h;if("L"===m&&"VLTR"===e){if("LTR"===k)return g.dir=I,d(a,g);if("RTL"===k)return g.dir=W,d(a,g)}if("V"===m&&"V"===p)return g.dir="RTL"===k?W:I,c(a,g);if("L"===m&&"VRTL"===e)return g.dir="LTR"===k?I:W,a=d(a,g),c(a);if("VLTR"===f&&"LLTR"===e)return g.dir=I,d(a,g);if("V"===m&&"L"===p&&k!==q)return a=c(a),"RTL"===k?n(a,"LLTR","VLTR",h,g):n(a,"LRTL","VRTL",
h,g);if("VRTL"===f&&"LRTL"===e)return n(a,"LRTL","VRTL",h,g);if("L"===m&&"L"===p)return f=g.swap,g.swap=f.substr(0,1)+"N","RTL"===k?(g.dir=W,a=d(a,g),g.swap="N"+f.substr(1,2),g.dir=I,a=d(a,g)):(g.dir=I,a=d(a,g),g.swap="N"+f.substr(1,2),a=n(a,"VLTR","LRTL",g.swap,g)),a}function b(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function d(a,c){var b=a.split(""),f=[];h(b,f,c);if(0!==c.hiLevel&&c.swap.substr(0,1)!==c.swap.substr(1,
2))for(var d=0;d<b.length;d++)if(1===f[d]){var g=d,k;b:{k=b[d];for(var l=void 0,p=0,n=Q.length-1;p<=n;)if(l=Math.floor((p+n)/2),k<Q[l][0])n=l-1;else if(k>Q[l][0])p=l+1;else{k=Q[l][1];break b}}b[g]=k}e(2,b,f,c);e(1,b,f,c);G=f;return b.join("")}function h(a,c,b){var f=a.length,d=b.dir?da:fa,e=null,h=null,g=null,e=0,h=h=null,k=-1,l=h=null,p=[],n=[];b.hiLevel=b.dir;b.lastArabic=!1;b.hasUbatAl=!1;b.hasUbatB=!1;b.hasUbatS=!1;for(h=0;h<f;h++){var l=h,g=a[h].charCodeAt(0),m=qa[g>>8];p[l]=m<ba?m:ra[m-ba][g&
255]}for(l=0;l<f;l++){n[l]=h=q(a,p,n,l,b);e=d[e][h];h=e&240;e&=15;c[l]=g=d[e][v];if(0<h){if(16===h)for(h=k;h<l;h++)c[h]=1;k=-1}if(h=d[e][x])-1===k&&(k=l);else if(-1<k){for(h=k;h<l;h++)c[h]=g;k=-1}p[l]===ia&&(c[l]=0);b.hiLevel|=g}if(b.hasUbatS)for(a=0;a<f;a++)if(p[a]===Z)for(c[a]=b.dir,d=a-1;0<=d;d--)if(p[d]===la)c[d]=b.dir;else break}function c(a,c){var b=a.split("");if(c){var f=[];h(b,f,c);G=f}b.reverse();u.reverse();return b.join("")}function f(a){for(var c=0;c<U.length;c++)if(a>=U[c]&&a<=ca[c])return!0;
return!1}function p(a,c,b,d){for(;c*b<d&&w(a[c]);)c+=b;return c*b<d&&f(a[c])?!0:!1}function e(a,c,b,f){if(!(f.hiLevel<a))if(1!==a||f.dir!==W||f.hasUbatB){f=c.length;for(var d=0,e,h,g;d<f;){if(b[d]>=a){for(e=d+1;e<f&&b[e]>=a;)e++;for(h=e-1;d<h;d++,h--)g=c[d],c[d]=c[h],c[h]=g,g=u[d],u[d]=u[h],u[h]=g;d=e}d++}}else c.reverse(),u.reverse()}function q(a,c,b,f,d){return{UBAT_L:function(){d.lastArabic=!1;return ga},UBAT_R:function(){d.lastArabic=!1;return ea},UBAT_ON:function(){return X},UBAT_AN:function(){return ha},
UBAT_EN:function(){return d.lastArabic?ha:Y},UBAT_AL:function(){d.lastArabic=!0;d.hasUbatAl=!0;return ea},UBAT_WS:function(){return X},UBAT_CS:function(){var a,e;if(1>f||f+1>=c.length||(a=b[f-1])!==Y&&a!==ha||(e=c[f+1])!==Y&&e!==ha)return X;d.lastArabic&&(e=ha);return e===a?e:X},UBAT_ES:function(){return(0<f?b[f-1]:ia)===Y&&f+1<c.length&&c[f+1]===Y?Y:X},UBAT_ET:function(){if(0<f&&b[f-1]===Y)return Y;if(d.lastArabic)return X;for(var a=f+1,e=c.length;a<e&&c[a]===ma;)a++;return a<e&&c[a]===Y?Y:X},UBAT_NSM:function(){if("VLTR"===
d.inFormat){for(var e=c.length,h=f+1;h<e&&c[h]===na;)h++;if(h<e&&(e=a[f],h=c[h],(1425<=e&&2303>=e||64286===e)&&(h===ea||h===ka)))return ea}return 1>f||c[f-1]===ia?X:b[f-1]},UBAT_B:function(){d.lastArabic=!0;d.hasUbatB=!0;return d.dir},UBAT_S:function(){d.hasUbatS=!0;return X},UBAT_LRE:function(){d.lastArabic=!1;return X},UBAT_RLE:function(){d.lastArabic=!1;return X},UBAT_LRO:function(){d.lastArabic=!1;return X},UBAT_RLO:function(){d.lastArabic=!1;return X},UBAT_PDF:function(){d.lastArabic=!1;return X},
UBAT_BN:function(){return X}}[oa[c[f]]]()}function y(a,c){for(var b=0;b<S.length;b++)if(a===S[b])return c[b];return a}function w(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function C(a){if("L"===a)return"LTR";if("R"===a)return"RTL";if("C"===a)return"CLR";if("D"===a)return"CRL"}function B(a,c){for(var b=0;b<O.length;b++)if(a===O[b])return c[b];return a}function t(a,c,b,f){for(var d=0;d<a.length;d++)if(a[d]>c||!b&&a[d]===c)a[d]+=f}m.getObject("string",!0,dojox);m=a("dojox.string.BidiEngine",g,{inputFormat:"ILYNN",
outputFormat:"VLNNN",sourceToTarget:[],targetToSource:[],levels:[],bidiTransform:function(a,c,b){this.sourceToTarget=[];this.targetToSource=[];if(!a)return"";var d=this.sourceToTarget,e=this.targetToSource,h=a.length;u=[];G=[];for(var g=0;g<h;g++)d[g]=g,e[g]=g,u[g]=g;if(!this.checkParameters(c,b))return a;c=this.inputFormat;b=this.outputFormat;var d=a,d=D,g=C(c.charAt(1)),e=C(b.charAt(1)),k="I"===c.charAt(0)?"L":c.charAt(0),h="I"===b.charAt(0)?"L":b.charAt(0),g=k+g,e=h+e,h=c.charAt(2)+b.charAt(2);
d.defInFormat=g;d.defOutFormat=e;d.defSwap=h;a=n(a,g,e,h,d);d=!1;if("R"===b.charAt(1))d=!0;else if("C"===b.charAt(1)||"D"===b.charAt(1))d=this.checkContextual(a);e=this.sourceToTarget=u;h=Array(e.length);for(g=0;g<e.length;g++)h[e[g]]=g;A=this.targetToSource=h;if(c.charAt(3)===b.charAt(3))d=a;else if("S"===b.charAt(3))if(c=d,b=!0,0===a.length)d=void 0;else{void 0===c&&(c=!0);void 0===b&&(b=!0);a=String(a);a=a.split("");var l=0,e=1,d=a.length;c||(l=a.length-1,e=-1,d=1);for(var h=d,g=b,m=0,d=[],k=0;l*
e<h;l+=e)if(f(a[l])||w(a[l])){var q;if(q="\u0644"===a[l])b:{for(var r=a,v=l+e,x=e,E=h;v*x<E&&w(r[v]);)v+=x;q=" ";if(v*x<E)for(q=r[v],r=0;r<O.length;r++)if(O[r]===q){q=!0;break b}q=!1}if(q){a[l]=0===m?B(a[l+e],P):B(a[l+e],R);l+=e;m=a;q=l;r=e;for(v=h;q*r<v&&w(m[q]);)q+=r;q*r<v&&(m[q]=" ");g&&(d[k]=l,k++);m=0}else{q=a[l];if(1===m){r=l;if(p(a,l+e,e,h))b:for(v=a[l],x=0;x<S.length;x++){if(v===S[x]){v=J[x];break b}}else v=y(a[l],H);a[r]=v}else!0===p(a,l+e,e,h)?a[l]=y(a[l],N):a[l]=y(a[l],z);w(q)||(m=1);b:{for(r=
0;r<K.length;r++)if(K[r]===q){q=!0;break b}q=!1}!0===q&&(m=0)}}else m=0;e="";for(h=0;h<a.length;h++){if(g=b){b:{for(g=0;g<d.length;g++)if(d[g]===h)break b;g=-1}g=-1<g}g?(t(A,h,!c,-1),u.splice(h,1)):e+=a[h]}d=e}else if(c=a,b=d,a=!0,0===c.length)d=void 0;else for(void 0===a&&(a=!0),void 0===b&&(b=!0),c=String(c),d="",e=[],e=c.split(""),h=0;h<c.length;h++)g=!1,"\ufe70"<=e[h]&&"\ufeff">e[h]?(k=c.charCodeAt(h),"\ufef5"<=e[h]&&"\ufefc">=e[h]?(b?(0<h&&a&&" "===e[h-1]?d=d.substring(0,d.length-1)+"\u0644":
(d+="\u0644",g=!0),d+=O[(k-65269)/2]):(d+=O[(k-65269)/2],d+="\u0644",h+1<c.length&&a&&" "===e[h+1]?h++:g=!0),g&&(t(A,h,!0,1),u.splice(h,0,u[h]))):d+=T[k-65136]):d+=e[h];this.sourceToTarget=u;this.targetToSource=A;this.levels=G;return d},_inputFormatSetter:function(a){if(!F.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a},_outputFormatSetter:function(a){if(!F.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=
a},checkParameters:function(a,c){a?this.set("inputFormat",a):a=this.inputFormat;c?this.set("outputFormat",c):c=this.outputFormat;return a===c?!1:!0},checkContextual:function(a){a=b(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(sa){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a},hasBidiChar:function(a){return E.test(a)}});var u=[],A=[],G=[],D={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,
hasSegSep:!1},v=5,x=6,I=0,W=1,F=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,E=/[\u0591-\u06ff\ufb1d-\ufefc]/,Q=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c",
"\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],O=["\u0622","\u0623","\u0625","\u0627"],P=["\ufef5","\ufef7","\ufef9","\ufefb"],R=["\ufef6","\ufef8","\ufefa","\ufefc"],S="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split(""),
z="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split(""),H="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split(""),
J="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split(""),N="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split(""),
K="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split(""),T="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
U=["\u0621","\u0641"],ca=["\u063a","\u064a"],fa=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],da=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ga=0,ea=1,Y=2,ha=3,X=4,ia=5,Z=6,ka=7,la=8,ma=11,na=12,oa="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" "),ba=100;a=ga;g=ea;var L=Y,V=ha,k=X,ja=ia,pa=Z,l=ka,aa=la,M=
ma,r=na,qa=[ba+0,a,a,a,a,ba+1,ba+2,ba+3,g,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,ba+4,k,k,k,a,k,a,k,a,k,k,k,a,a,k,k,a,a,a,a,a,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,a,a,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,a,a,k,k,a,a,k,k,a,a,k,k,k,k,k,k,k,k,k,k,k,k,
k,k,k,k,k,k,k,k,k,k,k,a,a,a,ba+5,l,l,ba+6,ba+7],ra=[[18,18,18,18,18,18,18,18,18,pa,ja,pa,aa,ja,18,18,18,18,18,18,18,18,18,18,18,18,18,18,ja,ja,ja,pa,aa,k,k,M,M,M,k,k,k,k,k,10,9,10,9,9,L,L,L,L,L,L,L,L,L,L,9,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,18,18,18,18,18,18,ja,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,k,M,M,M,M,k,k,k,k,a,k,k,18,k,k,M,M,L,L,k,a,k,k,k,L,a,k,k,k,
k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,a,a,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,a,a,a,a,a,a,a,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,a,k,k,k,k,k,k,k,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,
r,r,r,r,r,r,g,r,g,r,r,g,r,r,g,r,k,k,k,k,k,k,k,k,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,k,k,k,k,k,g,g,g,g,g,k,k,k,k,k,k,k,k,k,k,k],[V,V,V,V,k,k,k,k,l,M,M,l,9,l,k,k,r,r,r,r,r,r,r,r,r,r,r,l,k,k,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,V,V,V,V,V,V,V,V,V,V,M,V,V,l,l,l,r,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,
l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,r,r,r,r,r,r,r,V,k,r,r,r,r,r,r,l,l,r,r,k,r,r,r,r,l,l,L,L,L,L,L,L,L,L,L,L,l,l,l,l,l,l],[l,l,l,l,l,l,l,l,l,l,l,l,l,l,k,l,l,r,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,k,k,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,r,r,r,r,r,r,
r,r,r,r,r,l,k,k,k,k,k,k,k,k,k,k,k,k,k,k,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,r,r,r,r,r,r,r,r,r,g,g,k,k,k,k,g,k,k,k,k,k],[aa,aa,aa,aa,aa,aa,aa,aa,aa,aa,aa,18,18,18,a,g,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,aa,ja,13,14,15,16,17,9,M,M,M,M,M,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,9,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,aa,18,18,18,18,18,k,k,k,k,k,18,18,18,18,18,18,L,a,k,k,L,L,L,L,L,L,10,10,k,k,k,a,L,L,L,L,L,L,L,L,L,L,10,10,k,k,k,k,a,a,a,
a,a,a,a,a,a,a,a,a,a,k,k,k,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[a,a,a,a,a,a,a,k,k,k,k,k,k,k,k,k,k,k,k,a,a,a,a,a,k,k,k,k,k,g,r,g,g,g,g,g,g,g,g,g,g,10,g,g,g,g,g,g,g,g,g,g,g,g,g,k,g,g,g,g,g,k,g,k,g,g,k,g,g,k,g,g,g,g,g,g,g,g,g,g,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,
l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l],[r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,r,r,r,r,r,r,r,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,9,k,9,k,k,9,k,k,k,k,k,k,k,k,k,M,k,k,10,10,k,k,k,k,k,M,M,k,k,k,k,k,l,l,l,l,l,k,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,
l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,k,k,18],[k,k,k,M,M,M,k,k,k,k,k,10,9,10,9,9,L,L,L,L,L,L,L,L,L,L,9,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,k,k,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,k,k,k,a,a,a,a,a,a,k,k,a,a,a,a,a,a,k,k,a,a,a,a,a,a,k,k,a,a,a,k,k,k,M,M,k,k,k,M,M,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k]];return m})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(m,a,g,n){return m("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;return b[a]?
b[a]:b[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,d){return"function"===typeof this[d.g]?this[d.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,d){if("object"===typeof a){for(var b in a)a.hasOwnProperty(b)&&"_watchCallbacks"!=b&&this.set(b,a[b]);return this}b=this._getAttrNames(a);var c=this._get(a,b);b=this[b.s];var f;"function"===typeof b?f=b.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=d;
if(this._watchCallbacks){var g=this;n(f,function(){g._watchCallbacks(a,c,d)})}return this},_changeAttrValue:function(a,d){var b=this.get(a);this[a]=d;this._watchCallbacks&&this._watchCallbacks(a,b,d);return this},watch:function(a,d){var b=this._watchCallbacks;if(!b)var c=this,b=this._watchCallbacks=function(a,d,f,h){var e=function(b){if(b){b=b.slice();for(var e=0,h=b.length;e<h;e++)b[e].call(c,a,d,f)}};e(b["_"+a]);h||e(b["*"])};d||"function"!==typeof a?a="_"+a:(d=a,a="*");var f=b[a];"object"!==typeof f&&
(f=b[a]=[]);f.push(d);var p={};p.unwatch=p.remove=function(){var a=g.indexOf(f,d);-1<a&&f.splice(a,1)};return p}})})},"esri/layers/vectorTiles/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./Geometry","./GeometryUtils"],function(m,a,g,n){Object.defineProperty(a,"__esModule",{value:!0});var b=function(){return function(a,c,b){this.ratio=a;this.x=c;this.y=b}}();m=function(){function a(a,b,d,e,h){void 0===e&&(e=8);void 0===h&&(h=8);this.lines=[];this.starts=[];this.pixelRatio=
e;this.pixelMargin=h;this.tileSize=512*e;this.dz=a;this.yPos=b;this.xPos=d}a.prototype.setExtent=function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var c=this.pixelRatio*this.pixelMargin,c=c/this.finalRatio;a>>=this.dz;c>a&&(c=a);this.margin=c;this.xmin=a*this.xPos-c;this.ymin=a*this.yPos-c;this.xmax=this.xmin+a+2*c;this.ymax=this.ymin+a+2*c};a.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};a.prototype.moveTo=function(a,b){this._pushLine();
this._prevIsIn=this._isIn(a,b);this._moveTo(a,b,this._prevIsIn);this._prevPt=new g.Point(a,b);this._firstPt=new g.Point(a,b);this._dist=0};a.prototype.lineTo=function(a,d){var c=this._isIn(a,d),e=new g.Point(a,d),f=g.Point.distance(this._prevPt,e),h,m,n,B,t;if(c)this._prevIsIn?this._lineTo(a,d,!0):(h=this._prevPt,m=e,n=this._intersect(m,h),this.start=this._dist+f*(1-this._r),this._lineTo(n.x,n.y,!0),this._lineTo(m.x,m.y,!0));else if(this._prevIsIn)m=this._prevPt,h=e,n=this._intersect(m,h),this._lineTo(n.x,
n.y,!0),this._lineTo(h.x,h.y,!1);else{var u=this._prevPt;if(!(u.x<=this.xmin&&e.x<=this.xmin||u.x>=this.xmax&&e.x>=this.xmax||u.y<=this.ymin&&e.y<=this.ymin||u.y>=this.ymax&&e.y>=this.ymax)){h=[];if(u.x<this.xmin&&e.x>this.xmin||u.x>this.xmin&&e.x<this.xmin)m=(this.xmin-u.x)/(e.x-u.x),t=u.y+m*(e.y-u.y),t<=this.ymin?B=!1:t>=this.ymax?B=!0:h.push(new b(m,this.xmin,t));if(u.x<this.xmax&&e.x>this.xmax||u.x>this.xmax&&e.x<this.xmax)m=(this.xmax-u.x)/(e.x-u.x),t=u.y+m*(e.y-u.y),t<=this.ymin?B=!1:t>=this.ymax?
B=!0:h.push(new b(m,this.xmax,t));if(u.y<this.ymin&&e.y>this.ymin||u.y>this.ymin&&e.y<this.ymin)m=(this.ymin-u.y)/(e.y-u.y),t=u.x+m*(e.x-u.x),t<=this.xmin?n=!1:t>=this.xmax?n=!0:h.push(new b(m,t,this.ymin));if(u.y<this.ymax&&e.y>this.ymax||u.y>this.ymax&&e.y<this.ymax)m=(this.ymax-u.y)/(e.y-u.y),t=u.x+m*(e.x-u.x),t<=this.xmin?n=!1:t>=this.xmax?n=!0:h.push(new b(m,t,this.ymax));if(0===h.length)n?B?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):B?this._lineTo(this.xmin,this.ymax,
!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<h.length&&h[0].ratio>h[1].ratio)this.start=this._dist+f*h[1].ratio,this._lineTo(h[1].x,h[1].y,!0),this._lineTo(h[0].x,h[0].y,!0);else for(this.start=this._dist+f*h[0].ratio,m=0;m<h.length;m++)this._lineTo(h[m].x,h[m].y,!0)}this._lineTo(e.x,e.y,!1)}this._dist+=f;this._prevIsIn=c;this._prevPt=e};a.prototype.close=function(){var a,b;0<this.line.length&&(a=this._firstPt,b=this._prevPt,a.x===b.x&&a.y===b.y||this.lineTo(a.x,a.y),a=this.line,b=a.length,
4<=b&&(a[0].x===a[1].x&&a[0].x===a[b-2].x||a[0].y===a[1].y&&a[0].y===a[b-2].y)&&(a.pop(),a[0].x=a[b-2].x,a[0].y=a[b-2].y))};a.prototype.result=function(){this._pushLine();if(0===this.lines.length)return null;3===this.type&&d.simplify(this.margin*this.finalRatio,this.lines);return this.lines};a.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,b=a.length;if(0===b)return null;for(var d=[],e=0;e<b;e++)d.push({line:a[e],start:this.starts[e]||
0});return d};a.prototype._isIn=function(a,b){return a>=this.xmin&&a<=this.xmax&&b>=this.ymin&&b<=this.ymax};a.prototype._intersect=function(a,b){var c,d,f;if(b.x>=this.xmin&&b.x<=this.xmax)d=b.y<=this.ymin?this.ymin:this.ymax,f=(d-a.y)/(b.y-a.y),c=a.x+f*(b.x-a.x);else if(b.y>=this.ymin&&b.y<=this.ymax)c=b.x<=this.xmin?this.xmin:this.xmax,f=(c-a.x)/(b.x-a.x),d=a.y+f*(b.y-a.y);else{d=b.y<=this.ymin?this.ymin:this.ymax;c=b.x<=this.xmin?this.xmin:this.xmax;var h=(c-a.x)/(b.x-a.x),m=(d-a.y)/(b.y-a.y);
h<m?(f=h,d=a.y+h*(b.y-a.y)):(f=m,c=a.x+m*(b.x-a.x))}this._r=f;return new g.Point(c,d)};a.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};a.prototype._moveTo=function(a,b,d){3!==this.type?d&&(a=Math.round((a-
(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new g.Point(a,b))):(d||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new g.Point(a,b)),this._is_v=this._is_h=!1)};a.prototype._lineTo=function(a,b,d){if(3!==this.type)if(d){a=Math.round((a-(this.xmin+
this.margin))*this.finalRatio);b=Math.round((b-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(d=this.line[this.line.length-1],d.equals(a,b)))return;this.line.push(new g.Point(a,b))}else this.line&&0<this.line.length&&this._pushLine();else if(d||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line&&
0<this.line.length){d=this.line[this.line.length-1];var c=d.x===a,f=d.y===b;c&&f||(this._is_h&&c?(d.x=a,d.y=b,d=this.line[this.line.length-2],this._is_h=d.x===a,this._is_v=d.y===b):this._is_v&&f?(d.x=a,d.y=b,d=this.line[this.line.length-2],this._is_h=d.x===a,this._is_v=d.y===b):(this.line.push(new g.Point(a,b)),this._is_h=c,this._is_v=f))}else this.line.push(new g.Point(a,b))};return a}();a.TileClipper=m;m=function(){function a(){}a.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};a.prototype.reset=
function(a){this.type=a;this.lines=[];this.line=null};a.prototype.moveTo=function(a,b){this.line&&this.lines.push(this.line);this.line=[];var c=this._ratio;this.line.push(new g.Point(Math.round(a*c),Math.round(b*c)))};a.prototype.lineTo=function(a,b){var c=this._ratio;this.line.push(new g.Point(Math.round(a*c),Math.round(b*c)))};a.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};a.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;
3===this.type&&1!==this._ratio&&d.simplify(64,this.lines);return this.lines};return a}();a.SimpleBuilder=m;var d=function(){function a(){}a.simplify=function(b,d){if(d){for(var c=-b,e=4096+b,f=-b,h=4096+b,g=[],m=[],n=d.length,t=0;t<n;++t){var u=d[t];if(u&&!(2>u.length))for(var A=u[0],G=void 0,D=u.length,v=1;v<D;++v)G=u[v],A.x===G.x&&(A.x<=c&&(A.y>G.y?(g.push(t),g.push(v),g.push(0),g.push(-1)):(m.push(t),m.push(v),m.push(0),m.push(-1))),A.x>=e&&(A.y<G.y?(g.push(t),g.push(v),g.push(1),g.push(-1)):(m.push(t),
m.push(v),m.push(1),m.push(-1)))),A.y===G.y&&(A.y<=f&&(A.x<G.x?(g.push(t),g.push(v),g.push(2),g.push(-1)):(m.push(t),m.push(v),m.push(2),m.push(-1))),A.y>=h&&(A.x>G.x?(g.push(t),g.push(v),g.push(3),g.push(-1)):(m.push(t),m.push(v),m.push(3),m.push(-1)))),A=G}0!==g.length&&0!==m.length&&(a.fillParent(d,m,g),a.fillParent(d,g,m),c=[],a.calcDeltas(c,m,g),a.calcDeltas(c,g,m),a.addDeltas(c,d))}};a.fillParent=function(a,b,d){for(var c=d.length,f=b.length,h=0;h<f;h+=4){for(var g=b[h],m=b[h+1],p=b[h+2],t=
a[g][m-1],g=a[g][m],m=8092,u=-1,A=0;A<c;A+=4)if(d[A+2]===p){var G=d[A],D=d[A+1],v=a[G][D-1],G=a[G][D];switch(p){case 0:case 1:n.between(t.y,v.y,G.y)&&n.between(g.y,v.y,G.y)&&(v=Math.abs(G.y-v.y),v<m&&(m=v,u=A));break;case 2:case 3:n.between(t.x,v.x,G.x)&&n.between(g.x,v.x,G.x)&&(v=Math.abs(G.x-v.x),v<m&&(m=v,u=A))}}b[h+3]=u}};a.calcDeltas=function(b,d,h){for(var c=d.length,f=0;f<c;f+=4){var g=a.calcDelta(f,d,h,[]);b.push(d[f]);b.push(d[f+1]);b.push(d[f+2]);b.push(g)}};a.calcDelta=function(b,d,h,e){b=
d[b+3];if(-1===b)return 0;var c=e.length;if(1<c&&e[c-2]===b)return 0;e.push(b);return a.calcDelta(b,h,d,e)+1};a.addDeltas=function(a,b){for(var c=a.length,d=0,f=0;f<c;f+=4){var h=a[f+3];h>d&&(d=h)}for(f=0;f<c;f+=4){var g=b[a[f]],m=a[f+1],h=d-a[f+3];switch(a[f+2]){case 0:g[m-1].x-=h;g[m].x-=h;break;case 1:g[m-1].x+=h;g[m].x+=h;break;case 2:g[m-1].y-=h;g[m].y-=h;break;case 3:g[m-1].y+=h,g[m].y+=h}}c=b.length;for(d=0;d<c;++d)g=b[d],!g||2>g.length||g[g.length-1].x!==g[0].x&&g[g.length-1].y!==g[0].y&&
g.push(g[0])};return a}()})},"esri/layers/vectorTiles/views/2d/engine/webgl/GeometryUtils":function(){define(["require","exports"],function(m,a){function g(a,d){a%=d;return 0<=a?a:a+d}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var n=1/Math.LN2;a.positiveMod=
g;a.radToByte=function(b){return g(b*a.C_RAD_TO_256,256)};a.degToByte=function(b){return g(b*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*n};a.sqr=function(a){return a*a};a.clamp=function(a,d,h){return Math.min(Math.max(a,d),h)};a.interpolate=function(a,d,h){return a*(1-h)+d*h};a.between=function(a,d,h){return a>=d&&a<=h||a>=h&&a<=d}})},"esri/layers/vectorTiles/views/vectorTiles/style/StyleRepository":function(){define(["require","exports","./StyleLayer","dojo/has"],function(m,a,g,n){return function(){function a(b,
h){this.styleJSON=b;this.version=parseFloat(b.version);this.sprite=h?h.spriteUrl:b.sprite;this.glyphs=h?h.glyphsUrl:b.glyphs;if(n("stable-symbol-rendering")){var c=(b.layers||[]).filter(function(a){return a.layout&&a.layout["text-font"]})[0];c&&(b.layers||[]).forEach(function(a){a.layout&&a.layout["text-font"]&&(a.layout["text-font"]=c.layout["text-font"])})}this.layers=(b.layers||[]).map(a._create);this._identifyRefLayers()}a.prototype._identifyRefLayers=function(){for(var a=[],b=[],c=0,f=this.layers;c<
f.length;c++){var g=f[c];if(1===g.type){var e=g.sourceLayer,e=e+("|"+JSON.stringify(g.minzoom)),e=e+("|"+JSON.stringify(g.maxzoom)),e=e+("|"+JSON.stringify(g.filter));a.push({key:e,layer:g})}2===g.type&&(e=g.sourceLayer,e+="|"+JSON.stringify(g.minzoom),e+="|"+JSON.stringify(g.maxzoom),e+="|"+JSON.stringify(g.filter),e+="|"+JSON.stringify(g.layout&&g.layout["line-cap"]),e+="|"+JSON.stringify(g.layout&&g.layout["line-join"]),b.push({key:e,layer:g}))}this._assignRefLayers(a);this._assignRefLayers(b)};
a.prototype._assignRefLayers=function(a){a.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var b,c,d=a.length,g=0;g<d;g++){var e=a[g];if(e.key===b)e.layer.refLayerId=c;else if(b=e.key,c=e.layer.id,1===e.layer.type&&!e.layer.hasPaintProperty("fill-outline-color"))for(var m=g+1;m<d;m++){var n=a[m];if(n.key===b){if(n.layer.hasPaintProperty("fill-outline-color")){a[g]=n;a[m]=e;c=n.layer.id;break}}else break}}};a._create=function(a,b,c){b=1-1/(c.length+1)*(1+b);switch(a.type){case "background":return new g.StyleLayer(0,
a,b);case "fill":return new g.StyleLayer(1,a,b);case "line":return new g.StyleLayer(2,a,b);case "symbol":return new g.StyleLayer(3,a,b);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":throw Error("Unsupported vector tile circle layer");}throw Error("Unknown vector tile layer");};return a}()})},"*now":function(m){m(['dojo/i18n!*preload*esri/layers/vectorTiles/core/workers/nls/worker-init*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("esri/layers/vectorTiles/core/workers/worker-init",[],1);